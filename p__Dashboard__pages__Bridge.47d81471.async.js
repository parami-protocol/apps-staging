(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[5808],{55133:function(E){E.exports={modal:"modal___1O81X",codeInput:"codeInput___1b6is",verifyForm:"verifyForm___3o9Cw",highLight:"highLight___wTtyW",verifyInput:"verifyInput___29jF0",buttons:"buttons___2s-8l",button:"button___13mjZ",title:"title___35CCk",confirmContainer:"confirmContainer___3-95Y",alertContainer:"alertContainer___HBKri",field:"field___mBf3w",labal:"labal___1ZC5A",small:"small___1qvTc",labalIcon:"labalIcon___Wx-BW",value:"value___16uzM"}},31639:function(E){E.exports={ad3:"ad3___22MgQ",unit:"unit___UR_Yf"}},3778:function(E){E.exports={addressContainer:"addressContainer___6KKsj",ethLogo:"ethLogo___2CFry",ethLogoImg:"ethLogoImg___HRF52",currentAddress:"currentAddress___PFX7-",prefix:"prefix___peVe8",address:"address___jGccQ"}},76705:function(E){E.exports={loginCard:"loginCard___29ISC",title:"title___1Nywl",appList:"appList___3WcLg",appItem:"appItem___3n4xF",appIcon:"appIcon___3I5gJ",info:"info___AECmK",name:"name___1p-lf",icon:"icon___3Ijcm",desc:"desc___1DhqV",rightArrow:"rightArrow___Np2km",getWallet:"getWallet___3Nr1f",modalContainer:"modalContainer___2uiYJ",logo:"logo___3P-qd"}},28633:function(E){E.exports={selectContainer:"selectContainer___1_GbB",selectHeader:"selectHeader___9PjRk",selectHeaderSectionTitle:"selectHeaderSectionTitle___2UWhg",fromNetwork:"fromNetwork___3jU-L",fromNetworkIcon:"fromNetworkIcon___39QEQ",selectWrapper:"selectWrapper___3-vMT",selectItem:"selectItem___3K2bP",itemInfo:"itemInfo___5kjKy",itemInfoIcon:"itemInfoIcon___1gcUp",itemNameSymbol:"itemNameSymbol___1Vl81",itemName:"itemName___2dXQJ",itemSymbol:"itemSymbol___3oD6j",itemBalance:"itemBalance___36hic"}},57129:function(E){E.exports={bridgeContainer:"bridgeContainer___KUa_y",leftContainer:"leftContainer___BhZ7T",innerWrapper:"innerWrapper___bZZx8",description:"description___3-8tl",points:"points___35dws",bottomSection:"bottomSection___3tOew",background:"background___8FvqH",rightContainer:"rightContainer___SWVmp",bridgeTabs:"bridgeTabs___1q5d5",bridgeTabsItem:"bridgeTabsItem___2dz-9",active:"active___1gpqP",bridgeBody:"bridgeBody___K06_-",fromLabel:"fromLabel___36_v-",toLabel:"toLabel___nk7uU",destinationLabel:"destinationLabel___2BpNo",formSection:"formSection___38r3Z",chainAndBalanceDetails:"chainAndBalanceDetails___2tWhw",tokenAndAmountDetails:"tokenAndAmountDetails___2QCCc",tokenDetails:"tokenDetails___5YGpq",chainIcon:"chainIcon___1kqp4",tokenDetailsTokenName:"tokenDetailsTokenName___2ZJGy",tokenDetailsArrow:"tokenDetailsArrow___1MP8-",amountDetails:"amountDetails___1ebLK",amountDetailsMaxButton:"amountDetailsMaxButton___1FzoW",downArrowSection:"downArrowSection___2uyH-",toChainAndBalanceDetails:"toChainAndBalanceDetails___16F2K",chainDetails:"chainDetails___1CxCG",chainDetailsChainName:"chainDetailsChainName___25YMo",balanceDetails:"balanceDetails___3lQpW",balanceDetailsLabel:"balanceDetailsLabel___39XMY",balanceDetailsBalance:"balanceDetailsBalance___1gKPg",transferButton:"transferButton___1hXV4",destinationDetails:"destinationDetails___Ut9dq",destinationMyAddressButton:"destinationMyAddressButton___5f5Zy",processContainer:"processContainer___3kyyc",title:"title___32jxA",cardContainer:"cardContainer___2qpms",listHash:"listHash___3ya_j",field:"field___vgM6V",value:"value___1DSzY"}},24787:function(E){E.exports={mainContainer:"mainContainer___VzUCC",mainBgContainer:"mainBgContainer___2Nlq7",mainIndexContainer:"mainIndexContainer___1Mqvq",background:"background___25786",logoMark:"logoMark___153gX",mainTopContainer:"mainTopContainer___2Cw6K",pageContainer:"pageContainer___2ssxe",stepContainer:"stepContainer___LPJXV",contentContainer:"contentContainer___2e-al",badge:"badge___3vf4B",dashboardCard:"dashboardCard___3oOcj",windowCard:"windowCard___3FjX2",windowCardBody:"windowCardBody___2zSRs",field:"field___3q5d2",title:"title___1BPSo",value:"value___1TvCY",rowField:"rowField___1vUg5",switchButton:"switchButton___3EjXy",statistic:"statistic___2TWER",modalBody:"modalBody___3SJQA",dividerTitle:"dividerTitle___1UTj3",table:"table___1zfPw",withAfterInput:"withAfterInput___3UZxJ",tabSelector:"tabSelector___2tj32",tabItem:"tabItem___3ymbk",inactive:"inactive___12iuZ",noAssets:"noAssets___FcwbD",topImage:"topImage___mHPfd"}},69764:function(E,$,a){"use strict";var he=a(71194),z=a(50146),j=a(57663),m=a(71577),l=a(402),b=a(3887),P=a(67294),W=a(55133),C=a.n(W),D=a(54549),n=a(85893),h=b.Z.Title,f=function(B){var me=B.visable,s=B.title,Me=B.content,_e=B.footer,y=B.close,q=B.bodyStyle;return(0,n.jsx)(z.Z,{title:s?(0,n.jsx)(h,{level:3,className:C().title,children:s}):null,closable:!!y,closeIcon:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(m.Z,{shape:"circle",size:"middle",type:"ghost",icon:(0,n.jsx)(D.Z,{onClick:y})})}),className:C().modal,centered:!0,visible:me,width:650,footer:_e,bodyStyle:q,children:Me})};$.Z=f},3548:function(E,$,a){"use strict";var he=a(67294),z=a(31639),j=a.n(z),m=a(96534),l=a(85893),b=function(W){var C=W.value,D=W.style;return(0,l.jsxs)("div",{className:j().ad3,style:D,children:[C?(0,m.MP)(C):"--",(0,l.jsx)("span",{className:j().unit,children:"\xA0$AD3"})]})};$.Z=b},47515:function(E,$,a){"use strict";var he=a(12968),z=a(62462),j=a(67294),m=a(3778),l=a.n(m),b=a(43581),P=a(85893),W=function(){var D=(0,b.tT)("web3"),n=D.Account;return(0,P.jsx)(P.Fragment,{children:n&&(0,P.jsxs)("div",{className:l().addressContainer,children:[(0,P.jsxs)("div",{className:l().ethLogo,children:[(0,P.jsx)(z.Z,{src:"/images/crypto/eth-circle.svg",preview:!1,className:l().ethLogoImg}),"ETH Address"]}),(0,P.jsxs)("div",{className:l().currentAddress,children:[(0,P.jsx)("span",{className:l().prefix,children:"Current Address:"}),(0,P.jsx)("span",{className:l().address,children:n})]})]})})};$.Z=W},38655:function(E,$,a){"use strict";var he=a(58024),z=a(39144),j=a(57663),m=a(71577),l=a(48736),b=a(27049),P=a(3182),W=a(402),C=a(3887),D=a(94043),n=a.n(D),h=a(67294),f=a(43581),de=a(24787),B=a.n(de),me=a(76705),s=a.n(me),Me=a(8812),_e=a(89583),y=a(85893),q=function(){var g=(0,f.tT)("web3"),o=g.connect,d=(0,f.YB)(),i=C.Z.Title;return(0,y.jsx)("div",{className:B().mainContainer,children:(0,y.jsx)("div",{className:B().contentContainer,children:(0,y.jsxs)(z.Z,{className:s().loginCard,bodyStyle:{padding:32,width:"100%"},children:[(0,y.jsx)(i,{level:4,className:s().title,children:d.formatMessage({id:"dashboard.bridge.login",defaultMessage:"Login"})}),(0,y.jsx)("div",{className:s().appList,children:(0,y.jsxs)("div",{className:s().appItem,onClick:(0,P.Z)(n().mark(function t(){return n().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o();case 2:case"end":return r.stop()}},t)})),children:[(0,y.jsx)("div",{className:s().info,children:(0,y.jsxs)("span",{className:s().name,children:[(0,y.jsx)(_e.OZg,{className:s().icon}),"Connect Wallet"]})}),(0,y.jsx)(Me.Z,{className:s().rightArrow})]})}),(0,y.jsx)(b.Z,{}),(0,y.jsxs)("div",{className:s().getWallet,children:[d.formatMessage({id:"dashboard.bridge.dontHaveWallet",defaultMessage:"Don't have wallet?"}),(0,y.jsx)(m.Z,{type:"link",size:"middle",children:d.formatMessage({id:"dashboard.bridge.downloadHere",defaultMessage:"Download here"})})]})]})})})};$.Z=q},35928:function(E,$,a){"use strict";a.r($),a.d($,{default:function(){return ga}});var he=a(20228),z=a(11382),j=a(22385),m=a(31097),l=a(12968),b=a(62462),P=a(35556),W=a(97880),C=a(402),D=a(3887),n=a(2824),h=a(67294),f=a(43581),de=a(24787),B=a.n(de),me=a(57129),s=a.n(me),Me=a(94184),_e=a.n(Me),y=a(57663),q=a(71577),$e=a(47673),g=a(32787),o=a(91220),d=a(74379),i=a(38648),t=a(3182),c=a(94043),r=a.n(c),T=a(57254),S=a(21059),I=a(49101),J=a(2593),v=a(7290),x=a(77616),Le=a(6221),Ae={bridge:{destId:0,destinationChainId:233,address:"0xDb59E0cA1644D1F93D1b85261c0D414656bA98F9"},resource:{id:"0x000000000000000000000000000000a56889c89dddcbb363cbd6a8d11de9e100"},ERC20HandlerContract:{address:"0xDcBa51799a9d411Af5400e760573aBbf3611d725"}},M=a(3548),oe=a(59749),ea=a(96534),aa=a(60058),sa=a(28633),O=a.n(sa),Qe=a(69764),e=a(85893),na=function(p){var K=p.selectModal,ee=p.setSelectModal,ne=p.chain,k=(0,f.tT)("web3"),V=k.ChainName,te=(0,f.YB)();return(0,e.jsx)(Qe.Z,{title:void 0,visable:K,content:(0,e.jsxs)("div",{className:O().selectContainer,children:[(0,e.jsx)("div",{className:O().selectHeader,children:(0,e.jsx)("div",{className:O().selectHeaderSectionTitle,children:te.formatMessage({id:"dashboard.bridge.selectToken",defaultMessage:"Select a token from {chain}"},{chain:ne==="ethereum"?(0,e.jsxs)("div",{className:O().fromNetwork,children:[(0,e.jsx)(b.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:O().fromNetworkIcon}),(0,e.jsx)("span",{className:O().chainDetailsChainName,children:V})]}):(0,e.jsxs)("div",{className:O().fromNetwork,children:[(0,e.jsx)(b.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:O().fromNetworkIcon}),(0,e.jsx)("span",{className:O().chainDetailsChainName,children:"Parami chain"})]})})})}),(0,e.jsx)("div",{className:O().selectWrapper,children:(0,e.jsxs)("div",{className:O().selectItem,children:[(0,e.jsxs)("div",{className:O().itemInfo,children:[(0,e.jsx)(b.Z,{src:"/images/crypto/usdt-circle.svg",preview:!1,className:O().itemInfoIcon}),(0,e.jsxs)("div",{className:O().itemNameSymbol,children:[(0,e.jsx)("div",{className:O().itemName,children:"USDT"}),(0,e.jsx)("div",{className:O().itemSymbol,children:"Tether USD"})]})]}),(0,e.jsx)("div",{className:O().itemBalance,children:"0"})]})})]}),footer:!1,close:function(){ee(!1)},bodyStyle:{padding:0}})},Ye=na,ta=a(48764).Buffer,ra=function(p){var K=p.setLoading,ee=p.setStep,ne=p.setETHHash,k=p.setParamiHash,V=(0,f.tT)("apiWs"),te=(0,f.tT)("currentUser"),N=te.dashboard,ge=(0,f.tT)("web3"),re=ge.Account,Ee=ge.ChainName,pe=ge.Provider,G=ge.Signer,ce=(0,f.tT)("dashboard.paramiEvents"),je=ce.Events,De=ce.SubParamiEvents,H=(0,f.tT)("dashboard.bridgeEvents"),be=H.DataHash,Be=H.SubBridgeEvents,Q=H.UnsubBridgeEvents,Y=(0,f.tT)("dashboard.balance"),R=Y.balance,L=(0,f.tT)("contracts"),ae=L.Ad3Contract,A=L.BridgeContract,ie=(0,h.useState)(""),Ue=(0,n.Z)(ie,2),Pe=Ue[0],we=Ue[1],Ke=(0,h.useState)(BigInt(0)),Te=(0,n.Z)(Ke,2),ke=Te[0],He=Te[1],Ce=(0,h.useState)(""),Se=(0,n.Z)(Ce,2),xe=Se[0],Ie=Se[1],ye=(0,h.useState)(!1),Oe=(0,n.Z)(ye,2),Re=Oe[0],Ze=Oe[1],ze=(0,h.useState)(""),We=(0,n.Z)(ze,2),X=We[0],Fe=We[1],Ge=(0,h.useState)(!1),se=(0,n.Z)(Ge,2),le=se[0],ve=se[1],ue=(0,f.YB)(),u,pa=function(U,w){return"".concat(U.event.section,":").concat(U.event.method)==="chainBridge:ProposalSucceeded"&&BigInt(U.event.data[1].toString())===w},Da=function(){var F=(0,t.Z)(r().mark(function U(){var w;return r().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!pe||!G)){Z.next=2;break}return Z.abrupt("return");case 2:return Z.prev=2,Z.next=5,ae==null?void 0:ae.balanceOf(re);case 5:w=Z.sent,we(J.O$.from(w).toString()),Z.next=12;break;case 9:Z.prev=9,Z.t0=Z.catch(2),i.default.error({message:Z.t0.message||Z.t0,duration:null});case 12:case"end":return Z.stop()}},U,null,[[2,9]])}));return function(){return F.apply(this,arguments)}}(),ba=function(){var F=(0,t.Z)(r().mark(function U(){var w,Ne,Z,Ve,qe;return r().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(!pe||!G)){_.next=2;break}return _.abrupt("return");case 2:if(w=X,!(X.indexOf("did:ad3")>-1)){_.next=15;break}return _.prev=4,_.next=7,(0,aa.Ob)(X);case 7:Ne=_.sent,Ne||i.default.error({message:"Invalid DID",duration:null}),w=Ne.account,_.next=15;break;case 12:_.prev=12,_.t0=_.catch(4),i.default.error({message:_.t0.message||_.t0,duration:null});case 15:return w="0x".concat(ta.from((0,Le.m)(w)).toString("hex")),Z="0x"+v.$m(J.O$.from(x.vz(xe,18)).toHexString(),32).substring(2)+v.$m(v.Dv((w.length-2)/2),32).substring(2)+w.substring(2),_.prev=17,K(!0),_.next=21,ae==null?void 0:ae.approve(Ae.ERC20HandlerContract.address,J.O$.from(x.vz(xe.toString(),18)));case 21:return _.next=23,_.sent.wait();case 23:return _.next=25,A==null?void 0:A.deposit(Ae.bridge.destinationChainId,Ae.resource.id,Z);case 25:return _.next=27,_.sent.wait();case 27:return Ve=_.sent,qe=BigInt(Ve.logs[2].topics[3]),He(qe),ee(2),Ze(!0),_.next=34,De();case 34:u=_.sent,A?Be(A):i.default.error({message:"No bridge contract"}),_.next=43;break;case 39:_.prev=39,_.t1=_.catch(17),i.default.error({message:_.t1.message||_.t1,duration:null}),K(!1);case 43:case"end":return _.stop()}},U,null,[[4,12],[17,39]])}));return function(){return F.apply(this,arguments)}}();return(0,h.useEffect)(function(){if(Re){var F=(0,o.Z)(je),U;try{for(F.s();!(U=F.n()).done;){var w=U.value;console.log("event","".concat(w.event.section,":").concat(w.event.method)),pa(w,ke)&&(Ze(!1),ee(3),u(),i.default.success({message:"Deposit Success"}),k(w.transactionHash),be&&ne(be),A&&Q(A))}}catch(Ne){F.e(Ne)}finally{F.f()}}},[je,ke,Re]),(0,h.useEffect)(function(){!re||!ae||V&&Da()},[G,pe,ae,re,V]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:s().fromLabel,children:ue.formatMessage({id:"dashboard.bridge.from",defaultMessage:"From"})}),(0,e.jsxs)("div",{className:s().formSection,children:[(0,e.jsxs)("div",{className:s().chainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(b.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:Ee})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[ue.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(m.Z,{placement:"top",title:(0,oe.mI)(Pe,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(M.Z,{value:Pe})})})]})]}),(0,e.jsxs)("div",{className:s().tokenAndAmountDetails,children:[(0,e.jsxs)("div",{className:s().tokenDetails,onClick:function(){ve(!0)},children:[(0,e.jsx)(b.Z,{src:"/images/logo-round-core.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().tokenDetailsTokenName,children:"AD3"}),(0,e.jsx)(T.Z,{className:s().tokenDetailsArrow})]}),(0,e.jsxs)("div",{className:s().amountDetails,children:[(0,e.jsx)(g.Z,{placeholder:"0.00",type:"number",size:"large",value:xe,onChange:function(U){Ie(U.target.value)}}),(0,e.jsx)(q.Z,{className:s().amountDetailsMaxButton,type:"link",size:"small",onClick:function(){Ie((0,oe.mI)(Pe,18))},children:ue.formatMessage({id:"dashboard.bridge.max",defaultMessage:"MAX"})})]})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(S.Z,{})}),(0,e.jsx)("div",{className:s().toLabel,children:ue.formatMessage({id:"dashboard.bridge.to",defaultMessage:"To"})}),(0,e.jsxs)("div",{className:s().toChainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(b.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:"Parami chain"})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[ue.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(m.Z,{placement:"top",title:(0,oe.mI)(R==null?void 0:R.total,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(M.Z,{value:R==null?void 0:R.total})})})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)("div",{className:s().destinationLabel,children:ue.formatMessage({id:"dashboard.bridge.destinationAddress",defaultMessage:"Destination Address"})}),(0,e.jsxs)("div",{className:s().destinationDetails,children:[(0,e.jsx)(g.Z,{placeholder:"did:ad3:......",type:"text",size:"large",value:X,onChange:function(U){Fe(U.target.value)}}),(0,e.jsx)(q.Z,{className:s().destinationMyAddressButton,type:"default",size:"small",onClick:function(){Fe((0,ea.st)(N.did))},children:ue.formatMessage({id:"dashboard.bridge.me",defaultMessage:"ME"})})]}),(0,e.jsx)(q.Z,{block:!0,type:"primary",size:"large",shape:"round",className:s().transferButton,onClick:function(){ba()},disabled:!xe||!X||(0,oe.HM)(xe,18)<=BigInt(0),children:ue.formatMessage({id:"dashboard.bridge.transfer",defaultMessage:"Transfer"})}),(0,e.jsx)(Ye,{selectModal:le,setSelectModal:ve,chain:"ethereum"})]})},ia=ra,Ma=a(34792),la=a(48086),da=a(81773),oa=a(81603),ca=function(){var fe=(0,t.Z)(r().mark(function p(K,ee,ne){var k,V;return r().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,da.R0)(K.meta.source);case 2:return k=N.sent,V=window.apiWs.tx.xAssets.transferNative(ee,ne,Ae.bridge.destId),N.next=6,(0,oa.u)(V,k,K);case 6:return N.abrupt("return",N.sent);case 7:case"end":return N.stop()}},p)}));return function(K,ee,ne){return fe.apply(this,arguments)}}(),ua=function(p){return/^0x[a-fA-F0-9]{40}$/.test(p)},Ea=function(p){return/^(bc1|[13])[a-zA-HJ-NP-Z0-9]{25,39}$/.test(p)},ja=function(p){try{return encodeAddress(isHex(p)?hexToU8a(p):decodeAddress(p)),!0}catch(K){return!1}},ma=function(p){var K=p.setLoading,ee=p.setStep,ne=p.setETHHash,k=p.setParamiHash,V=(0,f.tT)("apiWs"),te=(0,f.tT)("web3"),N=te.Account,ge=te.ChainName,re=te.Provider,Ee=te.Signer,pe=(0,f.tT)("currentUser"),G=pe.dashboard,ce=(0,f.tT)("dashboard.bridgeEvents"),je=ce.DepositNonce,De=ce.DataHash,H=ce.SubBridgeEvents,be=ce.UnsubBridgeEvents,Be=(0,f.tT)("dashboard.balance"),Q=Be.balance,Y=(0,f.tT)("contracts"),R=Y.Ad3Contract,L=Y.BridgeContract,ae=(0,h.useState)(""),A=(0,n.Z)(ae,2),ie=A[0],Ue=A[1],Pe=(0,h.useState)(BigInt(0)),we=(0,n.Z)(Pe,2),Ke=we[0],Te=we[1],ke=(0,h.useState)(""),He=(0,n.Z)(ke,2),Ce=He[0],Se=He[1],xe=(0,h.useState)(),Ie=(0,n.Z)(xe,2),ye=Ie[0],Oe=Ie[1],Re=(0,h.useState)(!1),Ze=(0,n.Z)(Re,2),ze=Ze[0],We=Ze[1],X=(0,f.YB)(),Fe=function(){var se=(0,t.Z)(r().mark(function le(){var ve;return r().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(!re||!Ee)){u.next=2;break}return u.abrupt("return");case 2:return u.prev=2,u.next=5,R==null?void 0:R.balanceOf(N);case 5:ve=u.sent,Ue(J.O$.from(ve).toString()),u.next=12;break;case 9:u.prev=9,u.t0=u.catch(2),i.default.error({message:u.t0.message||u.t0,duration:null});case 12:case"end":return u.stop()}},le,null,[[2,9]])}));return function(){return se.apply(this,arguments)}}(),Ge=function(){var se=(0,t.Z)(r().mark(function le(){var ve;return r().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(!re||!Ee)){u.next=2;break}return u.abrupt("return");case 2:if(ua(ye)){u.next=6;break}return la.default.error("Please input ETH Address!"),K(!1),u.abrupt("return");case 6:return u.prev=6,K(!0),u.next=10,ca(JSON.parse(G.accountMeta),(0,oe.HM)(Ce,18).toString(),ye);case 10:ve=u.sent,Te(BigInt(ve.chainBridge.FungibleTransfer[0][1])),k(ve.chainBridge.FungibleTransfer[0][0]),ee(2),L?H(L):i.default.error({message:"No bridge contract"}),u.next=22;break;case 18:u.prev=18,u.t0=u.catch(6),i.default.error({message:u.t0.message||u.t0,duration:null}),K(!1);case 22:case"end":return u.stop()}},le,null,[[6,18]])}));return function(){return se.apply(this,arguments)}}();return(0,h.useEffect)(function(){je===Ke&&(ee(3),Te(BigInt(0)),i.default.success({message:"Withdraw Success"}),De&&ne(De),L&&be(L))},[L,je,be,Ke,De]),(0,h.useEffect)(function(){!N||!R||V&&Fe()},[Ee,re,R,N,V]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:s().fromLabel,children:X.formatMessage({id:"dashboard.bridge.from",defaultMessage:"From"})}),(0,e.jsxs)("div",{className:s().formSection,children:[(0,e.jsxs)("div",{className:s().chainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(b.Z,{src:"/images/logo-core-colored-fit-into-round.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:"Parami chain"})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[X.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(m.Z,{placement:"top",title:(0,oe.mI)(Q==null?void 0:Q.total,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(M.Z,{value:Q==null?void 0:Q.total})})})]})]}),(0,e.jsxs)("div",{className:s().tokenAndAmountDetails,children:[(0,e.jsxs)("div",{className:s().tokenDetails,onClick:function(){We(!0)},children:[(0,e.jsx)(b.Z,{src:"/images/logo-round-core.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().tokenDetailsTokenName,children:"AD3"}),(0,e.jsx)(T.Z,{className:s().tokenDetailsArrow})]}),(0,e.jsxs)("div",{className:s().amountDetails,children:[(0,e.jsx)(g.Z,{placeholder:"0.00",type:"number",size:"large",value:Ce,onChange:function(le){Se(le.target.value)}}),(0,e.jsx)(q.Z,{className:s().amountDetailsMaxButton,type:"link",size:"small",onClick:function(){Se((0,oe.mI)(Q==null?void 0:Q.total,18))},children:X.formatMessage({id:"dashboard.bridge.max",defaultMessage:"MAX"})})]})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(S.Z,{})}),(0,e.jsx)("div",{className:s().toLabel,children:X.formatMessage({id:"dashboard.bridge.to",defaultMessage:"To"})}),(0,e.jsxs)("div",{className:s().toChainAndBalanceDetails,children:[(0,e.jsxs)("div",{className:s().chainDetails,children:[(0,e.jsx)(b.Z,{src:"/images/crypto/ethereum-eth-logo.svg",preview:!1,className:s().chainIcon}),(0,e.jsx)("span",{className:s().chainDetailsChainName,children:ge})]}),(0,e.jsxs)("div",{className:s().balanceDetails,children:[(0,e.jsxs)("span",{className:s().balanceDetailsLabel,children:[X.formatMessage({id:"dashboard.bridge.balance",defaultMessage:"Balance"}),":"]}),(0,e.jsx)(m.Z,{placement:"top",title:(0,oe.mI)(ie,18),children:(0,e.jsx)("span",{className:s().balanceDetailsBalance,children:(0,e.jsx)(M.Z,{value:ie})})})]})]}),(0,e.jsx)("div",{className:s().downArrowSection,children:(0,e.jsx)(I.Z,{})}),(0,e.jsx)("div",{className:s().destinationLabel,children:X.formatMessage({id:"dashboard.bridge.destinationAddress",defaultMessage:"Destination Address"})}),(0,e.jsxs)("div",{className:s().destinationDetails,children:[(0,e.jsx)(g.Z,{placeholder:"0x......",type:"text",size:"large",value:ye,onChange:function(le){Oe(le.target.value)}}),(0,e.jsx)(q.Z,{className:s().destinationMyAddressButton,type:"default",size:"small",onClick:function(){Oe(N)},children:X.formatMessage({id:"dashboard.bridge.me",defaultMessage:"ME"})})]}),(0,e.jsx)(q.Z,{block:!0,type:"primary",size:"large",shape:"round",className:s().transferButton,onClick:function(){Ge()},disabled:!Ce||!ye||(0,oe.HM)(Ce,18)<=BigInt(0)||(0,oe.HM)(Ce,18)>BigInt(ie),children:X.formatMessage({id:"dashboard.bridge.transfer",defaultMessage:"Transfer"})}),(0,e.jsx)(Ye,{selectModal:ze,setSelectModal:We,chain:"parami"})]})},va=ma,ha=a(47515),_a=a(38655),Xe=a(7085),Je=a(51625),fa=function(){var p=(0,f.tT)("web3"),K=p.Account,ee=(0,h.useState)("deposit"),ne=(0,n.Z)(ee,2),k=ne[0],V=ne[1],te=(0,h.useState)(!1),N=(0,n.Z)(te,2),ge=N[0],re=N[1],Ee=(0,h.useState)(1),pe=(0,n.Z)(Ee,2),G=pe[0],ce=pe[1],je=(0,h.useState)(),De=(0,n.Z)(je,2),H=De[0],be=De[1],Be=(0,h.useState)(),Q=(0,n.Z)(Be,2),Y=Q[0],R=Q[1],L=(0,f.YB)(),ae=D.Z.Title,A=W.Z.Step;return(0,e.jsxs)(e.Fragment,{children:[K?(0,e.jsx)("div",{className:B().mainBgContainer,children:(0,e.jsxs)("div",{className:B().contentContainer,children:[(0,e.jsx)(ha.Z,{}),(0,e.jsxs)("div",{className:s().bridgeContainer,children:[(0,e.jsxs)("div",{className:s().leftContainer,children:[(0,e.jsxs)("div",{className:s().innerWrapper,children:[(0,e.jsx)(ae,{level:2,children:L.formatMessage({id:"dashboard.bridge.title",defaultMessage:"Parami Bridge"})}),(0,e.jsx)("span",{className:s().description,children:L.formatMessage({id:"dashboard.bridge.description",defaultMessage:"The safe, fast and most secure way to bring cross-chain assets to Parami chain."})}),(0,e.jsxs)("div",{className:s().points,children:[(0,e.jsx)("a",{children:L.formatMessage({id:"dashboard.bridge.howItWorks",defaultMessage:"How it works?"})}),(0,e.jsx)("a",{children:L.formatMessage({id:"dashboard.bridge.faq",defaultMessage:"FAQ"})}),(0,e.jsx)("a",{children:L.formatMessage({id:"dashboard.bridge.userGuide",defaultMessage:"User guide"})})]})]}),(0,e.jsx)("div",{className:s().bottomSection,children:(0,e.jsx)(b.Z,{src:"/images/background/chainbridge.svg",preview:!1,className:s().background})})]}),(0,e.jsxs)("div",{className:s().rightContainer,children:[(0,e.jsxs)("div",{className:s().bridgeTabs,children:[(0,e.jsx)("div",{className:_e()(s().bridgeTabsItem,k==="deposit"?s().active:""),onClick:function(){return V("deposit")},children:L.formatMessage({id:"dashboard.bridge.deposit",defaultMessage:"Deposit"})}),(0,e.jsx)("div",{className:_e()(s().bridgeTabsItem,k==="withdraw"?s().active:""),onClick:function(){return V("withdraw")},children:L.formatMessage({id:"dashboard.bridge.withdraw",defaultMessage:"Withdraw"})})]}),(0,e.jsxs)("div",{className:s().bridgeBody,children:[k==="deposit"&&(0,e.jsx)(ia,{setLoading:re,setStep:ce,setETHHash:be,setParamiHash:R}),k==="withdraw"&&(0,e.jsx)(va,{setLoading:re,setStep:ce,setETHHash:be,setParamiHash:R})]})]})]})]})}):(0,e.jsx)(_a.Z,{}),(0,e.jsx)(Qe.Z,{visable:ge,content:(0,e.jsxs)("div",{className:s().processContainer,children:[k==="deposit"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(W.Z,{progressDot:!0,size:"small",current:G,children:[(0,e.jsx)(A,{title:"Enter information"}),(0,e.jsx)(A,{title:"Ethereum chain"}),(0,e.jsx)(A,{title:"Parami chain"}),(0,e.jsx)(A,{title:"Tokens transferred"})]}),(0,e.jsxs)("div",{className:s().title,children:[G===1&&(0,e.jsx)("span",{children:"Ethereum chain"}),G===2&&(0,e.jsx)("span",{children:"Parami chain"}),G===3&&(0,e.jsx)("span",{children:"Tokens transferred"})]}),(0,e.jsx)("div",{className:s().cardContainer,children:H&&Y?(0,e.jsxs)("div",{className:s().listHash,children:[(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"Parami chain"}),(0,e.jsx)("span",{className:s().value,onClick:function(){window.open("".concat(Je.Z.explorer.block,"/").concat(Y),"_blank")},children:(0,e.jsx)(m.Z,{placement:"topLeft",title:Y,children:Y})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"ETH chain"}),(0,e.jsx)("span",{className:s().value,onClick:function(){window.open("https://etherscan.io/tx/".concat(H),"_blank")},children:(0,e.jsx)(m.Z,{placement:"topLeft",title:H,children:H})})]})]}):(0,e.jsx)(z.Z,{indicator:(0,e.jsx)(Xe.Z,{style:{fontSize:24},spin:!0}),tip:"Transfering..."})})]}),k==="withdraw"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(W.Z,{progressDot:!0,size:"small",current:G,children:[(0,e.jsx)(A,{title:"Enter information"}),(0,e.jsx)(A,{title:"Parami chain"}),(0,e.jsx)(A,{title:"Ethereum chain"}),(0,e.jsx)(A,{title:"Tokens transferred"})]}),(0,e.jsxs)("div",{className:s().title,children:[G===1&&(0,e.jsx)("span",{children:"Parami chain"}),G===2&&(0,e.jsx)("span",{children:"Ethereum chain"}),G===3&&(0,e.jsx)("span",{children:"Tokens transferred"})]}),(0,e.jsx)("div",{className:s().cardContainer,children:H&&Y?(0,e.jsxs)("div",{className:s().listHash,children:[(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"Parami chain"}),(0,e.jsx)("span",{className:s().value,onClick:function(){window.open("".concat(Je.Z.explorer.block,"/").concat(Y),"_blank")},children:(0,e.jsx)(m.Z,{placement:"topLeft",title:Y,children:Y})})]}),(0,e.jsxs)("div",{className:s().field,children:[(0,e.jsx)("span",{className:s().title,children:"ETH chain"}),(0,e.jsx)("span",{className:s().value,onClick:function(){window.open("https://etherscan.io/tx/".concat(H),"_blank")},children:(0,e.jsx)(m.Z,{placement:"topLeft",title:H,children:H})})]})]}):(0,e.jsx)(z.Z,{indicator:(0,e.jsx)(Xe.Z,{style:{fontSize:24},spin:!0}),tip:"Transfering..."})})]})]}),footer:!1,close:H&&Y?function(){re(!1)}:void 0})]})},ga=fa},47832:function(E,$,a){"use strict";a.d($,{QM:function(){return b},Gh:function(){return P}});var he=a(74379),z=a(38648),j=a(81354),m=a.n(j),l=function(C){var D=C;if(D===""||D===void 0||!D){z.default.error({message:"Wrong Password",duration:null});return}var n=D.length%4;n=4-n;for(var h=0;h<n;h+=1)D=D.concat("p");return D},b=function(C,D){var n=l(C);if(!(n==null||!n)){var h=m().enc.Utf8.parse(n),f=m().enc.Utf8.parse(n),de=m().enc.Utf8.parse(D),B=m().AES.encrypt(de,h,{keySize:128/8,iv:f,mode:m().mode.CBC,padding:m().pad.Pkcs7});return B.ciphertext.toString()}},P=function(C,D){var n=l(C);if(!(n==null||!n)){var h=m().enc.Utf8.parse(n),f=m().enc.Utf8.parse(n),de=m().enc.Hex.parse(D),B=m().enc.Base64.stringify(de),me=m().AES.decrypt(B,h,{keySize:128/8,iv:f,mode:m().mode.CBC,padding:m().pad.Pkcs7});return me.toString(m().enc.Utf8)}}},60058:function(E,$,a){"use strict";a.d($,{kp:function(){return h},Bc:function(){return f},Rg:function(){return de},RA:function(){return B},sG:function(){return me},dr:function(){return s},qy:function(){return Me},wz:function(){return _e},Lu:function(){return y},Ob:function(){return q},UB:function(){return $e}});var he=a(8870),z=a(2824),j=a(3182),m=a(94043),l=a.n(m),b=a(96534),P=a(55347),W=a(46312),C=a(47832),D=a(81603),n=new P.ZP({type:"sr25519"}),h=function(){var g=(0,j.Z)(l().mark(function o(){var d;return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,W._)(12);case 2:return d=t.sent,t.abrupt("return",{mnemonic:d});case 4:case"end":return t.stop()}},o)}));return function(){return g.apply(this,arguments)}}(),f=function(){var g=(0,j.Z)(l().mark(function o(d,i){var t;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t="",t=(0,C.QM)(i,d),r.abrupt("return",{keystore:t});case 3:case"end":return r.stop()}},o)}));return function(d,i){return g.apply(this,arguments)}}(),de=function(){var g=(0,j.Z)(l().mark(function o(d){var i;return l().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=n.createFromUri(d),c.abrupt("return",{address:i.address});case 2:case"end":return c.stop()}},o)}));return function(d){return g.apply(this,arguments)}}(),B=function(){var g=(0,j.Z)(l().mark(function o(d){var i;return l().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,window.apiWs.query.did.didOf(d);case 2:if(i=c.sent,!i.isEmpty){c.next=5;break}return c.abrupt("return",null);case 5:return c.abrupt("return",i.toHuman().toString());case 6:case"end":return c.stop()}},o)}));return function(d){return g.apply(this,arguments)}}(),me=function(){var g=(0,j.Z)(l().mark(function o(d,i,t,c){var r,T,S,I;return l().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,window.apiWs.tx.did.register(null);case 2:if(r=v.sent,!(t&&c)){v.next=8;break}return v.next=6,r.paymentInfo(c);case 6:return T=v.sent,v.abrupt("return",T);case 8:if(S=(0,C.Gh)(d,i),!(S==null||!S)){v.next=11;break}return v.abrupt("return");case 11:return I=n.createFromUri(S),v.next=14,(0,D.Y)(r,I);case 14:return v.abrupt("return",v.sent);case 15:case"end":return v.stop()}},o)}));return function(d,i,t,c){return g.apply(this,arguments)}}(),s=function(){var g=(0,j.Z)(l().mark(function o(d,i,t,c,r,T){var S,I,J,v,x,Le;return l().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,window.apiWs.tx.did.setMetadata("name",d);case 2:return S=M.sent,M.next=5,window.apiWs.tx.did.setMetadata("pic",i);case 5:return I=M.sent,M.next=8,window.apiWs.tx.utility.batch([S,I]);case 8:if(J=M.sent,!(r&&T)){M.next=14;break}return M.next=12,J.paymentInfo(T);case 12:return v=M.sent,M.abrupt("return",v);case 14:if(x=(0,C.Gh)(t,c),!(x==null||!x)){M.next=17;break}throw new Error("Wrong password");case 17:return Le=n.createFromUri(x),M.next=20,(0,D.Y)(J,Le);case 20:return M.abrupt("return",M.sent);case 21:case"end":return M.stop()}},o)}));return function(d,i,t,c,r,T){return g.apply(this,arguments)}}(),Me=function(){var g=(0,j.Z)(l().mark(function o(d){var i;return l().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return i=n.createFromUri(d),c.abrupt("return",{address:i.address});case 2:case"end":return c.stop()}},o)}));return function(d){return g.apply(this,arguments)}}(),_e=function(){var g=(0,j.Z)(l().mark(function o(){var d;return l().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.apiWs.consts.balances.existentialDeposit;case 2:return d=t.sent,t.abrupt("return",d.toString());case 4:case"end":return t.stop()}},o)}));return function(){return g.apply(this,arguments)}}(),y=function(){var g=(0,j.Z)(l().mark(function o(d){var i,t;return l().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,window.apiWs.query.system.account(d);case 2:if(t=r.sent,!t.isEmpty){r.next=5;break}return r.abrupt("return",!1);case 5:if(((i=t.toHuman())===null||i===void 0?void 0:i.nonce)!==0){r.next=7;break}return r.abrupt("return",!1);case 7:return r.abrupt("return",!0);case 8:case"end":return r.stop()}},o)}));return function(d){return g.apply(this,arguments)}}(),q=function(){var g=(0,j.Z)(l().mark(function o(d){var i,t,c,r,T,S,I;return l().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return i=(0,b.Zc)(d),v.next=3,window.apiWs.query.did.metadata(i);case 3:if(t=v.sent,t.isEmpty){v.next=13;break}return c=t.toHuman(),v.next=8,window.apiWs.rpc.did.batchGetMetadata(d,["pic","name"]);case 8:return r=v.sent,T=(0,z.Z)(r,2),S=T[0],I=T[1],v.abrupt("return",(0,he.Z)((0,he.Z)({},c),{},{avatar:S,nickname:I}));case 13:return v.abrupt("return",null);case 14:case"end":return v.stop()}},o)}));return function(d){return g.apply(this,arguments)}}(),$e=function(){var g=(0,j.Z)(l().mark(function o(d,i,t,c,r){var T,S,I,J;return l().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(T=window.apiWs.tx.did.setMetadata("name",d),!(c&&r)){x.next=6;break}return x.next=4,T.paymentInfo(r);case 4:return S=x.sent,x.abrupt("return",S);case 6:if(I=(0,C.Gh)(i,t),!(I==null||!I)){x.next=9;break}throw new Error("Wrong password");case 9:return J=n.createFromUri(I),x.next=12,(0,D.Y)(T,J);case 12:return x.abrupt("return",x.sent);case 13:case"end":return x.stop()}},o)}));return function(d,i,t,c,r){return g.apply(this,arguments)}}()},80950:function(){},96419:function(){},56353:function(){},8623:function(){},42480:function(){},7748:function(){},56619:function(){},77108:function(){},55024:function(){}}]);
