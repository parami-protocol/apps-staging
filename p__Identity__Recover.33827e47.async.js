(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[7317],{78256:function(re){re.exports={field:"field___21P8B",topIcon:"topIcon___2feHU",title:"title___2lv3m",listBtn:"listBtn___ZklYc",value:"value___2tC7P",description:"description___1Zm7_",recoveryLinkContainer:"recoveryLinkContainer___1gf4v",seedPhrase:"seedPhrase___6WKE4",singlePhrase:"singlePhrase___1Wsek",singlePhraseIndex:"singlePhraseIndex___MB3DK",singlePhraseWord:"singlePhraseWord___2ZcCQ",copyButton:"copyButton___1L3lB",recoveryLinkSpinWrapper:"recoveryLinkSpinWrapper___10d5q",buttons:"buttons___1Iocf",button:"button___139kU",link:"link___ONM3m",codeInput:"codeInput___1qEMw",verifyForm:"verifyForm___2rtdl",highLight:"highLight___cDLIk",verifyInput:"verifyInput___3Kj9u",exchanges:"exchanges___2CaMl",socialButtons:"socialButtons___KyyfR",stepContainer:"stepContainer___UdUnF"}},54014:function(re,j,r){"use strict";var I=r(58024),v=r(39144),c=r(57106),m=r(99683),i=r(12968),K=r(62462),ae=r(67294),L=r(43581),C=r(55909),f=r.n(C),l=r(85893),w=window.navigator.userAgent.toLowerCase(),k=/iphone|ipod|ipad/.test(w),B=/android|adr/.test(w),N=function(){var ie=(0,L.YB)();return(0,l.jsx)(v.Z,{className:f().card,children:(0,l.jsx)(m.ZP,{icon:(0,l.jsxs)(l.Fragment,{children:[k&&(0,l.jsx)(K.Z,{src:"/images/icon/safari_logo.svg",preview:!1,style:{width:120,height:120}}),B&&(0,l.jsx)(K.Z,{src:"/images/icon/chrome_logo.svg",preview:!1,style:{width:120,height:120}})]}),title:"Not Supported",subTitle:ie.formatMessage({id:"error.broswer.notSupport"})})})};j.Z=N},81351:function(re,j,r){"use strict";r.r(j),r.d(j,{default:function(){return fe}});var I=r(2824),v=r(67294),c=r(43581),m=r(55909),i=r.n(m),K=r(54014),ae=r(58024),L=r(39144),C=r(20228),f=r(11382),l=r(57663),w=r(71577),k=r(47673),B=r(32787),N=r(48736),Q=r(27049),ie=r(74379),z=r(38648),te=r(3182),ce=r(402),ue=r(3887),de=r(94043),d=r.n(de),t=r(78256),n=r.n(t),s=r(60058),e=r(85893),a=function(A){var H=A.mnemonic,x=A.setStep,F=A.setAccount,Y=A.setDID,V=A.setMnemonic,R=(0,c.tT)("apiWs"),ne=(0,v.useState)(!0),$=(0,I.Z)(ne,2),J=$[0],Z=$[1],X=ue.Z.Title,O=(0,c.YB)(),U=c.m8.location.hash,S=U==null?void 0:U.substring(1),b="";if(S)if(S.indexOf(";")>-1){var q,se=S.split(";");b=(q=se[1])===null||q===void 0?void 0:q.replace(/%20/g," "),V(b)}else b=S==null?void 0:S.replace(/%20/g," "),V(b);var ee=function(){var G=(0,te.Z)(d().mark(function W(){var y,D,le,P;return d().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return Z(!0),h.prev=1,h.next=4,(0,s.qy)(H);case 4:return y=h.sent,D=y.address,F(D),h.next=9,(0,s.Lu)(D);case 9:if(le=h.sent,le){h.next=14;break}return z.default.error({key:"identitynotFound",message:O.formatMessage({id:"error.identity.notFound"})}),Z(!1),h.abrupt("return");case 14:return h.next=17,(0,s.RA)(D);case 17:if(P=h.sent,P!==null){h.next=22;break}return z.default.error({key:"identitynotFound",message:O.formatMessage({id:"error.identity.notFound"}),duration:null}),Z(!1),h.abrupt("return");case 22:return Y(P),localStorage.setItem("parami:wallet:account",D),localStorage.setItem("parami:wallet:did",P),x(2),Z(!1),h.abrupt("return");case 30:return h.prev=30,h.t0=h.catch(1),z.default.error({key:"identitynotFound",message:O.formatMessage({id:"error.identity.notFound"}),duration:null}),Z(!1),h.abrupt("return");case 35:case"end":return h.stop()}},W,null,[[1,30]])}));return function(){return G.apply(this,arguments)}}();return(0,v.useEffect)(function(){if(!!R){if(Z(!1),!!U&&!S){z.default.error({key:"recoveryLinkError",message:O.formatMessage({id:"error.identity.incorrectRecoveryLink"}),duration:null});return}U&&ee()}},[R,U,H]),(0,e.jsx)(L.Z,{className:i().card,children:(0,e.jsxs)(f.Z,{size:"large",tip:O.formatMessage({id:"common.loading"}),spinning:J||!R,style:{display:"flex",maxHeight:"100%"},children:[(0,e.jsx)("img",{src:"/images/icon/mnemonic.svg",className:n().topIcon}),(0,e.jsx)(X,{className:n().title,children:O.formatMessage({id:"identity.inputMnemonic.title"})}),(0,e.jsx)("p",{className:n().description,children:O.formatMessage({id:"identity.inputMnemonic.description"})}),(0,e.jsx)(Q.Z,{}),(0,e.jsxs)("div",{className:n().field,children:[(0,e.jsx)(X,{level:4,children:O.formatMessage({id:"identity.inputMnemonic.inputURL"})}),(0,e.jsx)(B.Z,{size:"large",bordered:!0,onChange:function(W){var y=W.target.value.indexOf(" ")>-1?W.target.value:null;y&&(b=y,V(y))},disabled:J,placeholder:"Enter your mnemonic likes apple banana orange..."})]}),(0,e.jsx)("div",{className:n().buttons,children:(0,e.jsx)(w.Z,{type:"primary",shape:"round",size:"large",className:n().button,loading:J,onClick:function(){ee()},children:O.formatMessage({id:"common.confirm"})})})]})})},u=a,M=r(96534),_=r(47832),E=r(51625),T=function(A){var H=A.mnemonic,x=A.passphrase,F=A.account,Y=A.did,V=A.setPassphrase,R=(0,c.tT)("apiWs"),ne=(0,c.tT)("@@initialState"),$=ne.initialState,J=ne.refresh,Z=(0,v.useState)(!1),X=(0,I.Z)(Z,2),O=X[0],U=X[1],S=(0,c.YB)(),b=ue.Z.Title,q=B.Z.TextArea,se=function(){J(),setTimeout(function(){var y,D;window.location.href=($==null||(y=$.currentInfo)===null||y===void 0||(D=y.wallet)===null||D===void 0?void 0:D.redirect)||E.Z.page.walletPage,localStorage.removeItem("parami:wallet:inProcess"),localStorage.removeItem("parami:wallet:redirect")},10)},ee=function(){var W=(0,te.Z)(d().mark(function y(){var D;return d().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:D=(0,M.M8)().substring(0,6),V(D),localStorage.setItem("parami:wallet:passphrase",D);case 3:case"end":return P.stop()}},y)}));return function(){return W.apply(this,arguments)}}(),G=function(){var W=(0,te.Z)(d().mark(function y(){var D;return d().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return U(!0),P.next=3,(0,_.QM)(x,H);case 3:if(D=P.sent,!D){P.next=10;break}localStorage.setItem("parami:wallet:account",F),localStorage.setItem("parami:wallet:keystore",D),U(!0),P.next=13;break;case 10:return z.default.error({key:"passwordIncorrect",message:"The password is incorrect."}),U(!1),P.abrupt("return");case 13:se();case 14:case"end":return P.stop()}},y)}));return function(){return W.apply(this,arguments)}}();return(0,v.useEffect)(function(){!R||x||ee()},[R,x,H]),(0,e.jsxs)(L.Z,{className:i().card,children:[(0,e.jsx)("img",{src:"/images/icon/idcard.svg",className:n().topIcon}),(0,e.jsx)(b,{className:n().title,children:S.formatMessage({id:"identity.selectMode.title"})}),(0,e.jsx)("p",{className:n().description,children:S.formatMessage({id:"identity.selectMode.description"})}),(0,e.jsx)(Q.Z,{}),(0,e.jsx)("div",{className:n().listBtn,children:(0,e.jsxs)("div",{className:n().field,style:{flexDirection:"column"},children:[(0,e.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%",marginBottom:10},children:(0,e.jsx)("span",{className:n().title,children:S.formatMessage({id:"identity.selectMode.did"})})}),(0,e.jsx)(q,{size:"small",style:{backgroundColor:"#fff"},readOnly:!0,value:(0,M.st)(Y),autoSize:{minRows:1,maxRows:4}})]})}),(0,e.jsx)("div",{className:n().buttons,children:(0,e.jsx)(w.Z,{block:!0,type:"primary",shape:"round",size:"large",className:n().button,loading:O,onClick:function(){G()},children:S.formatMessage({id:"common.confirm"})})})]})},o=T,g=r(22930),oe=r(95216),me=r.n(oe),p=new(me())(navigator.userAgent||navigator.vendor||window.opera),ve=function(){var A=(0,c.tT)("apiWs"),H=(0,v.useState)(1),x=(0,I.Z)(H,2),F=x[0],Y=x[1],V=(0,v.useState)(""),R=(0,I.Z)(V,2),ne=R[0],$=R[1],J=(0,v.useState)(""),Z=(0,I.Z)(J,2),X=Z[0],O=Z[1],U=(0,v.useState)(""),S=(0,I.Z)(U,2),b=S[0],q=S[1],se=(0,v.useState)(""),ee=(0,I.Z)(se,2),G=ee[0],W=ee[1],y=(0,c.md)();return(0,v.useEffect)(function(){if(!!A){if(y.canWalletUser){localStorage.removeItem("parami:wallet:inProcess"),c.m8.push(E.Z.page.walletPage);return}localStorage.setItem("parami:wallet:inProcess","recoverAccount")}},[A]),(0,v.useEffect)(function(){if(p.isInApp){Y(-1);return}if(p.browser==="safari"&&!g.Z){Y(-1);return}},[F]),(0,e.jsxs)("div",{className:i().mainContainer,children:[(0,e.jsx)("div",{className:i().background}),(0,e.jsx)("div",{className:i().logoMark}),(0,e.jsxs)("div",{className:i().pageContainer,children:[F===-1&&(0,e.jsx)(K.Z,{}),F===1&&(0,e.jsx)(u,{mnemonic:G,setStep:Y,setAccount:O,setDID:q,setMnemonic:W}),F===2&&(0,e.jsx)(o,{passphrase:ne,mnemonic:G,account:X,did:b,setPassphrase:$})]})]})},fe=ve},47832:function(re,j,r){"use strict";r.d(j,{QM:function(){return K},Gh:function(){return ae}});var I=r(74379),v=r(38648),c=r(81354),m=r.n(c),i=function(C){var f=C;if(f===""||f===void 0||!f){v.default.error({message:"Wrong Password",duration:null});return}var l=f.length%4;l=4-l;for(var w=0;w<l;w+=1)f=f.concat("p");return f},K=function(C,f){var l=i(C);if(!(l==null||!l)){var w=m().enc.Utf8.parse(l),k=m().enc.Utf8.parse(l),B=m().enc.Utf8.parse(f),N=m().AES.encrypt(B,w,{keySize:128/8,iv:k,mode:m().mode.CBC,padding:m().pad.Pkcs7});return N.ciphertext.toString()}},ae=function(C,f){var l=i(C);if(!(l==null||!l)){var w=m().enc.Utf8.parse(l),k=m().enc.Utf8.parse(l),B=m().enc.Hex.parse(f),N=m().enc.Base64.stringify(B),Q=m().AES.decrypt(N,w,{keySize:128/8,iv:k,mode:m().mode.CBC,padding:m().pad.Pkcs7});return Q.toString(m().enc.Utf8)}}},60058:function(re,j,r){"use strict";r.d(j,{kp:function(){return w},Bc:function(){return k},Rg:function(){return B},RA:function(){return N},sG:function(){return Q},dr:function(){return ie},qy:function(){return z},wz:function(){return te},Lu:function(){return ce},Ob:function(){return ue},UB:function(){return de}});var I=r(8870),v=r(2824),c=r(3182),m=r(94043),i=r.n(m),K=r(96534),ae=r(55347),L=r(46312),C=r(47832),f=r(81603),l=new ae.ZP({type:"sr25519"}),w=function(){var d=(0,c.Z)(i().mark(function t(){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L._)(12);case 2:return n=e.sent,e.abrupt("return",{mnemonic:n});case 4:case"end":return e.stop()}},t)}));return function(){return d.apply(this,arguments)}}(),k=function(){var d=(0,c.Z)(i().mark(function t(n,s){var e;return i().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return e="",e=(0,C.QM)(s,n),u.abrupt("return",{keystore:e});case 3:case"end":return u.stop()}},t)}));return function(n,s){return d.apply(this,arguments)}}(),B=function(){var d=(0,c.Z)(i().mark(function t(n){var s;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=l.createFromUri(n),a.abrupt("return",{address:s.address});case 2:case"end":return a.stop()}},t)}));return function(n){return d.apply(this,arguments)}}(),N=function(){var d=(0,c.Z)(i().mark(function t(n){var s;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,window.apiWs.query.did.didOf(n);case 2:if(s=a.sent,!s.isEmpty){a.next=5;break}return a.abrupt("return",null);case 5:return a.abrupt("return",s.toHuman().toString());case 6:case"end":return a.stop()}},t)}));return function(n){return d.apply(this,arguments)}}(),Q=function(){var d=(0,c.Z)(i().mark(function t(n,s,e,a){var u,M,_,E;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,window.apiWs.tx.did.register(null);case 2:if(u=o.sent,!(e&&a)){o.next=8;break}return o.next=6,u.paymentInfo(a);case 6:return M=o.sent,o.abrupt("return",M);case 8:if(_=(0,C.Gh)(n,s),!(_==null||!_)){o.next=11;break}return o.abrupt("return");case 11:return E=l.createFromUri(_),o.next=14,(0,f.Y)(u,E);case 14:return o.abrupt("return",o.sent);case 15:case"end":return o.stop()}},t)}));return function(n,s,e,a){return d.apply(this,arguments)}}(),ie=function(){var d=(0,c.Z)(i().mark(function t(n,s,e,a,u,M){var _,E,T,o,g,oe;return i().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,window.apiWs.tx.did.setMetadata("name",n);case 2:return _=p.sent,p.next=5,window.apiWs.tx.did.setMetadata("pic",s);case 5:return E=p.sent,p.next=8,window.apiWs.tx.utility.batch([_,E]);case 8:if(T=p.sent,!(u&&M)){p.next=14;break}return p.next=12,T.paymentInfo(M);case 12:return o=p.sent,p.abrupt("return",o);case 14:if(g=(0,C.Gh)(e,a),!(g==null||!g)){p.next=17;break}throw new Error("Wrong password");case 17:return oe=l.createFromUri(g),p.next=20,(0,f.Y)(T,oe);case 20:return p.abrupt("return",p.sent);case 21:case"end":return p.stop()}},t)}));return function(n,s,e,a,u,M){return d.apply(this,arguments)}}(),z=function(){var d=(0,c.Z)(i().mark(function t(n){var s;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=l.createFromUri(n),a.abrupt("return",{address:s.address});case 2:case"end":return a.stop()}},t)}));return function(n){return d.apply(this,arguments)}}(),te=function(){var d=(0,c.Z)(i().mark(function t(){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.apiWs.consts.balances.existentialDeposit;case 2:return n=e.sent,e.abrupt("return",n.toString());case 4:case"end":return e.stop()}},t)}));return function(){return d.apply(this,arguments)}}(),ce=function(){var d=(0,c.Z)(i().mark(function t(n){var s,e;return i().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,window.apiWs.query.system.account(n);case 2:if(e=u.sent,!e.isEmpty){u.next=5;break}return u.abrupt("return",!1);case 5:if(((s=e.toHuman())===null||s===void 0?void 0:s.nonce)!==0){u.next=7;break}return u.abrupt("return",!1);case 7:return u.abrupt("return",!0);case 8:case"end":return u.stop()}},t)}));return function(n){return d.apply(this,arguments)}}(),ue=function(){var d=(0,c.Z)(i().mark(function t(n){var s,e,a,u,M,_,E;return i().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return s=(0,K.Zc)(n),o.next=3,window.apiWs.query.did.metadata(s);case 3:if(e=o.sent,e.isEmpty){o.next=13;break}return a=e.toHuman(),o.next=8,window.apiWs.rpc.did.batchGetMetadata(n,["pic","name"]);case 8:return u=o.sent,M=(0,v.Z)(u,2),_=M[0],E=M[1],o.abrupt("return",(0,I.Z)((0,I.Z)({},a),{},{avatar:_,nickname:E}));case 13:return o.abrupt("return",null);case 14:case"end":return o.stop()}},t)}));return function(n){return d.apply(this,arguments)}}(),de=function(){var d=(0,c.Z)(i().mark(function t(n,s,e,a,u){var M,_,E,T;return i().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(M=window.apiWs.tx.did.setMetadata("name",n),!(a&&u)){g.next=6;break}return g.next=4,M.paymentInfo(u);case 4:return _=g.sent,g.abrupt("return",_);case 6:if(E=(0,C.Gh)(s,e),!(E==null||!E)){g.next=9;break}throw new Error("Wrong password");case 9:return T=l.createFromUri(E),g.next=12,(0,f.Y)(M,T);case 12:return g.abrupt("return",g.sent);case 13:case"end":return g.stop()}},t)}));return function(n,s,e,a,u){return d.apply(this,arguments)}}()},22930:function(re,j){"use strict";var r=[320/454,375/553,375/548,414/622,414/617,375/634,375/635,414/718,414/719,414/714,414/715,375/628,375/629,390/663,390/664,428/745,428/746,390/844].some(function(c){return c===document.documentElement.clientWidth/document.documentElement.clientHeight}),I=/Safari/.test(navigator.userAgent),v=I&&r;j.Z=v},80950:function(){},96419:function(){},56353:function(){},8623:function(){},42480:function(){},7748:function(){},56619:function(){},77108:function(){},55024:function(){}}]);
