var Sa=Object.prototype.hasOwnProperty;var Di=Object.getOwnPropertySymbols,ka=Object.prototype.propertyIsEnumerable,Ue=Math.pow,Ne=Object.assign;var Wi=(Ie,w)=>{var _={};for(var $ in Ie)Sa.call(Ie,$)&&w.indexOf($)<0&&(_[$]=Ie[$]);if(Ie!=null&&Di)for(var $ of Di(Ie))w.indexOf($)<0&&ka.call(Ie,$)&&(_[$]=Ie[$]);return _};var ce=(Ie,w,_)=>new Promise(($,V)=>{var Q=z=>{try{R(_.next(z))}catch(E){V(E)}},T=z=>{try{R(_.throw(z))}catch(E){V(E)}},R=z=>z.done?$(z.value):Promise.resolve(z.value).then(Q,T);R((_=_.apply(Ie,w)).next())});(self.webpackChunkparami_app=self.webpackChunkparami_app||[]).push([[5466],{85008:function(Ie,w,_){"use strict";_.d(w,{Z:function(){return E}});var $=_(28991),V=_(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 248H728l-32.4-90.8a32.07 32.07 0 00-30.2-21.2H358.6c-13.5 0-25.6 8.5-30.1 21.2L296 248H160c-44.2 0-80 35.8-80 80v456c0 44.2 35.8 80 80 80h704c44.2 0 80-35.8 80-80V328c0-44.2-35.8-80-80-80zm8 536c0 4.4-3.6 8-8 8H160c-4.4 0-8-3.6-8-8V328c0-4.4 3.6-8 8-8h186.7l17.1-47.8 22.9-64.2h250.5l22.9 64.2 17.1 47.8H864c4.4 0 8 3.6 8 8v456zM512 384c-88.4 0-160 71.6-160 160s71.6 160 160 160 160-71.6 160-160-71.6-160-160-160zm0 256c-53 0-96-43-96-96s43-96 96-96 96 43 96 96-43 96-96 96z"}}]},name:"camera",theme:"outlined"},T=Q,R=_(27029),z=function(te,Se){return V.createElement(R.Z,(0,$.Z)((0,$.Z)({},te),{},{ref:Se,icon:T}))};z.displayName="CameraOutlined";var E=V.forwardRef(z)},62298:function(Ie,w,_){"use strict";_.d(w,{Z:function(){return E}});var $=_(28991),V=_(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},T=Q,R=_(27029),z=function(te,Se){return V.createElement(R.Z,(0,$.Z)((0,$.Z)({},te),{},{ref:Se,icon:T}))};z.displayName="CloudUploadOutlined";var E=V.forwardRef(z)},57254:function(Ie,w,_){"use strict";_.d(w,{Z:function(){return E}});var $=_(28991),V=_(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},T=Q,R=_(27029),z=function(te,Se){return V.createElement(R.Z,(0,$.Z)((0,$.Z)({},te),{},{ref:Se,icon:T}))};z.displayName="DownOutlined";var E=V.forwardRef(z)},54977:function(Ie,w,_){"use strict";_.d(w,{Z:function(){return E}});var $=_(28991),V=_(67294),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 512h-56c-4.4 0-8 3.6-8 8v320H184V184h320c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V520c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M355.9 534.9L354 653.8c-.1 8.9 7.1 16.2 16 16.2h.4l118-2.9c2-.1 4-.9 5.4-2.3l415.9-415c3.1-3.1 3.1-8.2 0-11.3L785.4 114.3c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-415.8 415a8.3 8.3 0 00-2.3 5.6zm63.5 23.6L779.7 199l45.2 45.1-360.5 359.7-45.7 1.1.7-46.4z"}}]},name:"form",theme:"outlined"},T=Q,R=_(27029),z=function(te,Se){return V.createElement(R.Z,(0,$.Z)((0,$.Z)({},te),{},{ref:Se,icon:T}))};z.displayName="FormOutlined";var E=V.forwardRef(z)},48926:function(Ie){function w($,V,Q,T,R,z,E){try{var v=$[z](E),te=v.value}catch(Se){Q(Se);return}v.done?V(te):Promise.resolve(te).then(T,R)}function _($){return function(){var V=this,Q=arguments;return new Promise(function(T,R){var z=$.apply(V,Q);function E(te){w(z,T,R,E,v,"next",te)}function v(te){w(z,T,R,E,v,"throw",te)}E(void 0)})}}Ie.exports=_,Ie.exports.default=Ie.exports,Ie.exports.__esModule=!0},55347:function(Ie,w,_){"use strict";_.d(w,{ZP:function(){return M}});var $=_(51822),V=_(70727),Q=_(88570),T=_(75505);const R=`Either remove and explicitly install matching versions or dedupe using your package manager.
The following conflicting packages were found:`;function z(O){const K=$.U;return K.__polkadotjs||(K.__polkadotjs={}),K.__polkadotjs[O]||(K.__polkadotjs[O]=[]),K.__polkadotjs[O]}function E(O){let K=0;for(const{version:J}of O)K=Math.max(K,J.length);return K}function v(O){const K=E(O),J=({name:Z,version:N})=>`	${N.padEnd(K)}	${Z}`;return O.map(J).join(`
`)}function te(O){const K=ie=>(0,Q.H)(ie)?{version:ie}:ie,J=O.map(K),Z=E(J),N=({path:ie,version:X})=>`	${X.padEnd(Z)}	${!ie||ie.length<5?"<unknown>":ie}`;return J.map(N).join(`
`)}function Se(O){if((0,V.m)(O))try{return O()||""}catch(K){return""}return O||""}function S({name:O,version:K},J,Z=[]){(0,T.h)(O.startsWith("@polkadot"),()=>`Invalid package descriptor ${O}`);const N=z(O);if(N.push({path:Se(J),version:K}),N.length!==1)console.warn(`${O} has multiple versions, ensure that there is only one installed.
${R}
${te(N)}`);else{const ie=Z.filter(X=>X&&X.version!==K);ie.length&&console.warn(`${O} requires direct dependencies exactly matching version ${K}.
${R}
${v(ie)}`)}}const Be={name:"@polkadot/util",version:"7.8.2"},Ce={name:"@polkadot/util-crypto",version:"7.8.2"};S({name:"@polkadot/keyring",version:"7.8.2"},typeof __dirname!="undefined"&&__dirname,[Be,Ce]);var q=_(63667),M=q.Y},46312:function(Ie,w,_){"use strict";_.d(w,{_:function(){return T}});var $=_(84066),V=_(73968);const Q={12:16*8,15:20*8,18:24*8,21:28*8,24:32*8};function T(R=12,z=!1){return(0,$.DK)()&&!z?(0,$.s)(R):(0,V.OF)(Q[R])}},60821:function(Ie,w,_){"use strict";_.d(w,{Z:function(){return wa}});var $=_(26729),V=_.n($),Q=_(50780),T=_.n(Q),R=_(64285),z=_(13550),E=_.n(z),v=_(77191),te=_.n(v),Se=_(25532),S=_(39386);class Be extends TypeError{constructor(e,r){let o;const{message:s}=e,c=Wi(e,["message"]),{path:m}=e,A=m.length===0?s:"At path: "+m.join(".")+" -- "+s;super(A);Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>{var P;return(P=o)!=null?P:o=[e,...r()]}}}function Ce(a){return fe(a)&&typeof a[Symbol.iterator]=="function"}function fe(a){return typeof a=="object"&&a!=null}function q(a){if(Object.prototype.toString.call(a)!=="[object Object]")return!1;const e=Object.getPrototypeOf(a);return e===null||e===Object.prototype}function M(a){return typeof a=="string"?JSON.stringify(a):""+a}function O(a){const{done:e,value:r}=a.next();return e?void 0:r}function K(a,e,r,o){if(a===!0)return;a===!1?a={}:typeof a=="string"&&(a={message:a});const{path:s,branch:c}=e,{type:m}=r,{refinement:A,message:P="Expected a value of type `"+m+"`"+(A?" with refinement `"+A+"`":"")+", but received: `"+M(o)+"`"}=a;return Ne(Ne({value:o,type:m,refinement:A,key:s[s.length-1],path:s,branch:c},a),{message:P})}function*J(a,e,r,o){Ce(a)||(a=[a]);for(const s of a){const c=K(s,e,r,o);c&&(yield c)}}function*Z(a,e,r={}){const{path:o=[],branch:s=[a],coerce:c=!1,mask:m=!1}=r,A={path:o,branch:s};if(c&&(a=e.coercer(a,A),m&&e.type!=="type"&&fe(e.schema)&&fe(a)&&!Array.isArray(a)))for(const W in a)e.schema[W]===void 0&&delete a[W];let P=!0;for(const W of e.validator(a,A))P=!1,yield[W,void 0];for(let[W,Y,ne]of e.entries(a,A)){const ye=Z(Y,ne,{path:W===void 0?o:[...o,W],branch:W===void 0?s:[...s,Y],coerce:c,mask:m});for(const pe of ye)pe[0]?(P=!1,yield[pe[0],void 0]):c&&(Y=pe[1],W===void 0?a=Y:a instanceof Map?a.set(W,Y):a instanceof Set?a.add(Y):fe(a)&&(a[W]=Y))}if(P)for(const W of e.refiner(a,A))P=!1,yield[W,void 0];P&&(yield[void 0,a])}class N{constructor(e){const{type:r,schema:o,validator:s,refiner:c,coercer:m=P=>P,entries:A=function*(){}}=e;this.type=r,this.schema=o,this.entries=A,this.coercer=m,s?this.validator=(P,W)=>{const Y=s(P,W);return J(Y,W,this,P)}:this.validator=()=>[],c?this.refiner=(P,W)=>{const Y=c(P,W);return J(Y,W,this,P)}:this.refiner=()=>[]}assert(e){return ie(e,this)}create(e){return X(e,this)}is(e){return ge(e,this)}mask(e){return ue(e,this)}validate(e,r={}){return Ae(e,this,r)}}function ie(a,e){const r=Ae(a,e);if(r[0])throw r[0]}function X(a,e){const r=Ae(a,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function ue(a,e){const r=Ae(a,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function ge(a,e){return!Ae(a,e)[0]}function Ae(a,e,r={}){const o=Z(a,e,r),s=O(o);if(s[0])return[new Be(s[0],function*(){for(const m of o)m[0]&&(yield m[0])}),void 0];{const c=s[1];return[void 0,c]}}function ee(...a){const e=a.map(o=>o.schema),r=Object.assign({},...e);return De(r)}function L(a,e){return new N({type:a,schema:null,validator:e})}function ae(a,e){return new N(Ne(Ne({},a),{refiner:(r,o)=>r===void 0||a.refiner(r,o),validator(r,o){return r===void 0?!0:(e(r,o),a.validator(r,o))}}))}function re(a){return new N({type:"dynamic",schema:null,*entries(e,r){yield*a(e,r).entries(e,r)},validator(e,r){return a(e,r).validator(e,r)},coercer(e,r){return a(e,r).coercer(e,r)}})}function we(a){let e;return new N({type:"lazy",schema:null,*entries(r,o){var s;(s=e)!=null||(e=a()),yield*e.entries(r,o)},validator(r,o){var s;return(s=e)!=null||(e=a()),e.validator(r,o)},coercer(r,o){var s;return(s=e)!=null||(e=a()),e.coercer(r,o)}})}function Ee(a,e){const{schema:r}=a,o=Ne({},r);for(const s of e)delete o[s];return De(o)}function Oe(a){const e=a instanceof N?Ne({},a.schema):Ne({},a);for(const r in e)e[r]=Te(e[r]);return De(e)}function We(a,e){const{schema:r}=a,o={};for(const s of e)o[s]=r[s];return De(o)}function yt(a,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),L(a,e)}function gt(){return L("any",()=>!0)}function de(a){return new N({type:"array",schema:a,*entries(e){if(a&&Array.isArray(e))for(const[r,o]of e.entries())yield[r,o,a]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+M(e)}})}function Re(){return L("boolean",a=>typeof a=="boolean")}function Ke(){return L("date",a=>a instanceof Date&&!isNaN(a.getTime())||"Expected a valid `Date` object, but received: "+M(a))}function I(a){const e={},r=a.map(o=>M(o)).join();for(const o of a)e[o]=o;return new N({type:"enums",schema:e,validator(o){return a.includes(o)||"Expected one of `"+r+"`, but received: "+M(o)}})}function k(){return L("func",a=>typeof a=="function"||"Expected a function, but received: "+M(a))}function p(a){return L("instance",e=>e instanceof a||"Expected a `"+a.name+"` instance, but received: "+M(e))}function y(){return L("integer",a=>typeof a=="number"&&!isNaN(a)&&Number.isInteger(a)||"Expected an integer, but received: "+M(a))}function b(a){return new N({type:"intersection",schema:null,*entries(e,r){for(const o of a)yield*o.entries(e,r)},*validator(e,r){for(const o of a)yield*o.validator(e,r)},*refiner(e,r){for(const o of a)yield*o.refiner(e,r)}})}function U(a){const e=M(a),r=typeof a;return new N({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?a:null,validator(o){return o===a||"Expected the literal `"+e+"`, but received: "+M(o)}})}function H(a,e){return new N({type:"map",schema:null,*entries(r){if(a&&e&&r instanceof Map)for(const[o,s]of r.entries())yield[o,o,a],yield[o,s,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||"Expected a `Map` object, but received: "+M(r)}})}function ve(){return L("never",()=>!1)}function oe(a){return new N(Ne(Ne({},a),{validator:(e,r)=>e===null||a.validator(e,r),refiner:(e,r)=>e===null||a.refiner(e,r)}))}function F(){return L("number",a=>typeof a=="number"&&!isNaN(a)||"Expected a number, but received: "+M(a))}function De(a){const e=a?Object.keys(a):[],r=ve();return new N({type:"object",schema:a||null,*entries(o){if(a&&fe(o)){const s=new Set(Object.keys(o));for(const c of e)s.delete(c),yield[c,o[c],a[c]];for(const c of s)yield[c,o[c],r]}},validator(o){return fe(o)||"Expected an object, but received: "+M(o)},coercer(o){return fe(o)?Ne({},o):o}})}function Te(a){return new N(Ne(Ne({},a),{validator:(e,r)=>e===void 0||a.validator(e,r),refiner:(e,r)=>e===void 0||a.refiner(e,r)}))}function Lt(a,e){return new N({type:"record",schema:null,*entries(r){if(fe(r))for(const o in r){const s=r[o];yield[o,o,a],yield[o,s,e]}},validator(r){return fe(r)||"Expected an object, but received: "+M(r)}})}function Gt(){return L("regexp",a=>a instanceof RegExp)}function Wt(a){return new N({type:"set",schema:null,*entries(e){if(a&&e instanceof Set)for(const r of e)yield[r,r,a]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||"Expected a `Set` object, but received: "+M(e)}})}function me(){return L("string",a=>typeof a=="string"||"Expected a string, but received: "+M(a))}function zt(a){const e=ve();return new N({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const o=Math.max(a.length,r.length);for(let s=0;s<o;s++)yield[s,r[s],a[s]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+M(r)}})}function G(a){const e=Object.keys(a);return new N({type:"type",schema:a,*entries(r){if(fe(r))for(const o of e)yield[o,r[o],a[o]]},validator(r){return fe(r)||"Expected an object, but received: "+M(r)}})}function $e(a){const e=a.map(r=>r.type).join(" | ");return new N({type:"union",schema:null,validator(r,o){const s=[];for(const c of a){const[...m]=Z(r,c,o),[A]=m;if(A[0])for(const[P]of m)P&&s.push(P);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+M(r),...s]}})}function Xe(){return L("unknown",()=>!0)}function ot(a,e,r){return new N(Ne(Ne({},a),{coercer:(o,s)=>ge(o,e)?a.coercer(r(o,s),s):a.coercer(o,s)}))}function mt(a,e,r={}){return ot(a,Xe(),o=>{const s=typeof e=="function"?e():e;if(o===void 0)return s;if(!r.strict&&q(o)&&q(s)){const c=Ne({},o);let m=!1;for(const A in s)c[A]===void 0&&(c[A]=s[A],m=!0);if(m)return c}return o})}function ct(a){return ot(a,me(),e=>e.trim())}function d(a){const e="Expected an empty "+a.type;return f(a,"empty",r=>{if(r instanceof Map||r instanceof Set){const{size:o}=r;return o===0||e+" but received one with a size of `"+o+"`"}else{const{length:o}=r;return o===0||e+" but received one with a length of `"+o+"`"}})}function n(a,e,r={}){const{exclusive:o}=r;return f(a,"max",s=>o?s<e:s<=e||"Expected a "+a.type+" greater than "+(o?"":"or equal to ")+e+" but received `"+s+"`")}function t(a,e,r={}){const{exclusive:o}=r;return f(a,"min",s=>o?s>e:s>=e||"Expected a "+a.type+" greater than "+(o?"":"or equal to ")+e+" but received `"+s+"`")}function i(a,e){return f(a,"pattern",r=>e.test(r)||"Expected a "+a.type+" matching `/"+e.source+'/` but received "'+r+'"')}function u(a,e,r=e){const o="Expected a "+a.type,s=e===r?"of `"+e+"`":"between `"+e+"` and `"+r+"`";return f(a,"size",c=>{if(typeof c=="number"||c instanceof Date)return e<=c&&c<=r||o+" "+s+" but received `"+c+"`";if(c instanceof Map||c instanceof Set){const{size:m}=c;return e<=m&&m<=r||o+" with a size "+s+" but received one with a size of `"+m+"`"}else{const{length:m}=c;return e<=m&&m<=r||o+" with a length "+s+" but received one with a length of `"+m+"`"}})}function f(a,e,r){return new N(Ne(Ne({},a),{*refiner(o,s){yield*a.refiner(o,s);const c=r(o,s),m=J(c,s,a,o);for(const A of m)yield Ne(Ne({},A),{refinement:e})}}))}var l=_(83937),g=_(31198),h=_(17221),x=_.n(h),C=_(91094),B=_.n(C);const D=a=>R.lW.isBuffer(a)?a:a instanceof Uint8Array?R.lW.from(a.buffer,a.byteOffset,a.byteLength):R.lW.from(a);var le=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof _.g!="undefined"?_.g:typeof self!="undefined"?self:{};function ke(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var be={},se={},He=ze;function ze(a,e){if(!a)throw new Error(e||"Assertion failed")}ze.equal=function(e,r,o){if(e!=r)throw new Error(o||"Assertion failed: "+e+" != "+r)};var st={exports:{}};typeof Object.create=="function"?st.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:st.exports=function(e,r){e.super_=r;var o=function(){};o.prototype=r.prototype,e.prototype=new o,e.prototype.constructor=e};var Dt=He,It=st.exports;se.inherits=It;function or(a,e){return(a.charCodeAt(e)&64512)!=55296||e<0||e+1>=a.length?!1:(a.charCodeAt(e+1)&64512)==56320}function sr(a,e){if(Array.isArray(a))return a.slice();if(!a)return[];var r=[];if(typeof a=="string")if(e){if(e==="hex")for(a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!=0&&(a="0"+a),s=0;s<a.length;s+=2)r.push(parseInt(a[s]+a[s+1],16))}else for(var o=0,s=0;s<a.length;s++){var c=a.charCodeAt(s);c<128?r[o++]=c:c<2048?(r[o++]=c>>6|192,r[o++]=c&63|128):or(a,s)?(c=65536+((c&1023)<<10)+(a.charCodeAt(++s)&1023),r[o++]=c>>18|240,r[o++]=c>>12&63|128,r[o++]=c>>6&63|128,r[o++]=c&63|128):(r[o++]=c>>12|224,r[o++]=c>>6&63|128,r[o++]=c&63|128)}else for(s=0;s<a.length;s++)r[s]=a[s]|0;return r}se.toArray=sr;function Mt(a){for(var e="",r=0;r<a.length;r++)e+=ar(a[r].toString(16));return e}se.toHex=Mt;function Zt(a){var e=a>>>24|a>>>8&65280|a<<8&16711680|(a&255)<<24;return e>>>0}se.htonl=Zt;function $t(a,e){for(var r="",o=0;o<a.length;o++){var s=a[o];e==="little"&&(s=Zt(s)),r+=qt(s.toString(16))}return r}se.toHex32=$t;function ar(a){return a.length===1?"0"+a:a}se.zero2=ar;function qt(a){return a.length===7?"0"+a:a.length===6?"00"+a:a.length===5?"000"+a:a.length===4?"0000"+a:a.length===3?"00000"+a:a.length===2?"000000"+a:a.length===1?"0000000"+a:a}se.zero8=qt;function At(a,e,r,o){var s=r-e;Dt(s%4==0);for(var c=new Array(s/4),m=0,A=e;m<c.length;m++,A+=4){var P;o==="big"?P=a[A]<<24|a[A+1]<<16|a[A+2]<<8|a[A+3]:P=a[A+3]<<24|a[A+2]<<16|a[A+1]<<8|a[A],c[m]=P>>>0}return c}se.join32=At;function bt(a,e){for(var r=new Array(a.length*4),o=0,s=0;o<a.length;o++,s+=4){var c=a[o];e==="big"?(r[s]=c>>>24,r[s+1]=c>>>16&255,r[s+2]=c>>>8&255,r[s+3]=c&255):(r[s+3]=c>>>24,r[s+2]=c>>>16&255,r[s+1]=c>>>8&255,r[s]=c&255)}return r}se.split32=bt;function ft(a,e){return a>>>e|a<<32-e}se.rotr32=ft;function yr(a,e){return a<<e|a>>>32-e}se.rotl32=yr;function Pt(a,e){return a+e>>>0}se.sum32=Pt;function cr(a,e,r){return a+e+r>>>0}se.sum32_3=cr;function Ct(a,e,r,o){return a+e+r+o>>>0}se.sum32_4=Ct;function Yt(a,e,r,o,s){return a+e+r+o+s>>>0}se.sum32_5=Yt;function Er(a,e,r,o){var s=a[e],c=a[e+1],m=o+c>>>0,A=(m<o?1:0)+r+s;a[e]=A>>>0,a[e+1]=m}se.sum64=Er;function xr(a,e,r,o){var s=e+o>>>0,c=(s<e?1:0)+a+r;return c>>>0}se.sum64_hi=xr;function mn(a,e,r,o){var s=e+o;return s>>>0}se.sum64_lo=mn;function Pr(a,e,r,o,s,c,m,A){var P=0,W=e;W=W+o>>>0,P+=W<e?1:0,W=W+c>>>0,P+=W<c?1:0,W=W+A>>>0,P+=W<A?1:0;var Y=a+r+s+m+P;return Y>>>0}se.sum64_4_hi=Pr;function bn(a,e,r,o,s,c,m,A){var P=e+o+c+A;return P>>>0}se.sum64_4_lo=bn;function wn(a,e,r,o,s,c,m,A,P,W){var Y=0,ne=e;ne=ne+o>>>0,Y+=ne<e?1:0,ne=ne+c>>>0,Y+=ne<c?1:0,ne=ne+A>>>0,Y+=ne<A?1:0,ne=ne+W>>>0,Y+=ne<W?1:0;var ye=a+r+s+m+P+Y;return ye>>>0}se.sum64_5_hi=wn;function Gr(a,e,r,o,s,c,m,A,P,W){var Y=e+o+c+A+W;return Y>>>0}se.sum64_5_lo=Gr;function Tt(a,e,r){var o=e<<32-r|a>>>r;return o>>>0}se.rotr64_hi=Tt;function dt(a,e,r){var o=a<<32-r|e>>>r;return o>>>0}se.rotr64_lo=dt;function ur(a,e,r){return a>>>r}se.shr64_hi=ur;function Ut(a,e,r){var o=a<<32-r|e>>>r;return o>>>0}se.shr64_lo=Ut;var pt={},lr=se,jt=He;function St(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}pt.BlockHash=St,St.prototype.update=function(e,r){if(e=lr.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var o=e.length%this._delta8;this.pending=e.slice(e.length-o,e.length),this.pending.length===0&&(this.pending=null),e=lr.join32(e,0,e.length-o,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this},St.prototype.digest=function(e){return this.update(this._pad()),jt(this.pending===null),this._digest(e)},St.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,o=r-(e+this.padLength)%r,s=new Array(o+this.padLength);s[0]=128;for(var c=1;c<o;c++)s[c]=0;if(e<<=3,this.endian==="big"){for(var m=8;m<this.padLength;m++)s[c++]=0;s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=e>>>24&255,s[c++]=e>>>16&255,s[c++]=e>>>8&255,s[c++]=e&255}else for(s[c++]=e&255,s[c++]=e>>>8&255,s[c++]=e>>>16&255,s[c++]=e>>>24&255,s[c++]=0,s[c++]=0,s[c++]=0,s[c++]=0,m=8;m<this.padLength;m++)s[c++]=0;return s};var Qe={},ut={},Xt=se,Ge=Xt.rotr32;function Kt(a,e,r,o){if(a===0)return gr(e,r,o);if(a===1||a===3)return _t(e,r,o);if(a===2)return et(e,r,o)}ut.ft_1=Kt;function gr(a,e,r){return a&e^~a&r}ut.ch32=gr;function et(a,e,r){return a&e^a&r^e&r}ut.maj32=et;function _t(a,e,r){return a^e^r}ut.p32=_t;function Lr(a){return Ge(a,2)^Ge(a,13)^Ge(a,22)}ut.s0_256=Lr;function Dr(a){return Ge(a,6)^Ge(a,11)^Ge(a,25)}ut.s1_256=Dr;function Zr(a){return Ge(a,7)^Ge(a,18)^a>>>3}ut.g0_256=Zr;function Cr(a){return Ge(a,17)^Ge(a,19)^a>>>10}ut.g1_256=Cr;var Jt=se,qr=pt,Yr=ut,Xr=Jt.rotl32,hr=Jt.sum32,vn=Jt.sum32_5,Jr=Yr.ft_1,Qr=qr.BlockHash,Qt=[1518500249,1859775393,2400959708,3395469782];function lt(){if(!(this instanceof lt))return new lt;Qr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Jt.inherits(lt,Qr);var Wr=lt;lt.blockSize=512,lt.outSize=160,lt.hmacStrength=80,lt.padLength=64,lt.prototype._update=function(e,r){for(var o=this.W,s=0;s<16;s++)o[s]=e[r+s];for(;s<o.length;s++)o[s]=Xr(o[s-3]^o[s-8]^o[s-14]^o[s-16],1);var c=this.h[0],m=this.h[1],A=this.h[2],P=this.h[3],W=this.h[4];for(s=0;s<o.length;s++){var Y=~~(s/20),ne=vn(Xr(c,5),Jr(Y,m,A,P),W,o[s],Qt[Y]);W=P,P=A,A=Xr(m,30),m=c,c=ne}this.h[0]=hr(this.h[0],c),this.h[1]=hr(this.h[1],m),this.h[2]=hr(this.h[2],A),this.h[3]=hr(this.h[3],P),this.h[4]=hr(this.h[4],W)},lt.prototype._digest=function(e){return e==="hex"?Jt.toHex32(this.h,"big"):Jt.split32(this.h,"big")};var er=se,Gn=pt,Ze=ut,zi=He,Vt=er.sum32,Mi=er.sum32_4,$i=er.sum32_5,ji=Ze.ch32,Ki=Ze.maj32,Vi=Ze.s0_256,Hi=Ze.s1_256,Gi=Ze.g0_256,Zi=Ze.g1_256,Zn=Gn.BlockHash,qi=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function tr(){if(!(this instanceof tr))return new tr;Zn.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=qi,this.W=new Array(64)}er.inherits(tr,Zn);var qn=tr;tr.blockSize=512,tr.outSize=256,tr.hmacStrength=192,tr.padLength=64,tr.prototype._update=function(e,r){for(var o=this.W,s=0;s<16;s++)o[s]=e[r+s];for(;s<o.length;s++)o[s]=Mi(Zi(o[s-2]),o[s-7],Gi(o[s-15]),o[s-16]);var c=this.h[0],m=this.h[1],A=this.h[2],P=this.h[3],W=this.h[4],Y=this.h[5],ne=this.h[6],ye=this.h[7];for(zi(this.k.length===o.length),s=0;s<o.length;s++){var pe=$i(ye,Hi(W),ji(W,Y,ne),this.k[s],o[s]),_e=Vt(Vi(c),Ki(c,m,A));ye=ne,ne=Y,Y=W,W=Vt(P,pe),P=A,A=m,m=c,c=Vt(pe,_e)}this.h[0]=Vt(this.h[0],c),this.h[1]=Vt(this.h[1],m),this.h[2]=Vt(this.h[2],A),this.h[3]=Vt(this.h[3],P),this.h[4]=Vt(this.h[4],W),this.h[5]=Vt(this.h[5],Y),this.h[6]=Vt(this.h[6],ne),this.h[7]=Vt(this.h[7],ye)},tr.prototype._digest=function(e){return e==="hex"?er.toHex32(this.h,"big"):er.split32(this.h,"big")};var En=se,Yn=qn;function fr(){if(!(this instanceof fr))return new fr;Yn.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}En.inherits(fr,Yn);var Yi=fr;fr.blockSize=512,fr.outSize=224,fr.hmacStrength=192,fr.padLength=64,fr.prototype._digest=function(e){return e==="hex"?En.toHex32(this.h.slice(0,7),"big"):En.split32(this.h.slice(0,7),"big")};var Bt=se,Xi=pt,Ji=He,rr=Bt.rotr64_hi,nr=Bt.rotr64_lo,Xn=Bt.shr64_hi,Jn=Bt.shr64_lo,mr=Bt.sum64,xn=Bt.sum64_hi,Sn=Bt.sum64_lo,Qi=Bt.sum64_4_hi,eo=Bt.sum64_4_lo,to=Bt.sum64_5_hi,ro=Bt.sum64_5_lo,Qn=Xi.BlockHash,no=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ht(){if(!(this instanceof Ht))return new Ht;Qn.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=no,this.W=new Array(160)}Bt.inherits(Ht,Qn);var ei=Ht;Ht.blockSize=1024,Ht.outSize=512,Ht.hmacStrength=192,Ht.padLength=128,Ht.prototype._prepareBlock=function(e,r){for(var o=this.W,s=0;s<32;s++)o[s]=e[r+s];for(;s<o.length;s+=2){var c=yo(o[s-4],o[s-3]),m=go(o[s-4],o[s-3]),A=o[s-14],P=o[s-13],W=fo(o[s-30],o[s-29]),Y=po(o[s-30],o[s-29]),ne=o[s-32],ye=o[s-31];o[s]=Qi(c,m,A,P,W,Y,ne,ye),o[s+1]=eo(c,m,A,P,W,Y,ne,ye)}},Ht.prototype._update=function(e,r){this._prepareBlock(e,r);var o=this.W,s=this.h[0],c=this.h[1],m=this.h[2],A=this.h[3],P=this.h[4],W=this.h[5],Y=this.h[6],ne=this.h[7],ye=this.h[8],pe=this.h[9],_e=this.h[10],Pe=this.h[11],Me=this.h[12],it=this.h[13],Ot=this.h[14],_r=this.h[15];Ji(this.k.length===o.length);for(var pr=0;pr<o.length;pr+=2){var vr=Ot,Br=_r,Rr=lo(ye,pe),Ft=ho(ye,pe),dn=io(ye,pe,_e,Pe,Me),pn=oo(ye,pe,_e,Pe,Me,it),Nt=this.k[pr],yn=this.k[pr+1],Nr=o[pr],j=o[pr+1],he=to(vr,Br,Rr,Ft,dn,pn,Nt,yn,Nr,j),Fe=ro(vr,Br,Rr,Ft,dn,pn,Nt,yn,Nr,j);vr=co(s,c),Br=uo(s,c),Rr=so(s,c,m,A,P),Ft=ao(s,c,m,A,P,W);var ht=xn(vr,Br,Rr,Ft),at=Sn(vr,Br,Rr,Ft);Ot=Me,_r=it,Me=_e,it=Pe,_e=ye,Pe=pe,ye=xn(Y,ne,he,Fe),pe=Sn(ne,ne,he,Fe),Y=P,ne=W,P=m,W=A,m=s,A=c,s=xn(he,Fe,ht,at),c=Sn(he,Fe,ht,at)}mr(this.h,0,s,c),mr(this.h,2,m,A),mr(this.h,4,P,W),mr(this.h,6,Y,ne),mr(this.h,8,ye,pe),mr(this.h,10,_e,Pe),mr(this.h,12,Me,it),mr(this.h,14,Ot,_r)},Ht.prototype._digest=function(e){return e==="hex"?Bt.toHex32(this.h,"big"):Bt.split32(this.h,"big")};function io(a,e,r,o,s){var c=a&r^~a&s;return c<0&&(c+=4294967296),c}function oo(a,e,r,o,s,c){var m=e&o^~e&c;return m<0&&(m+=4294967296),m}function so(a,e,r,o,s){var c=a&r^a&s^r&s;return c<0&&(c+=4294967296),c}function ao(a,e,r,o,s,c){var m=e&o^e&c^o&c;return m<0&&(m+=4294967296),m}function co(a,e){var r=rr(a,e,28),o=rr(e,a,2),s=rr(e,a,7),c=r^o^s;return c<0&&(c+=4294967296),c}function uo(a,e){var r=nr(a,e,28),o=nr(e,a,2),s=nr(e,a,7),c=r^o^s;return c<0&&(c+=4294967296),c}function lo(a,e){var r=rr(a,e,14),o=rr(a,e,18),s=rr(e,a,9),c=r^o^s;return c<0&&(c+=4294967296),c}function ho(a,e){var r=nr(a,e,14),o=nr(a,e,18),s=nr(e,a,9),c=r^o^s;return c<0&&(c+=4294967296),c}function fo(a,e){var r=rr(a,e,1),o=rr(a,e,8),s=Xn(a,e,7),c=r^o^s;return c<0&&(c+=4294967296),c}function po(a,e){var r=nr(a,e,1),o=nr(a,e,8),s=Jn(a,e,7),c=r^o^s;return c<0&&(c+=4294967296),c}function yo(a,e){var r=rr(a,e,19),o=rr(e,a,29),s=Xn(a,e,6),c=r^o^s;return c<0&&(c+=4294967296),c}function go(a,e){var r=nr(a,e,19),o=nr(e,a,29),s=Jn(a,e,6),c=r^o^s;return c<0&&(c+=4294967296),c}var kn=se,ti=ei;function dr(){if(!(this instanceof dr))return new dr;ti.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}kn.inherits(dr,ti);var mo=dr;dr.blockSize=1024,dr.outSize=384,dr.hmacStrength=192,dr.padLength=128,dr.prototype._digest=function(e){return e==="hex"?kn.toHex32(this.h.slice(0,12),"big"):kn.split32(this.h.slice(0,12),"big")},Qe.sha1=Wr,Qe.sha224=Yi,Qe.sha256=qn,Qe.sha384=mo,Qe.sha512=ei;var ri={},Sr=se,bo=pt,en=Sr.rotl32,ni=Sr.sum32,zr=Sr.sum32_3,ii=Sr.sum32_4,oi=bo.BlockHash;function ir(){if(!(this instanceof ir))return new ir;oi.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Sr.inherits(ir,oi),ri.ripemd160=ir,ir.blockSize=512,ir.outSize=160,ir.hmacStrength=192,ir.padLength=64,ir.prototype._update=function(e,r){for(var o=this.h[0],s=this.h[1],c=this.h[2],m=this.h[3],A=this.h[4],P=o,W=s,Y=c,ne=m,ye=A,pe=0;pe<80;pe++){var _e=ni(en(ii(o,si(pe,s,c,m),e[Eo[pe]+r],wo(pe)),So[pe]),A);o=A,A=m,m=en(c,10),c=s,s=_e,_e=ni(en(ii(P,si(79-pe,W,Y,ne),e[xo[pe]+r],vo(pe)),ko[pe]),ye),P=ye,ye=ne,ne=en(Y,10),Y=W,W=_e}_e=zr(this.h[1],c,ne),this.h[1]=zr(this.h[2],m,ye),this.h[2]=zr(this.h[3],A,P),this.h[3]=zr(this.h[4],o,W),this.h[4]=zr(this.h[0],s,Y),this.h[0]=_e},ir.prototype._digest=function(e){return e==="hex"?Sr.toHex32(this.h,"little"):Sr.split32(this.h,"little")};function si(a,e,r,o){return a<=15?e^r^o:a<=31?e&r|~e&o:a<=47?(e|~r)^o:a<=63?e&o|r&~o:e^(r|~o)}function wo(a){return a<=15?0:a<=31?1518500249:a<=47?1859775393:a<=63?2400959708:2840853838}function vo(a){return a<=15?1352829926:a<=31?1548603684:a<=47?1836072691:a<=63?2053994217:0}var Eo=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],xo=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],So=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ko=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Io=se,Ao=He;function Tr(a,e,r){if(!(this instanceof Tr))return new Tr(a,e,r);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(Io.toArray(e,r))}var _o=Tr;Tr.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),Ao(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)},Tr.prototype.update=function(e,r){return this.inner.update(e,r),this},Tr.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(a){var e=a;e.utils=se,e.common=pt,e.sha=Qe,e.ripemd=ri,e.hmac=_o,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(be);var Bo=be;const Ro="logger/5.5.0";let ai=!1,ci=!1;const tn={debug:1,default:2,info:2,warning:3,error:4,off:5};let ui=tn.default,In=null;function Po(){try{const a=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch(r){a.push(e)}}),a.length)throw new Error("missing "+a.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(a){return a.message}return null}const li=Po();var An;(function(a){a.DEBUG="DEBUG",a.INFO="INFO",a.WARNING="WARNING",a.ERROR="ERROR",a.OFF="OFF"})(An||(An={}));var _n;(function(a){a.UNKNOWN_ERROR="UNKNOWN_ERROR",a.NOT_IMPLEMENTED="NOT_IMPLEMENTED",a.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",a.NETWORK_ERROR="NETWORK_ERROR",a.SERVER_ERROR="SERVER_ERROR",a.TIMEOUT="TIMEOUT",a.BUFFER_OVERRUN="BUFFER_OVERRUN",a.NUMERIC_FAULT="NUMERIC_FAULT",a.MISSING_NEW="MISSING_NEW",a.INVALID_ARGUMENT="INVALID_ARGUMENT",a.MISSING_ARGUMENT="MISSING_ARGUMENT",a.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",a.CALL_EXCEPTION="CALL_EXCEPTION",a.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",a.NONCE_EXPIRED="NONCE_EXPIRED",a.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",a.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",a.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(_n||(_n={}));const hi="0123456789abcdef";class tt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const o=e.toLowerCase();tn[o]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(ui>tn[o])&&console.log.apply(console,r)}debug(...e){this._log(tt.levels.DEBUG,e)}info(...e){this._log(tt.levels.INFO,e)}warn(...e){this._log(tt.levels.WARNING,e)}makeError(e,r,o){if(ci)return this.makeError("censored error",r,{});r||(r=tt.errors.UNKNOWN_ERROR),o||(o={});const s=[];Object.keys(o).forEach(A=>{const P=o[A];try{if(P instanceof Uint8Array){let W="";for(let Y=0;Y<P.length;Y++)W+=hi[P[Y]>>4],W+=hi[P[Y]&15];s.push(A+"=Uint8Array(0x"+W+")")}else s.push(A+"="+JSON.stringify(P))}catch(W){s.push(A+"="+JSON.stringify(o[A].toString()))}}),s.push(`code=${r}`),s.push(`version=${this.version}`);const c=e;s.length&&(e+=" ("+s.join(", ")+")");const m=new Error(e);return m.reason=c,m.code=r,Object.keys(o).forEach(function(A){m[A]=o[A]}),m}throwError(e,r,o){throw this.makeError(e,r,o)}throwArgumentError(e,r,o){return this.throwError(e,tt.errors.INVALID_ARGUMENT,{argument:r,value:o})}assert(e,r,o,s){e||this.throwError(r,o,s)}assertArgument(e,r,o,s){e||this.throwArgumentError(r,o,s)}checkNormalize(e){li&&this.throwError("platform missing String.prototype.normalize",tt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:li})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,tt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,tt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,o){o?o=": "+o:o="",e<r&&this.throwError("missing argument"+o,tt.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+o,tt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",tt.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",tt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",tt.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return In||(In=new tt(Ro)),In}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",tt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),ai){if(!e)return;this.globalLogger().throwError("error censorship permanent",tt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ci=!!e,ai=!!r}static setLogLevel(e){const r=tn[e.toLowerCase()];if(r==null){tt.globalLogger().warn("invalid log level - "+e);return}ui=r}static from(e){return new tt(e)}}tt.errors=_n,tt.levels=An;const Co="bytes/5.5.0",Bn=new tt(Co);function To(a){return!!a.toHexString}function rn(a){return a.slice||(a.slice=function(){const e=Array.prototype.slice.call(arguments);return rn(new Uint8Array(Array.prototype.slice.apply(a,e)))}),a}function fi(a){return typeof a=="number"&&a==a&&a%1==0}function Uo(a){if(a==null)return!1;if(a.constructor===Uint8Array)return!0;if(typeof a=="string"||!fi(a.length)||a.length<0)return!1;for(let e=0;e<a.length;e++){const r=a[e];if(!fi(r)||r<0||r>=256)return!1}return!0}function Oo(a,e){if(e||(e={}),typeof a=="number"){Bn.checkSafeUint53(a,"invalid arrayify value");const r=[];for(;a;)r.unshift(a&255),a=parseInt(String(a/256));return r.length===0&&r.push(0),rn(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof a=="string"&&a.substring(0,2)!=="0x"&&(a="0x"+a),To(a)&&(a=a.toHexString()),Fo(a)){let r=a.substring(2);r.length%2&&(e.hexPad==="left"?r="0x0"+r.substring(2):e.hexPad==="right"?r+="0":Bn.throwArgumentError("hex data is odd-length","value",a));const o=[];for(let s=0;s<r.length;s+=2)o.push(parseInt(r.substring(s,s+2),16));return rn(new Uint8Array(o))}return Uo(a)?rn(new Uint8Array(a)):Bn.throwArgumentError("invalid arrayify value","value",a)}function Fo(a,e){return!(typeof a!="string"||!a.match(/^0x[0-9A-Fa-f]*$/)||e&&a.length!==2+2*e)}const No="sha2/5.5.0";new tt(No);function di(a){return"0x"+Bo.sha256().update(Oo(a)).digest("hex")}class Lo{constructor(e){Object.assign(this,e)}encode(){return R.lW.from((0,Se.serialize)(nn,this))}static decode(e){return(0,Se.deserialize)(nn,this,e)}static decodeUnchecked(e){return(0,Se.deserializeUnchecked)(nn,this,e)}}class Ia extends null{constructor(e){super(e);if(this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const nn=new Map,Do=32;function Wo(a){return a._bn!==void 0}class xe extends Lo{constructor(e){super({});if(this._bn=void 0,Wo(e))this._bn=e._bn;else{if(typeof e=="string"){const r=te().decode(e);if(r.length!=32)throw new Error("Invalid public key input");this._bn=new(E())(r)}else this._bn=new(E())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return te().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(R.lW);if(e.length===32)return e;const r=R.lW.alloc(32);return e.copy(r,32-e.length),r}toString(){return this.toBase58()}static createWithSeed(e,r,o){return ce(this,null,function*(){const s=R.lW.concat([e.toBuffer(),R.lW.from(r),o.toBuffer()]),c=di(new Uint8Array(s)).slice(2);return new xe(R.lW.from(c,"hex"))})}static createProgramAddress(e,r){return ce(this,null,function*(){let o=R.lW.alloc(0);e.forEach(function(m){if(m.length>Do)throw new TypeError("Max seed length exceeded");o=R.lW.concat([o,D(m)])}),o=R.lW.concat([o,r.toBuffer(),R.lW.from("ProgramDerivedAddress")]);let s=di(new Uint8Array(o)).slice(2),c=new(E())(s,16).toArray(void 0,32);if(pi(c))throw new Error("Invalid seeds, address must fall off the curve");return new xe(c)})}static findProgramAddress(e,r){return ce(this,null,function*(){let o=255,s;for(;o!=0;){try{const c=e.concat(R.lW.from([o]));s=yield this.createProgramAddress(c,r)}catch(c){if(c instanceof TypeError)throw c;o--;continue}return[s,o]}throw new Error("Unable to find a viable program address nonce")})}static isOnCurve(e){return pi(e)==1}}xe.default=new xe("11111111111111111111111111111111"),nn.set(xe,{kind:"struct",fields:[["_bn","u256"]]});let Le=T().lowlevel;function pi(a){var e=[Le.gf(),Le.gf(),Le.gf(),Le.gf()],r=Le.gf(),o=Le.gf(),s=Le.gf(),c=Le.gf(),m=Le.gf(),A=Le.gf(),P=Le.gf();return Le.set25519(e[2],zo),Le.unpack25519(e[1],a),Le.S(s,e[1]),Le.M(c,s,Le.D),Le.Z(s,s,e[2]),Le.A(c,e[2],c),Le.S(m,c),Le.S(A,m),Le.M(P,A,m),Le.M(r,P,s),Le.M(r,r,c),Le.pow2523(r,r),Le.M(r,r,s),Le.M(r,r,c),Le.M(r,r,c),Le.M(e[0],r,c),Le.S(o,e[0]),Le.M(o,o,c),yi(o,s)&&Le.M(e[0],e[0],Mo),Le.S(o,e[0]),Le.M(o,o,c),yi(o,s)?0:1}let zo=Le.gf([1]),Mo=Le.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function yi(a,e){var r=new Uint8Array(32),o=new Uint8Array(32);return Le.pack25519(r,a),Le.pack25519(o,e),Le.crypto_verify_32(r,0,o,0)}class Aa{constructor(e){this._keypair=void 0,e?this._keypair=nacl.sign.keyPair.fromSecretKey(D(e)):this._keypair=nacl.sign.keyPair()}get publicKey(){return new xe(this._keypair.publicKey)}get secretKey(){return D(this._keypair.secretKey)}}const _a=new xe("BPFLoader1111111111111111111111111111111111"),Ve=(a="publicKey")=>S.blob(32,a),Ur=(a="string")=>{const e=S.struct([S.u32("length"),S.u32("lengthPadding"),S.blob(S.offset(S.u32(),-8),"chars")],a),r=e.decode.bind(e),o=e.encode.bind(e);return e.decode=(s,c)=>r(s,c).chars.toString("utf8"),e.encode=(s,c,m)=>{const A={chars:R.lW.from(s,"utf8")};return o(A,c,m)},e.alloc=s=>S.u32().span+S.u32().span+R.lW.from(s,"utf8").length,e},$o=(a="authorized")=>S.struct([Ve("staker"),Ve("withdrawer")],a),jo=(a="lockup")=>S.struct([S.ns64("unixTimestamp"),S.ns64("epoch"),Ve("custodian")],a),Ko=(a="voteInit")=>S.struct([Ve("nodePubkey"),Ve("authorizedVoter"),Ve("authorizedWithdrawer"),S.u8("commission")],a);function Vo(a,e){let r=0;return a.layout.fields.forEach(o=>{o.span>=0?r+=o.span:typeof o.alloc=="function"&&(r+=o.alloc(e[o.property]))}),r}function Or(a){let e=0,r=0;for(;;){let o=a.shift();if(e|=(o&127)<<r*7,r+=1,(o&128)==0)break}return e}function Mr(a,e){let r=e;for(;;){let o=r&127;if(r>>=7,r==0){a.push(o);break}else o|=128,a.push(o)}}const on=32;class br{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new xe(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];Mr(r,e);const o=this.instructions.map(ne=>{const{accounts:ye,programIdIndex:pe}=ne,_e=te().decode(ne.data);let Pe=[];Mr(Pe,ye.length);let Me=[];return Mr(Me,_e.length),{programIdIndex:pe,keyIndicesCount:R.lW.from(Pe),keyIndices:R.lW.from(ye),dataLength:R.lW.from(Me),data:_e}});let s=[];Mr(s,o.length);let c=R.lW.alloc(sn);R.lW.from(s).copy(c);let m=s.length;o.forEach(ne=>{m+=S.struct([S.u8("programIdIndex"),S.blob(ne.keyIndicesCount.length,"keyIndicesCount"),S.seq(S.u8("keyIndex"),ne.keyIndices.length,"keyIndices"),S.blob(ne.dataLength.length,"dataLength"),S.seq(S.u8("userdatum"),ne.data.length,"data")]).encode(ne,c,m)}),c=c.slice(0,m);const A=S.struct([S.blob(1,"numRequiredSignatures"),S.blob(1,"numReadonlySignedAccounts"),S.blob(1,"numReadonlyUnsignedAccounts"),S.blob(r.length,"keyCount"),S.seq(Ve("key"),e,"keys"),Ve("recentBlockhash")]),P={numRequiredSignatures:R.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:R.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:R.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:R.lW.from(r),keys:this.accountKeys.map(ne=>D(ne.toBytes())),recentBlockhash:te().decode(this.recentBlockhash)};let W=R.lW.alloc(2048);const Y=A.encode(P,W);return c.copy(W,Y),W.slice(0,Y+c.length)}static from(e){let r=[...e];const o=r.shift(),s=r.shift(),c=r.shift(),m=Or(r);let A=[];for(let ye=0;ye<m;ye++){const pe=r.slice(0,on);r=r.slice(on),A.push(te().encode(R.lW.from(pe)))}const P=r.slice(0,on);r=r.slice(on);const W=Or(r);let Y=[];for(let ye=0;ye<W;ye++){const pe=r.shift(),_e=Or(r),Pe=r.slice(0,_e);r=r.slice(_e);const Me=Or(r),it=r.slice(0,Me),Ot=te().encode(R.lW.from(it));r=r.slice(Me),Y.push({programIdIndex:pe,accounts:Pe,data:Ot})}const ne={header:{numRequiredSignatures:o,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:c},recentBlockhash:te().encode(R.lW.from(P)),accountKeys:A,instructions:Y};return new br(ne)}}function wt(a,e){if(!a)throw new Error(e||"Assertion failed")}const Ho=R.lW.alloc(64).fill(0),sn=1280-40-8,gi=64;class kt{constructor(e){this.keys=void 0,this.programId=void 0,this.data=R.lW.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}}class qe{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,e&&Object.assign(this,e)}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new kt(r))}),this}compileMessage(){const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:r}=this;if(!r)throw new Error("Transaction recentBlockhash required");this.instructions.length<1&&console.warn("No instructions provided");let o;if(this.feePayer)o=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)o=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let Pe=0;Pe<this.instructions.length;Pe++)if(this.instructions[Pe].programId===void 0)throw new Error(`Transaction instruction index ${Pe} has undefined program id`);const s=[],c=[];this.instructions.forEach(Pe=>{Pe.keys.forEach(it=>{c.push(Ne({},it))});const Me=Pe.programId.toString();s.includes(Me)||s.push(Me)}),s.forEach(Pe=>{c.push({pubkey:new xe(Pe),isSigner:!1,isWritable:!1})}),c.sort(function(Pe,Me){const it=Pe.pubkey.toBase58().localeCompare(Me.pubkey.toBase58()),Ot=Pe.isSigner===Me.isSigner?0:Pe.isSigner?-1:1,_r=Pe.isWritable===Me.isWritable?it:Pe.isWritable?-1:1;return Ot||_r});const m=[];c.forEach(Pe=>{const Me=Pe.pubkey.toString(),it=m.findIndex(Ot=>Ot.pubkey.toString()===Me);it>-1?m[it].isWritable=m[it].isWritable||Pe.isWritable:m.push(Pe)});const A=m.findIndex(Pe=>Pe.pubkey.equals(o));if(A>-1){const[Pe]=m.splice(A,1);Pe.isSigner=!0,Pe.isWritable=!0,m.unshift(Pe)}else m.unshift({pubkey:o,isSigner:!0,isWritable:!0});for(const Pe of this.signatures){const Me=m.findIndex(it=>it.pubkey.equals(Pe.publicKey));if(Me>-1)m[Me].isSigner||(m[Me].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${Pe.publicKey.toString()}`)}let P=0,W=0,Y=0;const ne=[],ye=[];m.forEach(({pubkey:Pe,isSigner:Me,isWritable:it})=>{Me?(ne.push(Pe.toString()),P+=1,it||(W+=1)):(ye.push(Pe.toString()),it||(Y+=1))});const pe=ne.concat(ye),_e=this.instructions.map(Pe=>{const{data:Me,programId:it}=Pe;return{programIdIndex:pe.indexOf(it.toString()),accounts:Pe.keys.map(Ot=>pe.indexOf(Ot.pubkey.toString())),data:te().encode(Me)}});return _e.forEach(Pe=>{wt(Pe.programIdIndex>=0),Pe.accounts.forEach(Me=>wt(Me>=0))}),new br({header:{numRequiredSignatures:P,numReadonlySignedAccounts:W,numReadonlyUnsignedAccounts:Y},accountKeys:pe,recentBlockhash:r,instructions:_e})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((s,c)=>r[c].equals(s.publicKey))||(this.signatures=r.map(o=>({signature:null,publicKey:o}))),e}serializeMessage(){return this._compile().serialize()}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(o=>{const s=o.toString();return r.has(s)?!1:(r.add(s),!0)}).map(o=>({signature:null,publicKey:o}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,o=[];for(const c of e){const m=c.publicKey.toString();r.has(m)||(r.add(m),o.push(c))}this.signatures=o.map(c=>({signature:null,publicKey:c.publicKey}));const s=this._compile();this._partialSign(s,...o),this._verifySignatures(s.serialize(),!0)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,o=[];for(const c of e){const m=c.publicKey.toString();r.has(m)||(r.add(m),o.push(c))}const s=this._compile();this._partialSign(s,...o)}_partialSign(e,...r){const o=e.serialize();r.forEach(s=>{const c=T().sign.detached(o,s.secretKey);this._addSignature(s.publicKey,D(c))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){wt(r.length===64);const o=this.signatures.findIndex(s=>e.equals(s.publicKey));if(o<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[o].signature=R.lW.from(r)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,r){for(const{signature:o,publicKey:s}of this.signatures)if(o===null){if(r)return!1}else if(!T().sign.detached.verify(e,o,s.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:r,verifySignatures:o}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),s=this.serializeMessage();if(o&&!this._verifySignatures(s,r))throw new Error("Signature verification failed");return this._serialize(s)}_serialize(e){const{signatures:r}=this,o=[];Mr(o,r.length);const s=o.length+r.length*64+e.length,c=R.lW.alloc(s);return wt(r.length<256),R.lW.from(o).copy(c,0),r.forEach(({signature:m},A)=>{m!==null&&(wt(m.length===64,"signature has invalid length"),R.lW.from(m).copy(c,o.length+A*64))}),e.copy(c,o.length+r.length*64),wt(c.length<=sn,`Transaction too large: ${c.length} > ${sn}`),c}get keys(){return wt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return wt(this.instructions.length===1),this.instructions[0].programId}get data(){return wt(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const o=Or(r);let s=[];for(let c=0;c<o;c++){const m=r.slice(0,gi);r=r.slice(gi),s.push(te().encode(R.lW.from(m)))}return qe.populate(br.from(r),s)}static populate(e,r=[]){const o=new qe;return o.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(o.feePayer=e.accountKeys[0]),r.forEach((s,c)=>{const m={signature:s==te().encode(Ho)?null:te().decode(s),publicKey:e.accountKeys[c]};o.signatures.push(m)}),e.instructions.forEach(s=>{const c=s.accounts.map(m=>{const A=e.accountKeys[m];return{pubkey:A,isSigner:o.signatures.some(P=>P.publicKey.toString()===A.toString())||e.isAccountSigner(m),isWritable:e.isAccountWritable(m)}});o.instructions.push(new kt({keys:c,programId:e.accountKeys[s.programIdIndex],data:te().decode(s.data)}))}),o}}const wr=new xe("SysvarC1ock11111111111111111111111111111111"),Ba=new xe("SysvarEpochSchedu1e111111111111111111111111"),Ra=new xe("Sysvar1nstructions1111111111111111111111111"),Rn=new xe("SysvarRecentB1ockHashes11111111111111111111"),$r=new xe("SysvarRent111111111111111111111111111111111"),Pa=new xe("SysvarRewards111111111111111111111111111111"),Ca=new xe("SysvarS1otHashes111111111111111111111111111"),Ta=new xe("SysvarS1otHistory11111111111111111111111111"),Pn=new xe("SysvarStakeHistory1111111111111111111111111");function Cn(a,e,r,o){return ce(this,null,function*(){const s=o&&{skipPreflight:o.skipPreflight,preflightCommitment:o.preflightCommitment||o.commitment,maxRetries:o.maxRetries},c=yield a.sendTransaction(e,r,s),m=(yield a.confirmTransaction(c,o&&o.commitment)).value;if(m.err)throw new Error(`Transaction ${c} failed (${JSON.stringify(m)})`);return c})}function an(a){return new Promise(e=>setTimeout(e,a))}function rt(a,e){const r=a.layout.span>=0?a.layout.span:Vo(a,e),o=R.lW.alloc(r),s=Object.assign({instruction:a.index},e);return a.layout.encode(s,o),o}function nt(a,e){let r;try{r=a.layout.decode(e)}catch(o){throw new Error("invalid instruction; "+o)}if(r.instruction!==a.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${a.index}`);return r}const Go=S.nu64("lamportsPerSignature"),mi=S.struct([S.u32("version"),S.u32("state"),Ve("authorizedPubkey"),Ve("nonce"),S.struct([Go],"feeCalculator")]),bi=mi.span;class Tn{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=mi.decode(D(e),0);return new Tn({authorizedPubkey:new xe(r.authorizedPubkey),nonce:new xe(r.nonce).toString(),feeCalculator:r.feeCalculator})}}class Ua{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const o=BufferLayout.u32("instruction").decode(e.data);let s;for(const[c,m]of Object.entries(Je))if(m.index==o){s=c;break}if(!s)throw new Error("Instruction type incorrect; not a SystemInstruction");return s}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:o,programId:s}=nt(Je.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:o,programId:new xe(s)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=nt(Je.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:o,programId:s}=nt(Je.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:o,programId:new xe(s)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=nt(Je.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:o,space:s,programId:c}=nt(Je.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new xe(r),seed:o,space:s,programId:new xe(c)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=nt(Je.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new xe(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:o,programId:s}=nt(Je.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new xe(r),seed:o,programId:new xe(s)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:o,lamports:s,space:c,programId:m}=nt(Je.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new xe(r),seed:o,lamports:s,space:c,programId:new xe(m)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=nt(Je.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new xe(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),nt(Je.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=nt(Je.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=nt(Je.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new xe(r)}}static checkProgramId(e){if(!e.equals(Rt.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Je=Object.freeze({Create:{index:0,layout:S.struct([S.u32("instruction"),S.ns64("lamports"),S.ns64("space"),Ve("programId")])},Assign:{index:1,layout:S.struct([S.u32("instruction"),Ve("programId")])},Transfer:{index:2,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},CreateWithSeed:{index:3,layout:S.struct([S.u32("instruction"),Ve("base"),Ur("seed"),S.ns64("lamports"),S.ns64("space"),Ve("programId")])},AdvanceNonceAccount:{index:4,layout:S.struct([S.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:S.struct([S.u32("instruction"),Ve("authorized")])},AuthorizeNonceAccount:{index:7,layout:S.struct([S.u32("instruction"),Ve("authorized")])},Allocate:{index:8,layout:S.struct([S.u32("instruction"),S.ns64("space")])},AllocateWithSeed:{index:9,layout:S.struct([S.u32("instruction"),Ve("base"),Ur("seed"),S.ns64("space"),Ve("programId")])},AssignWithSeed:{index:10,layout:S.struct([S.u32("instruction"),Ve("base"),Ur("seed"),Ve("programId")])},TransferWithSeed:{index:11,layout:S.struct([S.u32("instruction"),S.ns64("lamports"),Ur("seed"),Ve("programId")])}});class Rt{constructor(){}static createAccount(e){const r=Je.Create,o=rt(r,{lamports:e.lamports,space:e.space,programId:D(e.programId.toBuffer())});return new kt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:o})}static transfer(e){let r,o;if("basePubkey"in e){const s=Je.TransferWithSeed;r=rt(s,{lamports:e.lamports,seed:e.seed,programId:D(e.programId.toBuffer())}),o=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const s=Je.Transfer;r=rt(s,{lamports:e.lamports}),o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new kt({keys:o,programId:this.programId,data:r})}static assign(e){let r,o;if("basePubkey"in e){const s=Je.AssignWithSeed;r=rt(s,{base:D(e.basePubkey.toBuffer()),seed:e.seed,programId:D(e.programId.toBuffer())}),o=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Je.Assign;r=rt(s,{programId:D(e.programId.toBuffer())}),o=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new kt({keys:o,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=Je.CreateWithSeed,o=rt(r,{base:D(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:D(e.programId.toBuffer())});let s=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&s.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new kt({keys:s,programId:this.programId,data:o})}static createNonceAccount(e){const r=new qe;"basePubkey"in e&&"seed"in e?r.add(Rt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:bi,programId:this.programId})):r.add(Rt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:bi,programId:this.programId}));const o={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(o)),r}static nonceInitialize(e){const r=Je.InitializeNonceAccount,o=rt(r,{authorized:D(e.authorizedPubkey.toBuffer())}),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:$r,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new kt(s)}static nonceAdvance(e){const r=Je.AdvanceNonceAccount,o=rt(r),s={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new kt(s)}static nonceWithdraw(e){const r=Je.WithdrawNonceAccount,o=rt(r,{lamports:e.lamports});return new kt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Rn,isSigner:!1,isWritable:!1},{pubkey:$r,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static nonceAuthorize(e){const r=Je.AuthorizeNonceAccount,o=rt(r,{authorized:D(e.newAuthorizedPubkey.toBuffer())});return new kt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static allocate(e){let r,o;if("basePubkey"in e){const s=Je.AllocateWithSeed;r=rt(s,{base:D(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:D(e.programId.toBuffer())}),o=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const s=Je.Allocate;r=rt(s,{space:e.space}),o=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new kt({keys:o,programId:this.programId,data:r})}}Rt.programId=new xe("11111111111111111111111111111111");const Zo=sn-300;class Fr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Fr.chunkSize)+1+1)}static load(e,r,o,s,c){return ce(this,null,function*(){{const ne=yield e.getMinimumBalanceForRentExemption(c.length),ye=yield e.getAccountInfo(o.publicKey,"confirmed");let pe=null;if(ye!==null){if(ye.executable)return console.error("Program load failed, account is already executable"),!1;ye.data.length!==c.length&&(pe=pe||new qe,pe.add(Rt.allocate({accountPubkey:o.publicKey,space:c.length}))),ye.owner.equals(s)||(pe=pe||new qe,pe.add(Rt.assign({accountPubkey:o.publicKey,programId:s}))),ye.lamports<ne&&(pe=pe||new qe,pe.add(Rt.transfer({fromPubkey:r.publicKey,toPubkey:o.publicKey,lamports:ne-ye.lamports})))}else pe=new qe().add(Rt.createAccount({fromPubkey:r.publicKey,newAccountPubkey:o.publicKey,lamports:ne>0?ne:1,space:c.length,programId:s}));pe!==null&&(yield Cn(e,pe,[r,o],{commitment:"confirmed"}))}const m=S.struct([S.u32("instruction"),S.u32("offset"),S.u32("bytesLength"),S.u32("bytesLengthPadding"),S.seq(S.u8("byte"),S.offset(S.u32(),-8),"bytes")]),A=Fr.chunkSize;let P=0,W=c,Y=[];for(;W.length>0;){const ne=W.slice(0,A),ye=R.lW.alloc(A+16);m.encode({instruction:0,offset:P,bytes:ne},ye);const pe=new qe().add({keys:[{pubkey:o.publicKey,isSigner:!0,isWritable:!0}],programId:s,data:ye});Y.push(Cn(e,pe,[r,o],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&(yield an(1e3/4)),P+=A,W=W.slice(A)}yield Promise.all(Y);{const ne=S.struct([S.u32("instruction")]),ye=R.lW.alloc(ne.span);ne.encode({instruction:1},ye);const pe=new qe().add({keys:[{pubkey:o.publicKey,isSigner:!0,isWritable:!0},{pubkey:$r,isSigner:!1,isWritable:!1}],programId:s,data:ye});yield Cn(e,pe,[r,o],{commitment:"confirmed"})}return!0})}}Fr.chunkSize=Zo;const Oa=new xe("BPFLoader2111111111111111111111111111111111");class Fa{static getMinNumSignatures(e){return Fr.getMinNumSignatures(e)}static load(e,r,o,s,c){return Fr.load(e,r,o,c,s)}}var Un={exports:{}};(function(a,e){var r=typeof self!="undefined"?self:le,o=function(){function c(){this.fetch=!1,this.DOMException=r.DOMException}return c.prototype=r,new c}();(function(c){(function(m){var A={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch(j){return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function P(j){return j&&DataView.prototype.isPrototypeOf(j)}if(A.arrayBuffer)var W=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Y=ArrayBuffer.isView||function(j){return j&&W.indexOf(Object.prototype.toString.call(j))>-1};function ne(j){if(typeof j!="string"&&(j=String(j)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(j))throw new TypeError("Invalid character in header field name");return j.toLowerCase()}function ye(j){return typeof j!="string"&&(j=String(j)),j}function pe(j){var he={next:function(){var Fe=j.shift();return{done:Fe===void 0,value:Fe}}};return A.iterable&&(he[Symbol.iterator]=function(){return he}),he}function _e(j){this.map={},j instanceof _e?j.forEach(function(he,Fe){this.append(Fe,he)},this):Array.isArray(j)?j.forEach(function(he){this.append(he[0],he[1])},this):j&&Object.getOwnPropertyNames(j).forEach(function(he){this.append(he,j[he])},this)}_e.prototype.append=function(j,he){j=ne(j),he=ye(he);var Fe=this.map[j];this.map[j]=Fe?Fe+", "+he:he},_e.prototype.delete=function(j){delete this.map[ne(j)]},_e.prototype.get=function(j){return j=ne(j),this.has(j)?this.map[j]:null},_e.prototype.has=function(j){return this.map.hasOwnProperty(ne(j))},_e.prototype.set=function(j,he){this.map[ne(j)]=ye(he)},_e.prototype.forEach=function(j,he){for(var Fe in this.map)this.map.hasOwnProperty(Fe)&&j.call(he,this.map[Fe],Fe,this)},_e.prototype.keys=function(){var j=[];return this.forEach(function(he,Fe){j.push(Fe)}),pe(j)},_e.prototype.values=function(){var j=[];return this.forEach(function(he){j.push(he)}),pe(j)},_e.prototype.entries=function(){var j=[];return this.forEach(function(he,Fe){j.push([Fe,he])}),pe(j)},A.iterable&&(_e.prototype[Symbol.iterator]=_e.prototype.entries);function Pe(j){if(j.bodyUsed)return Promise.reject(new TypeError("Already read"));j.bodyUsed=!0}function Me(j){return new Promise(function(he,Fe){j.onload=function(){he(j.result)},j.onerror=function(){Fe(j.error)}})}function it(j){var he=new FileReader,Fe=Me(he);return he.readAsArrayBuffer(j),Fe}function Ot(j){var he=new FileReader,Fe=Me(he);return he.readAsText(j),Fe}function _r(j){for(var he=new Uint8Array(j),Fe=new Array(he.length),ht=0;ht<he.length;ht++)Fe[ht]=String.fromCharCode(he[ht]);return Fe.join("")}function pr(j){if(j.slice)return j.slice(0);var he=new Uint8Array(j.byteLength);return he.set(new Uint8Array(j)),he.buffer}function vr(){return this.bodyUsed=!1,this._initBody=function(j){this._bodyInit=j,j?typeof j=="string"?this._bodyText=j:A.blob&&Blob.prototype.isPrototypeOf(j)?this._bodyBlob=j:A.formData&&FormData.prototype.isPrototypeOf(j)?this._bodyFormData=j:A.searchParams&&URLSearchParams.prototype.isPrototypeOf(j)?this._bodyText=j.toString():A.arrayBuffer&&A.blob&&P(j)?(this._bodyArrayBuffer=pr(j.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):A.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(j)||Y(j))?this._bodyArrayBuffer=pr(j):this._bodyText=j=Object.prototype.toString.call(j):this._bodyText="",this.headers.get("content-type")||(typeof j=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):A.searchParams&&URLSearchParams.prototype.isPrototypeOf(j)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},A.blob&&(this.blob=function(){var j=Pe(this);if(j)return j;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Pe(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(it)}),this.text=function(){var j=Pe(this);if(j)return j;if(this._bodyBlob)return Ot(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(_r(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},A.formData&&(this.formData=function(){return this.text().then(dn)}),this.json=function(){return this.text().then(JSON.parse)},this}var Br=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Rr(j){var he=j.toUpperCase();return Br.indexOf(he)>-1?he:j}function Ft(j,he){he=he||{};var Fe=he.body;if(j instanceof Ft){if(j.bodyUsed)throw new TypeError("Already read");this.url=j.url,this.credentials=j.credentials,he.headers||(this.headers=new _e(j.headers)),this.method=j.method,this.mode=j.mode,this.signal=j.signal,!Fe&&j._bodyInit!=null&&(Fe=j._bodyInit,j.bodyUsed=!0)}else this.url=String(j);if(this.credentials=he.credentials||this.credentials||"same-origin",(he.headers||!this.headers)&&(this.headers=new _e(he.headers)),this.method=Rr(he.method||this.method||"GET"),this.mode=he.mode||this.mode||null,this.signal=he.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&Fe)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(Fe)}Ft.prototype.clone=function(){return new Ft(this,{body:this._bodyInit})};function dn(j){var he=new FormData;return j.trim().split("&").forEach(function(Fe){if(Fe){var ht=Fe.split("="),at=ht.shift().replace(/\+/g," "),Ye=ht.join("=").replace(/\+/g," ");he.append(decodeURIComponent(at),decodeURIComponent(Ye))}}),he}function pn(j){var he=new _e,Fe=j.replace(/\r?\n[\t ]+/g," ");return Fe.split(/\r?\n/).forEach(function(ht){var at=ht.split(":"),Ye=at.shift().trim();if(Ye){var gn=at.join(":").trim();he.append(Ye,gn)}}),he}vr.call(Ft.prototype);function Nt(j,he){he||(he={}),this.type="default",this.status=he.status===void 0?200:he.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in he?he.statusText:"OK",this.headers=new _e(he.headers),this.url=he.url||"",this._initBody(j)}vr.call(Nt.prototype),Nt.prototype.clone=function(){return new Nt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _e(this.headers),url:this.url})},Nt.error=function(){var j=new Nt(null,{status:0,statusText:""});return j.type="error",j};var yn=[301,302,303,307,308];Nt.redirect=function(j,he){if(yn.indexOf(he)===-1)throw new RangeError("Invalid status code");return new Nt(null,{status:he,headers:{location:j}})},m.DOMException=c.DOMException;try{new m.DOMException}catch(j){m.DOMException=function(he,Fe){this.message=he,this.name=Fe;var ht=Error(he);this.stack=ht.stack},m.DOMException.prototype=Object.create(Error.prototype),m.DOMException.prototype.constructor=m.DOMException}function Nr(j,he){return new Promise(function(Fe,ht){var at=new Ft(j,he);if(at.signal&&at.signal.aborted)return ht(new m.DOMException("Aborted","AbortError"));var Ye=new XMLHttpRequest;function gn(){Ye.abort()}Ye.onload=function(){var Hr={status:Ye.status,statusText:Ye.statusText,headers:pn(Ye.getAllResponseHeaders()||"")};Hr.url="responseURL"in Ye?Ye.responseURL:Hr.headers.get("X-Request-URL");var Hn="response"in Ye?Ye.response:Ye.responseText;Fe(new Nt(Hn,Hr))},Ye.onerror=function(){ht(new TypeError("Network request failed"))},Ye.ontimeout=function(){ht(new TypeError("Network request failed"))},Ye.onabort=function(){ht(new m.DOMException("Aborted","AbortError"))},Ye.open(at.method,at.url,!0),at.credentials==="include"?Ye.withCredentials=!0:at.credentials==="omit"&&(Ye.withCredentials=!1),"responseType"in Ye&&A.blob&&(Ye.responseType="blob"),at.headers.forEach(function(Hr,Hn){Ye.setRequestHeader(Hn,Hr)}),at.signal&&(at.signal.addEventListener("abort",gn),Ye.onreadystatechange=function(){Ye.readyState===4&&at.signal.removeEventListener("abort",gn)}),Ye.send(typeof at._bodyInit=="undefined"?null:at._bodyInit)})}return Nr.polyfill=!0,c.fetch||(c.fetch=Nr,c.Headers=_e,c.Request=Ft,c.Response=Nt),m.Headers=_e,m.Request=Ft,m.Response=Nt,m.fetch=Nr,Object.defineProperty(m,"__esModule",{value:!0}),m})({})})(o),o.fetch.ponyfill=!0,delete o.fetch.polyfill;var s=o;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,a.exports=e})(Un,Un.exports);var wi=ke(Un.exports);const jr=32;function On(a){let e=0;for(;a>1;)a/=2,e++;return e}function qo(a){return a===0?1:(a--,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,a|=a>>32,a+1)}class Yo{constructor(e,r,o,s,c){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=o,this.firstNormalEpoch=s,this.firstNormalSlot=c}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=On(qo(e+jr+1))-On(jr)-1,o=this.getSlotsInEpoch(r),s=e-(o-jr);return[r,s]}else{const r=e-this.firstNormalSlot,o=Math.floor(r/this.slotsPerEpoch),s=this.firstNormalEpoch+o,c=r%this.slotsPerEpoch;return[s,c]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*jr:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+On(jr)):this.slotsPerEpoch}}class vi extends Error{constructor(e,r){super(e);this.logs=void 0,this.logs=r}}const Xo=160/64,Jo=1e3/Xo;function Qo(a,e){let r;const o=new Promise(s=>{r=setTimeout(()=>s(null),e)});return Promise.race([a,o]).then(s=>(clearTimeout(r),s))}function es(a){let e=new URL(a);const r=e.protocol==="https:";return e.protocol=r?"wss:":"ws:",e.host="",e.port!==""&&(e.port=String(Number(e.port)+1)),e.toString()}const vt=ot(p(xe),me(),a=>new xe(a)),Ei=zt([me(),U("base64")]),Fn=ot(p(R.lW),Ei,a=>R.lW.from(a[0],"base64")),ts=null;function xi(a){return $e([G({jsonrpc:U("2.0"),id:me(),result:a}),G({jsonrpc:U("2.0"),id:me(),error:G({code:Xe(),message:me(),data:Te(gt())})})])}const rs=xi(Xe());function je(a){return ot(xi(a),rs,e=>"error"in e?e:Ne(Ne({},e),{result:X(e.result,a)}))}function Et(a){return je(G({context:G({slot:F()}),value:a}))}function cn(a){return G({context:G({slot:F()}),value:a})}const ns=G({foundation:F(),foundationTerm:F(),initial:F(),taper:F(),terminal:F()}),is=je(de(oe(G({epoch:F(),effectiveSlot:F(),amount:F(),postBalance:F()})))),os=G({epoch:F(),slotIndex:F(),slotsInEpoch:F(),absoluteSlot:F(),blockHeight:Te(F()),transactionCount:Te(F())}),ss=G({slotsPerEpoch:F(),leaderScheduleSlotOffset:F(),warmup:Re(),firstNormalEpoch:F(),firstNormalSlot:F()}),as=Lt(me(),de(F())),kr=oe($e([G({}),me()])),cs=G({err:kr}),us=U("receivedSignature"),ls=G({"solana-core":me(),"feature-set":Te(F())}),hs=Et(G({err:oe($e([G({}),me()])),logs:oe(de(me())),accounts:Te(oe(de(oe(G({executable:Re(),owner:me(),lamports:F(),data:de(me()),rentEpoch:Te(F())}))))),unitsConsumed:Te(F())}));function fs(a,e,r,o,s){let c;return o&&(c=(A,P)=>ce(this,null,function*(){const W=yield new Promise((Y,ne)=>{try{o(A,P,(ye,pe)=>Y([ye,pe]))}catch(ye){ne(ye)}});return yield wi(...W)})),new RpcClient((A,P)=>ce(this,null,function*(){const Y={method:"POST",body:A,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{})};try{let ne=5,ye,pe=500;for(;c?ye=yield c(a,Y):ye=yield wi(a,Y),!(ye.status!==429||s===!0||(ne-=1,ne===0));)console.log(`Server responded with ${ye.status} ${ye.statusText}.  Retrying after ${pe}ms delay...`),yield an(pe),pe*=2;const _e=yield ye.text();ye.ok?P(null,_e):P(new Error(`${ye.status} ${ye.statusText}: ${_e}`))}catch(ne){ne instanceof Error&&P(ne)}finally{}}),{})}function ds(a){return(e,r)=>new Promise((o,s)=>{a.request(e,r,(c,m)=>{if(c){s(c);return}o(m)})})}function ps(a){return e=>new Promise((r,o)=>{e.length===0&&r([]);const s=e.map(c=>a.request(c.methodName,c.args));a.request(s,(c,m)=>{if(c){o(c);return}r(m)})})}const ys=je(ns),gs=je(os),ms=je(ss),bs=je(as),ws=je(F()),vs=Et(G({total:F(),circulating:F(),nonCirculating:F(),nonCirculatingAccounts:de(vt)})),Nn=G({amount:me(),uiAmount:oe(F()),decimals:F(),uiAmountString:Te(me())}),Es=Et(de(G({address:vt,amount:me(),uiAmount:oe(F()),decimals:F(),uiAmountString:Te(me())}))),xs=Et(de(G({pubkey:vt,account:G({executable:Re(),owner:vt,lamports:F(),data:Fn,rentEpoch:F()})}))),Ln=G({program:me(),parsed:Xe(),space:F()}),Ss=Et(de(G({pubkey:vt,account:G({executable:Re(),owner:vt,lamports:F(),data:Ln,rentEpoch:F()})}))),ks=Et(de(G({lamports:F(),address:vt}))),un=G({executable:Re(),owner:vt,lamports:F(),data:Fn,rentEpoch:F()}),Is=G({pubkey:vt,account:un}),As=ot($e([p(R.lW),Ln]),$e([Ei,Ln]),a=>Array.isArray(a)?X(a,Fn):a),Dn=G({executable:Re(),owner:vt,lamports:F(),data:As,rentEpoch:F()}),_s=G({pubkey:vt,account:Dn}),Bs=G({state:$e([U("active"),U("inactive"),U("activating"),U("deactivating")]),active:F(),inactive:F()}),Rs=je(de(G({signature:me(),slot:F(),err:kr,memo:oe(me()),blockTime:Te(oe(F()))}))),Ps=je(de(G({signature:me(),slot:F(),err:kr,memo:oe(me()),blockTime:Te(oe(F()))}))),Cs=G({subscription:F(),result:cn(un)}),Ts=G({pubkey:vt,account:un}),Us=G({subscription:F(),result:cn(Ts)}),Os=G({parent:F(),slot:F(),root:F()}),Fs=G({subscription:F(),result:Os}),Ns=$e([G({type:$e([U("firstShredReceived"),U("completed"),U("optimisticConfirmation"),U("root")]),slot:F(),timestamp:F()}),G({type:U("createdBank"),parent:F(),slot:F(),timestamp:F()}),G({type:U("frozen"),slot:F(),timestamp:F(),stats:G({numTransactionEntries:F(),numSuccessfulTransactions:F(),numFailedTransactions:F(),maxTransactionsPerEntry:F()})}),G({type:U("dead"),slot:F(),timestamp:F(),err:me()})]),Ls=G({subscription:F(),result:Ns}),Ds=G({subscription:F(),result:cn($e([cs,us]))}),Ws=G({subscription:F(),result:F()}),zs=G({pubkey:me(),gossip:oe(me()),tpu:oe(me()),rpc:oe(me()),version:oe(me())}),Si=G({votePubkey:me(),nodePubkey:me(),activatedStake:F(),epochVoteAccount:Re(),epochCredits:de(zt([F(),F(),F()])),commission:F(),lastVote:F(),rootSlot:oe(F())}),Ms=je(G({current:de(Si),delinquent:de(Si)})),$s=$e([U("processed"),U("confirmed"),U("finalized")]),js=G({slot:F(),confirmations:oe(F()),err:kr,confirmationStatus:Te($s)}),Ks=Et(de(oe(js))),Vs=je(F()),Wn=G({signatures:de(me()),message:G({accountKeys:de(me()),header:G({numRequiredSignatures:F(),numReadonlySignedAccounts:F(),numReadonlyUnsignedAccounts:F()}),instructions:de(G({accounts:de(F()),data:me(),programIdIndex:F()})),recentBlockhash:me()})}),ki=G({parsed:Xe(),program:me(),programId:vt}),Ii=G({accounts:de(vt),data:me(),programId:vt}),Hs=$e([Ii,ki]),Gs=$e([G({parsed:Xe(),program:me(),programId:me()}),G({accounts:de(me()),data:me(),programId:me()})]),Ai=ot(Hs,Gs,a=>"accounts"in a?X(a,Ii):X(a,ki)),Zs=G({signatures:de(me()),message:G({accountKeys:de(G({pubkey:vt,signer:Re(),writable:Re()})),instructions:de(Ai),recentBlockhash:me()})}),ln=G({accountIndex:F(),mint:me(),owner:Te(me()),uiTokenAmount:Nn}),zn=G({err:kr,fee:F(),innerInstructions:Te(oe(de(G({index:F(),instructions:de(G({accounts:de(F()),data:me(),programIdIndex:F()}))})))),preBalances:de(F()),postBalances:de(F()),logMessages:Te(oe(de(me()))),preTokenBalances:Te(oe(de(ln))),postTokenBalances:Te(oe(de(ln)))}),qs=G({err:kr,fee:F(),innerInstructions:Te(oe(de(G({index:F(),instructions:de(Ai)})))),preBalances:de(F()),postBalances:de(F()),logMessages:Te(oe(de(me()))),preTokenBalances:Te(oe(de(ln))),postTokenBalances:Te(oe(de(ln)))}),Ys=je(oe(G({blockhash:me(),previousBlockhash:me(),parentSlot:F(),transactions:de(G({transaction:Wn,meta:oe(zn)})),rewards:Te(de(G({pubkey:me(),lamports:F(),postBalance:oe(F()),rewardType:oe(me())}))),blockTime:oe(F()),blockHeight:oe(F())}))),Xs=je(oe(G({blockhash:me(),previousBlockhash:me(),parentSlot:F(),transactions:de(G({transaction:Wn,meta:oe(zn)})),rewards:Te(de(G({pubkey:me(),lamports:F(),postBalance:oe(F()),rewardType:oe(me())}))),blockTime:oe(F())}))),_i=je(oe(G({blockhash:me(),previousBlockhash:me(),parentSlot:F(),signatures:de(me()),blockTime:oe(F())}))),Bi=je(oe(G({slot:F(),meta:zn,blockTime:Te(oe(F())),transaction:Wn}))),hn=je(oe(G({slot:F(),transaction:Zs,meta:oe(qs),blockTime:Te(oe(F()))}))),Js=Et(G({blockhash:me(),feeCalculator:G({lamportsPerSignature:F()})})),Qs=Et(G({blockhash:me(),lastValidBlockHeight:F()})),ea=G({slot:F(),numTransactions:F(),numSlots:F(),samplePeriodSecs:F()}),ta=je(de(ea)),ra=Et(oe(G({feeCalculator:G({lamportsPerSignature:F()})}))),na=je(me()),ia=je(me()),oa=G({err:kr,logs:de(me()),signature:me()}),sa=G({result:cn(oa),subscription:F()});class Da{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._accountChangeSubscriptionCounter=0,this._accountChangeSubscriptions={},this._programAccountChangeSubscriptionCounter=0,this._programAccountChangeSubscriptions={},this._rootSubscriptionCounter=0,this._rootSubscriptions={},this._signatureSubscriptionCounter=0,this._signatureSubscriptions={},this._slotSubscriptionCounter=0,this._slotSubscriptions={},this._logsSubscriptionCounter=0,this._logsSubscriptions={},this._slotUpdateSubscriptionCounter=0,this._slotUpdateSubscriptions={};let o=new URL(e);const s=o.protocol==="https:";let c,m,A,P;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,c=r.wsEndpoint,m=r.httpHeaders,A=r.fetchMiddleware,P=r.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=c||es(e),this._rpcClient=fs(o.toString(),s,m,A,P),this._rpcRequest=ds(this._rpcClient),this._rpcBatchRequest=ps(this._rpcClient),this._rpcWebSocket=new Client(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:Infinity}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}getBalanceAndContext(e,r){return ce(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getBalance",o),c=create(s,Et(number()));if("error"in c)throw new Error("failed to get balance for "+e.toBase58()+": "+c.error.message);return c.result})}getBalance(e,r){return ce(this,null,function*(){return yield this.getBalanceAndContext(e,r).then(o=>o.value).catch(o=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+o)})})}getBlockTime(e){return ce(this,null,function*(){const r=yield this._rpcRequest("getBlockTime",[e]),o=create(r,je(nullable(number())));if("error"in o)throw new Error("failed to get block time for slot "+e+": "+o.error.message);return o.result})}getMinimumLedgerSlot(){return ce(this,null,function*(){const e=yield this._rpcRequest("minimumLedgerSlot",[]),r=create(e,je(number()));if("error"in r)throw new Error("failed to get minimum ledger slot: "+r.error.message);return r.result})}getFirstAvailableBlock(){return ce(this,null,function*(){const e=yield this._rpcRequest("getFirstAvailableBlock",[]),r=create(e,ws);if("error"in r)throw new Error("failed to get first available block: "+r.error.message);return r.result})}getSupply(e){return ce(this,null,function*(){let r={};typeof e=="string"?r={commitment:e}:e?r=Ne(Ne({},e),{commitment:e&&e.commitment||this.commitment}):r={commitment:this.commitment};const o=yield this._rpcRequest("getSupply",[r]),s=create(o,vs);if("error"in s)throw new Error("failed to get supply: "+s.error.message);return s.result})}getTokenSupply(e,r){return ce(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getTokenSupply",o),c=create(s,Et(Nn));if("error"in c)throw new Error("failed to get token supply: "+c.error.message);return c.result})}getTokenAccountBalance(e,r){return ce(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getTokenAccountBalance",o),c=create(s,Et(Nn));if("error"in c)throw new Error("failed to get token account balance: "+c.error.message);return c.result})}getTokenAccountsByOwner(e,r,o){return ce(this,null,function*(){let s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});const c=this._buildArgs(s,o,"base64"),m=yield this._rpcRequest("getTokenAccountsByOwner",c),A=create(m,xs);if("error"in A)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+A.error.message);return A.result})}getParsedTokenAccountsByOwner(e,r,o){return ce(this,null,function*(){let s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});const c=this._buildArgs(s,o,"jsonParsed"),m=yield this._rpcRequest("getTokenAccountsByOwner",c),A=create(m,Ss);if("error"in A)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+A.error.message);return A.result})}getLargestAccounts(e){return ce(this,null,function*(){const r=Ne(Ne({},e),{commitment:e&&e.commitment||this.commitment}),o=r.filter||r.commitment?[r]:[],s=yield this._rpcRequest("getLargestAccounts",o),c=create(s,ks);if("error"in c)throw new Error("failed to get largest accounts: "+c.error.message);return c.result})}getTokenLargestAccounts(e,r){return ce(this,null,function*(){const o=this._buildArgs([e.toBase58()],r),s=yield this._rpcRequest("getTokenLargestAccounts",o),c=create(s,Es);if("error"in c)throw new Error("failed to get token largest accounts: "+c.error.message);return c.result})}getAccountInfoAndContext(e,r){return ce(this,null,function*(){const o=this._buildArgs([e.toBase58()],r,"base64"),s=yield this._rpcRequest("getAccountInfo",o),c=create(s,Et(nullable(un)));if("error"in c)throw new Error("failed to get info about account "+e.toBase58()+": "+c.error.message);return c.result})}getParsedAccountInfo(e,r){return ce(this,null,function*(){const o=this._buildArgs([e.toBase58()],r,"jsonParsed"),s=yield this._rpcRequest("getAccountInfo",o),c=create(s,Et(nullable(Dn)));if("error"in c)throw new Error("failed to get info about account "+e.toBase58()+": "+c.error.message);return c.result})}getAccountInfo(e,r){return ce(this,null,function*(){try{return(yield this.getAccountInfoAndContext(e,r)).value}catch(o){throw new Error("failed to get info about account "+e.toBase58()+": "+o)}})}getMultipleAccountsInfo(e,r){return ce(this,null,function*(){const o=e.map(W=>W.toBase58());let s,c="base64";r&&(typeof r=="string"?(s=r,c="base64"):(s=r.commitment,c=r.encoding||"base64"));const m=this._buildArgs([o],s,c),A=yield this._rpcRequest("getMultipleAccounts",m),P=create(A,Et(array(nullable(Dn))));if("error"in P)throw new Error("failed to get info for accounts "+o+": "+P.error.message);return P.result.value})}getStakeActivation(e,r,o){return ce(this,null,function*(){const s=this._buildArgs([e.toBase58()],r,void 0,o!==void 0?{epoch:o}:void 0),c=yield this._rpcRequest("getStakeActivation",s),m=create(c,je(Bs));if("error"in m)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${m.error.message}`);return m.result})}getProgramAccounts(e,r){return ce(this,null,function*(){const o={};let s,c;r&&(typeof r=="string"?s=r:(s=r.commitment,c=r.encoding,r.dataSlice&&(o.dataSlice=r.dataSlice),r.filters&&(o.filters=r.filters)));const m=this._buildArgs([e.toBase58()],s,c||"base64",o),A=yield this._rpcRequest("getProgramAccounts",m),P=create(A,je(array(Is)));if("error"in P)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+P.error.message);return P.result})}getParsedProgramAccounts(e,r){return ce(this,null,function*(){const o={};let s;r&&(typeof r=="string"?s=r:(s=r.commitment,r.filters&&(o.filters=r.filters)));const c=this._buildArgs([e.toBase58()],s,"jsonParsed",o),m=yield this._rpcRequest("getProgramAccounts",c),A=create(m,je(array(_s)));if("error"in A)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+A.error.message);return A.result})}confirmTransaction(e,r){return ce(this,null,function*(){let o;try{o=bs58.decode(e)}catch(Y){throw new Error("signature must be base58 encoded: "+e)}wt(o.length===64,"signature has invalid length");const s=Date.now(),c=r||this.commitment;let m,A=null;const P=new Promise((Y,ne)=>{try{m=this.onSignature(e,(ye,pe)=>{m=void 0,A={context:pe,value:ye},Y(null)},c)}catch(ye){ne(ye)}});let W=this._confirmTransactionInitialTimeout||60*1e3;switch(c){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{W=this._confirmTransactionInitialTimeout||30*1e3;break}}try{yield Qo(P,W)}finally{m&&this.removeSignatureListener(m)}if(A===null){const Y=(Date.now()-s)/1e3;throw new Error(`Transaction was not confirmed in ${Y.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`)}return A})}getClusterNodes(){return ce(this,null,function*(){const e=yield this._rpcRequest("getClusterNodes",[]),r=create(e,je(array(zs)));if("error"in r)throw new Error("failed to get cluster nodes: "+r.error.message);return r.result})}getVoteAccounts(e){return ce(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getVoteAccounts",r),s=create(o,Ms);if("error"in s)throw new Error("failed to get vote accounts: "+s.error.message);return s.result})}getSlot(e){return ce(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getSlot",r),s=create(o,je(number()));if("error"in s)throw new Error("failed to get slot: "+s.error.message);return s.result})}getSlotLeader(e){return ce(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getSlotLeader",r),s=create(o,je(string()));if("error"in s)throw new Error("failed to get slot leader: "+s.error.message);return s.result})}getSlotLeaders(e,r){return ce(this,null,function*(){const o=[e,r],s=yield this._rpcRequest("getSlotLeaders",o),c=create(s,je(array(vt)));if("error"in c)throw new Error("failed to get slot leaders: "+c.error.message);return c.result})}getSignatureStatus(e,r){return ce(this,null,function*(){const{context:o,value:s}=yield this.getSignatureStatuses([e],r);wt(s.length===1);const c=s[0];return{context:o,value:c}})}getSignatureStatuses(e,r){return ce(this,null,function*(){const o=[e];r&&o.push(r);const s=yield this._rpcRequest("getSignatureStatuses",o),c=create(s,Ks);if("error"in c)throw new Error("failed to get signature status: "+c.error.message);return c.result})}getTransactionCount(e){return ce(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getTransactionCount",r),s=create(o,je(number()));if("error"in s)throw new Error("failed to get transaction count: "+s.error.message);return s.result})}getTotalSupply(e){return ce(this,null,function*(){return(yield this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total})}getInflationGovernor(e){return ce(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getInflationGovernor",r),s=create(o,ys);if("error"in s)throw new Error("failed to get inflation: "+s.error.message);return s.result})}getInflationReward(e,r,o){return ce(this,null,function*(){const s=this._buildArgs([e.map(A=>A.toBase58())],o,void 0,{epoch:r}),c=yield this._rpcRequest("getInflationReward",s),m=create(c,is);if("error"in m)throw new Error("failed to get inflation reward: "+m.error.message);return m.result})}getEpochInfo(e){return ce(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getEpochInfo",r),s=create(o,gs);if("error"in s)throw new Error("failed to get epoch info: "+s.error.message);return s.result})}getEpochSchedule(){return ce(this,null,function*(){const e=yield this._rpcRequest("getEpochSchedule",[]),r=create(e,ms);if("error"in r)throw new Error("failed to get epoch schedule: "+r.error.message);const o=r.result;return new Yo(o.slotsPerEpoch,o.leaderScheduleSlotOffset,o.warmup,o.firstNormalEpoch,o.firstNormalSlot)})}getLeaderSchedule(){return ce(this,null,function*(){const e=yield this._rpcRequest("getLeaderSchedule",[]),r=create(e,bs);if("error"in r)throw new Error("failed to get leader schedule: "+r.error.message);return r.result})}getMinimumBalanceForRentExemption(e,r){return ce(this,null,function*(){const o=this._buildArgs([e],r),s=yield this._rpcRequest("getMinimumBalanceForRentExemption",o),c=create(s,Vs);return"error"in c?(console.warn("Unable to fetch minimum balance for rent exemption"),0):c.result})}getRecentBlockhashAndContext(e){return ce(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getRecentBlockhash",r),s=create(o,Js);if("error"in s)throw new Error("failed to get recent blockhash: "+s.error.message);return s.result})}getRecentPerformanceSamples(e){return ce(this,null,function*(){const r=this._buildArgs(e?[e]:[]),o=yield this._rpcRequest("getRecentPerformanceSamples",r),s=create(o,ta);if("error"in s)throw new Error("failed to get recent performance samples: "+s.error.message);return s.result})}getFeeCalculatorForBlockhash(e,r){return ce(this,null,function*(){const o=this._buildArgs([e],r),s=yield this._rpcRequest("getFeeCalculatorForBlockhash",o),c=create(s,ra);if("error"in c)throw new Error("failed to get fee calculator: "+c.error.message);const{context:m,value:A}=c.result;return{context:m,value:A!==null?A.feeCalculator:null}})}getFeeForMessage(e,r){return ce(this,null,function*(){const o=e.serialize().toString("base64"),s=this._buildArgs([o],r),c=yield this._rpcRequest("getFeeForMessage",s),m=create(c,Et(nullable(number())));if("error"in m)throw new Error("failed to get slot: "+m.error.message);if(m.result===null)throw new Error("invalid blockhash");return m.result})}getRecentBlockhash(e){return ce(this,null,function*(){try{return(yield this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}})}getLatestBlockhash(e){return ce(this,null,function*(){try{return(yield this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}})}getLatestBlockhashAndContext(e){return ce(this,null,function*(){const r=this._buildArgs([],e),o=yield this._rpcRequest("getLatestBlockhash",r),s=create(o,Qs);if("error"in s)throw new Error("failed to get latest blockhash: "+s.error.message);return s.result})}getVersion(){return ce(this,null,function*(){const e=yield this._rpcRequest("getVersion",[]),r=create(e,je(ls));if("error"in r)throw new Error("failed to get version: "+r.error.message);return r.result})}getGenesisHash(){return ce(this,null,function*(){const e=yield this._rpcRequest("getGenesisHash",[]),r=create(e,je(string()));if("error"in r)throw new Error("failed to get genesis hash: "+r.error.message);return r.result})}getBlock(e,r){return ce(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r&&r.commitment),s=yield this._rpcRequest("getBlock",o),c=create(s,Ys);if("error"in c)throw new Error("failed to get confirmed block: "+c.error.message);const m=c.result;return m&&Ne(Ne({},m),{transactions:m.transactions.map(({transaction:A,meta:P})=>{const W=new br(A.message);return{meta:P,transaction:Ne(Ne({},A),{message:W})}})})})}getTransaction(e,r){return ce(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r&&r.commitment),s=yield this._rpcRequest("getTransaction",o),c=create(s,Bi);if("error"in c)throw new Error("failed to get transaction: "+c.error.message);const m=c.result;return m&&Ne(Ne({},m),{transaction:Ne(Ne({},m.transaction),{message:new br(m.transaction.message)})})})}getParsedTransaction(e,r){return ce(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),s=yield this._rpcRequest("getTransaction",o),c=create(s,hn);if("error"in c)throw new Error("failed to get transaction: "+c.error.message);return c.result})}getParsedTransactions(e,r){return ce(this,null,function*(){const o=e.map(m=>{const A=this._buildArgsAtLeastConfirmed([m],r,"jsonParsed");return{methodName:"getTransaction",args:A}});return(yield this._rpcBatchRequest(o)).map(m=>{const A=create(m,hn);if("error"in A)throw new Error("failed to get transactions: "+A.error.message);return A.result})})}getConfirmedBlock(e,r){return ce(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r),s=yield this._rpcRequest("getConfirmedBlock",o),c=create(s,Xs);if("error"in c)throw new Error("failed to get confirmed block: "+c.error.message);const m=c.result;if(!m)throw new Error("Confirmed block "+e+" not found");const A=Ne(Ne({},m),{transactions:m.transactions.map(({transaction:P,meta:W})=>{const Y=new br(P.message);return{meta:W,transaction:Ne(Ne({},P),{message:Y})}})});return Ne(Ne({},A),{transactions:A.transactions.map(({transaction:P,meta:W})=>({meta:W,transaction:qe.populate(P.message,P.signatures)}))})})}getBlocks(e,r,o){return ce(this,null,function*(){const s=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],o),c=yield this._rpcRequest("getBlocks",s),m=create(c,je(array(number())));if("error"in m)throw new Error("failed to get blocks: "+m.error.message);return m.result})}getBlockSignatures(e,r){return ce(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),s=yield this._rpcRequest("getBlock",o),c=create(s,_i);if("error"in c)throw new Error("failed to get block: "+c.error.message);const m=c.result;if(!m)throw new Error("Block "+e+" not found");return m})}getConfirmedBlockSignatures(e,r){return ce(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),s=yield this._rpcRequest("getConfirmedBlock",o),c=create(s,_i);if("error"in c)throw new Error("failed to get confirmed block: "+c.error.message);const m=c.result;if(!m)throw new Error("Confirmed block "+e+" not found");return m})}getConfirmedTransaction(e,r){return ce(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r),s=yield this._rpcRequest("getConfirmedTransaction",o),c=create(s,Bi);if("error"in c)throw new Error("failed to get transaction: "+c.error.message);const m=c.result;if(!m)return m;const A=new br(m.transaction.message),P=m.transaction.signatures;return Ne(Ne({},m),{transaction:qe.populate(A,P)})})}getParsedConfirmedTransaction(e,r){return ce(this,null,function*(){const o=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),s=yield this._rpcRequest("getConfirmedTransaction",o),c=create(s,hn);if("error"in c)throw new Error("failed to get confirmed transaction: "+c.error.message);return c.result})}getParsedConfirmedTransactions(e,r){return ce(this,null,function*(){const o=e.map(m=>{const A=this._buildArgsAtLeastConfirmed([m],r,"jsonParsed");return{methodName:"getConfirmedTransaction",args:A}});return(yield this._rpcBatchRequest(o)).map(m=>{const A=create(m,hn);if("error"in A)throw new Error("failed to get confirmed transactions: "+A.error.message);return A.result})})}getConfirmedSignaturesForAddress(e,r,o){return ce(this,null,function*(){let s={},c=yield this.getFirstAvailableBlock();for(;!("until"in s)&&(r--,!(r<=0||r<c));)try{const P=yield this.getConfirmedBlockSignatures(r,"finalized");P.signatures.length>0&&(s.until=P.signatures[P.signatures.length-1].toString())}catch(P){if(P instanceof Error&&P.message.includes("skipped"))continue;throw P}let m=yield this.getSlot("finalized");for(;!("before"in s)&&(o++,!(o>m));)try{const P=yield this.getConfirmedBlockSignatures(o);P.signatures.length>0&&(s.before=P.signatures[P.signatures.length-1].toString())}catch(P){if(P instanceof Error&&P.message.includes("skipped"))continue;throw P}return(yield this.getConfirmedSignaturesForAddress2(e,s)).map(P=>P.signature)})}getConfirmedSignaturesForAddress2(e,r,o){return ce(this,null,function*(){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],o,void 0,r),c=yield this._rpcRequest("getConfirmedSignaturesForAddress2",s),m=create(c,Rs);if("error"in m)throw new Error("failed to get confirmed signatures for address: "+m.error.message);return m.result})}getSignaturesForAddress(e,r,o){return ce(this,null,function*(){const s=this._buildArgsAtLeastConfirmed([e.toBase58()],o,void 0,r),c=yield this._rpcRequest("getSignaturesForAddress",s),m=create(c,Ps);if("error"in m)throw new Error("failed to get signatures for address: "+m.error.message);return m.result})}getNonceAndContext(e,r){return ce(this,null,function*(){const{context:o,value:s}=yield this.getAccountInfoAndContext(e,r);let c=null;return s!==null&&(c=Tn.fromAccountData(s.data)),{context:o,value:c}})}getNonce(e,r){return ce(this,null,function*(){return yield this.getNonceAndContext(e,r).then(o=>o.value).catch(o=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+o)})})}requestAirdrop(e,r){return ce(this,null,function*(){const o=yield this._rpcRequest("requestAirdrop",[e.toBase58(),r]),s=create(o,na);if("error"in s)throw new Error("airdrop to "+e.toBase58()+" failed: "+s.error.message);return s.result})}_recentBlockhash(e){return ce(this,null,function*(){if(!e){for(;this._pollingBlockhash;)yield an(100);const o=Date.now()-this._blockhashInfo.lastFetch>=ts;if(this._blockhashInfo.recentBlockhash!==null&&!o)return this._blockhashInfo.recentBlockhash}return yield this._pollNewBlockhash()})}_pollNewBlockhash(){return ce(this,null,function*(){this._pollingBlockhash=!0;try{const e=Date.now();for(let r=0;r<50;r++){const{blockhash:o}=yield this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=o)return this._blockhashInfo={recentBlockhash:o,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},o;yield an(Jo/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}})}simulateTransaction(e,r,o){return ce(this,null,function*(){let s;if(e instanceof qe?s=e:s=qe.populate(e),s.nonceInfo&&r)s.sign(...r);else{let pe=this._disableBlockhashCaching;for(;s.recentBlockhash=yield this._recentBlockhash(pe),!!r;){if(s.sign(...r),!s.signature)throw new Error("!signature");const _e=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(_e)&&!this._blockhashInfo.transactionSignatures.includes(_e)){this._blockhashInfo.simulatedSignatures.push(_e);break}else pe=!0}}const c=s._compile(),m=c.serialize(),P=s._serialize(m).toString("base64"),W={encoding:"base64",commitment:this.commitment};if(o){const pe=(Array.isArray(o)?o:c.nonProgramIds()).map(_e=>_e.toBase58());W.accounts={encoding:"base64",addresses:pe}}r&&(W.sigVerify=!0);const Y=[P,W],ne=yield this._rpcRequest("simulateTransaction",Y),ye=create(ne,hs);if("error"in ye){let pe;if("data"in ye.error&&(pe=ye.error.data.logs,pe&&Array.isArray(pe))){const _e=`
    `,Pe=_e+pe.join(_e);console.error(ye.error.message,Pe)}throw new vi("failed to simulate transaction: "+ye.error.message,pe)}return ye.result})}sendTransaction(e,r,o){return ce(this,null,function*(){if(e.nonceInfo)e.sign(...r);else{let c=this._disableBlockhashCaching;for(;;){if(e.recentBlockhash=yield this._recentBlockhash(c),e.sign(...r),!e.signature)throw new Error("!signature");const m=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(m))c=!0;else{this._blockhashInfo.transactionSignatures.push(m);break}}}const s=e.serialize();return yield this.sendRawTransaction(s,o)})}sendRawTransaction(e,r){return ce(this,null,function*(){const o=D(e).toString("base64");return yield this.sendEncodedTransaction(o,r)})}sendEncodedTransaction(e,r){return ce(this,null,function*(){const o={encoding:"base64"},s=r&&r.skipPreflight,c=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries&&(o.maxRetries=r.maxRetries),s&&(o.skipPreflight=s),c&&(o.preflightCommitment=c);const m=[e,o],A=yield this._rpcRequest("sendTransaction",m),P=create(A,ia);if("error"in P){let W;if("data"in P.error&&(W=P.error.data.logs,W&&Array.isArray(W))){const Y=`
    `,ne=Y+W.join(Y);console.error(P.error.message,ne)}throw new vi("failed to send transaction: "+P.error.message,W)}return P.result})}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{this._rpcWebSocket.notify("ping").catch(()=>{})},5e3),this._updateSubscriptions()}_wsOnError(e){console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._resetSubscriptions()}_subscribe(e,r,o){return ce(this,null,function*(){if(e.subscriptionId==null){e.subscriptionId="subscribing";try{const s=yield this._rpcWebSocket.call(r,o);typeof s=="number"&&e.subscriptionId==="subscribing"&&(e.subscriptionId=s)}catch(s){e.subscriptionId==="subscribing"&&(e.subscriptionId=null),s instanceof Error&&console.error(`${r} error for argument`,o,s.message)}}})}_unsubscribe(e,r){return ce(this,null,function*(){const o=e.subscriptionId;if(o!=null&&typeof o!="string"){const s=o;try{yield this._rpcWebSocket.call(r,[s])}catch(c){c instanceof Error&&console.error(`${r} error:`,c.message)}}})}_resetSubscriptions(){Object.values(this._accountChangeSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._programAccountChangeSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._rootSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._signatureSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._slotSubscriptions).forEach(e=>e.subscriptionId=null),Object.values(this._slotUpdateSubscriptions).forEach(e=>e.subscriptionId=null)}_updateSubscriptions(){const e=Object.keys(this._accountChangeSubscriptions).map(Number),r=Object.keys(this._programAccountChangeSubscriptions).map(Number),o=Object.keys(this._slotSubscriptions).map(Number),s=Object.keys(this._slotUpdateSubscriptions).map(Number),c=Object.keys(this._signatureSubscriptions).map(Number),m=Object.keys(this._rootSubscriptions).map(Number),A=Object.keys(this._logsSubscriptions).map(Number);if(e.length===0&&r.length===0&&o.length===0&&s.length===0&&c.length===0&&m.length===0&&A.length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(P){P instanceof Error&&console.log(`Error when closing socket connection: ${P.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}for(let P of e){const W=this._accountChangeSubscriptions[P];this._subscribe(W,"accountSubscribe",this._buildArgs([W.publicKey],W.commitment,"base64"))}for(let P of r){const W=this._programAccountChangeSubscriptions[P];this._subscribe(W,"programSubscribe",this._buildArgs([W.programId],W.commitment,"base64",{filters:W.filters}))}for(let P of o){const W=this._slotSubscriptions[P];this._subscribe(W,"slotSubscribe",[])}for(let P of s){const W=this._slotUpdateSubscriptions[P];this._subscribe(W,"slotsUpdatesSubscribe",[])}for(let P of c){const W=this._signatureSubscriptions[P],Y=[W.signature];W.options&&Y.push(W.options),this._subscribe(W,"signatureSubscribe",Y)}for(let P of m){const W=this._rootSubscriptions[P];this._subscribe(W,"rootSubscribe",[])}for(let P of A){const W=this._logsSubscriptions[P];let Y;typeof W.filter=="object"?Y={mentions:[W.filter.toString()]}:Y=W.filter,this._subscribe(W,"logsSubscribe",this._buildArgs([Y],W.commitment))}}_wsOnAccountNotification(e){const r=create(e,Cs);for(const o of Object.values(this._accountChangeSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result.value,r.result.context);return}}onAccountChange(e,r,o){const s=++this._accountChangeSubscriptionCounter;return this._accountChangeSubscriptions[s]={publicKey:e.toBase58(),callback:r,commitment:o,subscriptionId:null},this._updateSubscriptions(),s}removeAccountChangeListener(e){return ce(this,null,function*(){if(this._accountChangeSubscriptions[e]){const r=this._accountChangeSubscriptions[e];delete this._accountChangeSubscriptions[e],yield this._unsubscribe(r,"accountUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown account change id: ${e}`)})}_wsOnProgramAccountNotification(e){const r=create(e,Us);for(const o of Object.values(this._programAccountChangeSubscriptions))if(o.subscriptionId===r.subscription){const{value:s,context:c}=r.result;o.callback({accountId:s.pubkey,accountInfo:s.account},c);return}}onProgramAccountChange(e,r,o,s){const c=++this._programAccountChangeSubscriptionCounter;return this._programAccountChangeSubscriptions[c]={programId:e.toBase58(),callback:r,commitment:o,subscriptionId:null,filters:s},this._updateSubscriptions(),c}removeProgramAccountChangeListener(e){return ce(this,null,function*(){if(this._programAccountChangeSubscriptions[e]){const r=this._programAccountChangeSubscriptions[e];delete this._programAccountChangeSubscriptions[e],yield this._unsubscribe(r,"programUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown program account change id: ${e}`)})}onLogs(e,r,o){const s=++this._logsSubscriptionCounter;return this._logsSubscriptions[s]={filter:e,callback:r,commitment:o,subscriptionId:null},this._updateSubscriptions(),s}removeOnLogsListener(e){return ce(this,null,function*(){if(!this._logsSubscriptions[e])throw new Error(`Unknown logs id: ${e}`);const r=this._logsSubscriptions[e];delete this._logsSubscriptions[e],yield this._unsubscribe(r,"logsUnsubscribe"),this._updateSubscriptions()})}_wsOnLogsNotification(e){const r=create(e,sa),o=Object.keys(this._logsSubscriptions).map(Number);for(let s of o){const c=this._logsSubscriptions[s];if(c.subscriptionId===r.subscription){c.callback(r.result.value,r.result.context);return}}}_wsOnSlotNotification(e){const r=create(e,Fs);for(const o of Object.values(this._slotSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result);return}}onSlotChange(e){const r=++this._slotSubscriptionCounter;return this._slotSubscriptions[r]={callback:e,subscriptionId:null},this._updateSubscriptions(),r}removeSlotChangeListener(e){return ce(this,null,function*(){if(this._slotSubscriptions[e]){const r=this._slotSubscriptions[e];delete this._slotSubscriptions[e],yield this._unsubscribe(r,"slotUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown slot change id: ${e}`)})}_wsOnSlotUpdatesNotification(e){const r=create(e,Ls);for(const o of Object.values(this._slotUpdateSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result);return}}onSlotUpdate(e){const r=++this._slotUpdateSubscriptionCounter;return this._slotUpdateSubscriptions[r]={callback:e,subscriptionId:null},this._updateSubscriptions(),r}removeSlotUpdateListener(e){return ce(this,null,function*(){if(this._slotUpdateSubscriptions[e]){const r=this._slotUpdateSubscriptions[e];delete this._slotUpdateSubscriptions[e],yield this._unsubscribe(r,"slotsUpdatesUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown slot update id: ${e}`)})}_buildArgs(e,r,o,s){const c=r||this._commitment;if(c||o||s){let m={};o&&(m.encoding=o),c&&(m.commitment=c),s&&(m=Object.assign(m,s)),e.push(m)}return e}_buildArgsAtLeastConfirmed(e,r,o,s){const c=r||this._commitment;if(c&&!["confirmed","finalized"].includes(c))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,o,s)}_wsOnSignatureNotification(e){const r=create(e,Ds);for(const[o,s]of Object.entries(this._signatureSubscriptions))if(s.subscriptionId===r.subscription){r.result.value==="receivedSignature"?s.callback({type:"received"},r.result.context):(delete this._signatureSubscriptions[Number(o)],this._updateSubscriptions(),s.callback({type:"status",result:r.result.value},r.result.context));return}}onSignature(e,r,o){const s=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[s]={signature:e,callback:(c,m)=>{c.type==="status"&&r(c.result,m)},options:{commitment:o},subscriptionId:null},this._updateSubscriptions(),s}onSignatureWithOptions(e,r,o){const s=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[s]={signature:e,callback:r,options:o,subscriptionId:null},this._updateSubscriptions(),s}removeSignatureListener(e){return ce(this,null,function*(){if(this._signatureSubscriptions[e]){const r=this._signatureSubscriptions[e];delete this._signatureSubscriptions[e],yield this._unsubscribe(r,"signatureUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown signature result id: ${e}`)})}_wsOnRootNotification(e){const r=create(e,Ws);for(const o of Object.values(this._rootSubscriptions))if(o.subscriptionId===r.subscription){o.callback(r.result);return}}onRootChange(e){const r=++this._rootSubscriptionCounter;return this._rootSubscriptions[r]={callback:e,subscriptionId:null},this._updateSubscriptions(),r}removeRootChangeListener(e){return ce(this,null,function*(){if(this._rootSubscriptions[e]){const r=this._rootSubscriptions[e];delete this._rootSubscriptions[e],yield this._unsubscribe(r,"rootUnsubscribe"),this._updateSubscriptions()}else throw new Error(`Unknown root change id: ${e}`)})}}class Kr{constructor(e){this._keypair=void 0,e?this._keypair=e:this._keypair=T().sign.keyPair()}static generate(){return new Kr(T().sign.keyPair())}static fromSecretKey(e,r){const o=T().sign.keyPair.fromSecretKey(e);if(!r||!r.skipValidation){const c=new TextEncoder().encode("@solana/web3.js-validation-v1"),m=T().sign.detached(c,o.secretKey);if(!T().sign.detached.verify(c,m,o.publicKey))throw new Error("provided secretKey is invalid")}return new Kr(o)}static fromSeed(e){return new Kr(T().sign.keyPair.fromSeed(e))}get publicKey(){return new xe(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const Ri=64,Pi=32,Ci=64,Ti=S.struct([S.u8("numSignatures"),S.u8("padding"),S.u16("signatureOffset"),S.u16("signatureInstructionIndex"),S.u16("publicKeyOffset"),S.u16("publicKeyInstructionIndex"),S.u16("messageDataOffset"),S.u16("messageDataSize"),S.u16("messageInstructionIndex")]);class Mn{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:o,signature:s,instructionIndex:c}=e;wt(r.length===Pi,`Public Key must be ${Pi} bytes but received ${r.length} bytes`),wt(s.length===Ci,`Signature must be ${Ci} bytes but received ${s.length} bytes`);const m=Ti.span,A=m+r.length,P=A+s.length,W=1,Y=R.lW.alloc(P+o.length);return Ti.encode({numSignatures:W,padding:0,signatureOffset:A,signatureInstructionIndex:c,publicKeyOffset:m,publicKeyInstructionIndex:c,messageDataOffset:P,messageDataSize:o.length,messageInstructionIndex:c},Y),Y.fill(r,m),Y.fill(s,A),Y.fill(o,P),new kt({keys:[],programId:Mn.programId,data:Y})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:o,instructionIndex:s}=e;wt(r.length===Ri,`Private key must be ${Ri} bytes but received ${r.length} bytes`);try{const c=Kr.fromSecretKey(r),m=c.publicKey.toBytes(),A=T().sign.detached(o,c.secretKey);return this.createInstructionWithPublicKey({publicKey:m,message:o,signature:A,instructionIndex:s})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}Mn.programId=new xe("Ed25519SigVerify111111111111111111111111111");const aa=new xe("StakeConfig11111111111111111111111111111111");class ca{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class fn{constructor(e,r,o){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=o}}fn.default=new fn(0,0,xe.default);class Wa{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const o=BufferLayout.u32("instruction").decode(e.data);let s;for(const[c,m]of Object.entries(xt))if(m.index==o){s=c;break}if(!s)throw new Error("Instruction type incorrect; not a StakeInstruction");return s}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:o}=nt(xt.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new ca(new xe(r.staker),new xe(r.withdrawer)),lockup:new fn(o.unixTimestamp,o.epoch,new xe(o.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),nt(xt.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:o}=nt(xt.Authorize,e.data),s={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new xe(r),stakeAuthorizationType:{index:o}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:o,authoritySeed:s,authorityOwner:c}=nt(xt.AuthorizeWithSeed,e.data),m={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:s,authorityOwner:new xe(c),newAuthorizedPubkey:new xe(r),stakeAuthorizationType:{index:o}};return e.keys.length>3&&(m.custodianPubkey=e.keys[3].pubkey),m}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=nt(xt.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),nt(xt.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=nt(xt.Withdraw,e.data),o={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(o.custodianPubkey=e.keys[5].pubkey),o}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),nt(xt.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals($n.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const xt=Object.freeze({Initialize:{index:0,layout:S.struct([S.u32("instruction"),$o(),jo()])},Authorize:{index:1,layout:S.struct([S.u32("instruction"),Ve("newAuthorized"),S.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:S.struct([S.u32("instruction")])},Split:{index:3,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},Withdraw:{index:4,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])},Deactivate:{index:5,layout:S.struct([S.u32("instruction")])},Merge:{index:7,layout:S.struct([S.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:S.struct([S.u32("instruction"),Ve("newAuthorized"),S.u32("stakeAuthorizationType"),Ur("authoritySeed"),Ve("authorityOwner")])}}),za=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class $n{constructor(){}static initialize(e){const{stakePubkey:r,authorized:o,lockup:s}=e,c=s||fn.default,m=xt.Initialize,A=rt(m,{authorized:{staker:D(o.staker.toBuffer()),withdrawer:D(o.withdrawer.toBuffer())},lockup:{unixTimestamp:c.unixTimestamp,epoch:c.epoch,custodian:D(c.custodian.toBuffer())}}),P={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:$r,isSigner:!1,isWritable:!1}],programId:this.programId,data:A};return new kt(P)}static createAccountWithSeed(e){const r=new qe;r.add(Rt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:o,authorized:s,lockup:c}=e;return r.add(this.initialize({stakePubkey:o,authorized:s,lockup:c}))}static createAccount(e){const r=new qe;r.add(Rt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:o,authorized:s,lockup:c}=e;return r.add(this.initialize({stakePubkey:o,authorized:s,lockup:c}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:o,votePubkey:s}=e,c=xt.Delegate,m=rt(c);return new qe().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:aa,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:m})}static authorize(e){const{stakePubkey:r,authorizedPubkey:o,newAuthorizedPubkey:s,stakeAuthorizationType:c,custodianPubkey:m}=e,A=xt.Authorize,P=rt(A,{newAuthorized:D(s.toBuffer()),stakeAuthorizationType:c.index}),W=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return m&&W.push({pubkey:m,isSigner:!1,isWritable:!1}),new qe().add({keys:W,programId:this.programId,data:P})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:o,authoritySeed:s,authorityOwner:c,newAuthorizedPubkey:m,stakeAuthorizationType:A,custodianPubkey:P}=e,W=xt.AuthorizeWithSeed,Y=rt(W,{newAuthorized:D(m.toBuffer()),stakeAuthorizationType:A.index,authoritySeed:s,authorityOwner:D(c.toBuffer())}),ne=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1}];return P&&ne.push({pubkey:P,isSigner:!1,isWritable:!1}),new qe().add({keys:ne,programId:this.programId,data:Y})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:o,splitStakePubkey:s,lamports:c}=e,m=xt.Split,A=rt(m,{lamports:c});return new kt({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:A})}static split(e){const r=new qe;return r.add(Rt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:r,authorizedPubkey:o,splitStakePubkey:s,basePubkey:c,seed:m,lamports:A}=e,P=new qe;return P.add(Rt.allocate({accountPubkey:s,basePubkey:c,seed:m,space:this.space,programId:this.programId})),P.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:o,splitStakePubkey:s,lamports:A}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:o,authorizedPubkey:s}=e,c=xt.Merge,m=rt(c);return new qe().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}],programId:this.programId,data:m})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:o,toPubkey:s,lamports:c,custodianPubkey:m}=e,A=xt.Withdraw,P=rt(A,{lamports:c}),W=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:Pn,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}];return m&&W.push({pubkey:m,isSigner:!1,isWritable:!1}),new qe().add({keys:W,programId:this.programId,data:P})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:o}=e,s=xt.Deactivate,c=rt(s);return new qe().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:c})}}$n.programId=new xe("Stake11111111111111111111111111111111111111"),$n.space=200;const{publicKeyCreate:ua,ecdsaSign:la}=x(),Ui=32,jn=20,Oi=64,ha=11,Kn=S.struct([S.u8("numSignatures"),S.u16("signatureOffset"),S.u8("signatureInstructionIndex"),S.u16("ethAddressOffset"),S.u8("ethAddressInstructionIndex"),S.u16("messageDataOffset"),S.u16("messageDataSize"),S.u8("messageInstructionIndex"),S.blob(20,"ethAddress"),S.blob(64,"signature"),S.u8("recoveryId")]);class Vr{constructor(){}static publicKeyToEthAddress(e){wt(e.length===Oi,`Public key must be ${Oi} bytes but received ${e.length} bytes`);try{return R.lW.from(B().keccak_256.update(D(e)).digest()).slice(-jn)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:o,signature:s,recoveryId:c,instructionIndex:m}=e;return Vr.createInstructionWithEthAddress({ethAddress:Vr.publicKeyToEthAddress(r),message:o,signature:s,recoveryId:c,instructionIndex:m})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:o,signature:s,recoveryId:c,instructionIndex:m=0}=e;let A;typeof r=="string"?r.startsWith("0x")?A=R.lW.from(r.substr(2),"hex"):A=R.lW.from(r,"hex"):A=r,wt(A.length===jn,`Address must be ${jn} bytes but received ${A.length} bytes`);const P=1+ha,W=P,Y=P+A.length,ne=Y+s.length+1,ye=1,pe=R.lW.alloc(Kn.span+o.length);return Kn.encode({numSignatures:ye,signatureOffset:Y,signatureInstructionIndex:m,ethAddressOffset:W,ethAddressInstructionIndex:m,messageDataOffset:ne,messageDataSize:o.length,messageInstructionIndex:m,signature:D(s),ethAddress:D(A),recoveryId:c},pe),pe.fill(D(o),Kn.span),new kt({keys:[],programId:Vr.programId,data:pe})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:o,instructionIndex:s}=e;wt(r.length===Ui,`Private key must be ${Ui} bytes but received ${r.length} bytes`);try{const c=D(r),m=ua(c,!1).slice(1),A=R.lW.from(B().keccak_256.update(D(o)).digest()),{signature:P,recid:W}=la(A,c);return this.createInstructionWithPublicKey({publicKey:m,message:o,signature:P,recoveryId:W,instructionIndex:s})}catch(c){throw new Error(`Error creating instruction; ${c}`)}}}Vr.programId=new xe("KeccakSecp256k11111111111111111111111111111");const fa=new xe("Va1idator1nfo111111111111111111111111111111"),da=G({name:me(),website:Te(me()),details:Te(me()),keybaseUsername:Te(me())});class Fi{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){const r=32;let o=[...e];if(Or(o)!==2)return null;const c=[];for(let m=0;m<2;m++){const A=new xe(o.slice(0,r));o=o.slice(r);const P=o.slice(0,1)[0]===1;o=o.slice(1),c.push({publicKey:A,isSigner:P})}if(c[0].publicKey.equals(fa)&&c[1].isSigner){const m=Ur().decode(Buffer.from(o)),A=JSON.parse(m);return assert$7(A,da),new Fi(c[1].publicKey,A)}return null}}const Ma=new xe("Vote111111111111111111111111111111111111111"),pa=S.struct([Ve("nodePubkey"),Ve("authorizedWithdrawer"),S.u8("commission"),S.nu64(),S.seq(S.struct([S.nu64("slot"),S.u32("confirmationCount")]),S.offset(S.u32(),-8),"votes"),S.u8("rootSlotValid"),S.nu64("rootSlot"),S.nu64(),S.seq(S.struct([S.nu64("epoch"),Ve("authorizedVoter")]),S.offset(S.u32(),-8),"authorizedVoters"),S.struct([S.seq(S.struct([Ve("authorizedPubkey"),S.nu64("epochOfLastAuthorizedSwitch"),S.nu64("targetEpoch")]),32,"buf"),S.nu64("idx"),S.u8("isEmpty")],"priorVoters"),S.nu64(),S.seq(S.struct([S.nu64("epoch"),S.nu64("credits"),S.nu64("prevCredits")]),S.offset(S.u32(),-8),"epochCredits"),S.struct([S.nu64("slot"),S.nu64("timestamp")],"lastTimestamp")]);class Ni{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const r=4,o=pa.decode(D(e),r);let s=o.rootSlot;return o.rootSlotValid||(s=null),new Ni({nodePubkey:new xe(o.nodePubkey),authorizedWithdrawer:new xe(o.authorizedWithdrawer),commission:o.commission,votes:o.votes,rootSlot:s,authorizedVoters:o.authorizedVoters.map(ya),priorVoters:ma(o.priorVoters),epochCredits:o.epochCredits,lastTimestamp:o.lastTimestamp})}}function ya({epoch:a,authorizedVoter:e}){return{epoch:a,authorizedVoter:new xe(e)}}function ga({authorizedPubkey:a,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new xe(a),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function ma({buf:a,idx:e,isEmpty:r}){return r?[]:[...a.slice(e+1).map(ga),...a.slice(0,e)]}class ba{constructor(e,r,o,s){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=o,this.commission=s}}class $a{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const o=BufferLayout.u32("instruction").decode(e.data);let s;for(const[c,m]of Object.entries(Ir))if(m.index==o){s=c;break}if(!s)throw new Error("Instruction type incorrect; not a VoteInstruction");return s}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=nt(Ir.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new ba(new xe(r.nodePubkey),new xe(r.authorizedVoter),new xe(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:o}=nt(Ir.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new xe(r),voteAuthorizationType:{index:o}}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=nt(Ir.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Vn.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Ir=Object.freeze({InitializeAccount:{index:0,layout:S.struct([S.u32("instruction"),Ko()])},Authorize:{index:1,layout:S.struct([S.u32("instruction"),Ve("newAuthorized"),S.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:S.struct([S.u32("instruction"),S.ns64("lamports")])}}),ja=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Vn{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:o,voteInit:s}=e,c=Ir.InitializeAccount,m=rt(c,{voteInit:{nodePubkey:D(s.nodePubkey.toBuffer()),authorizedVoter:D(s.authorizedVoter.toBuffer()),authorizedWithdrawer:D(s.authorizedWithdrawer.toBuffer()),commission:s.commission}}),A={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:$r,isSigner:!1,isWritable:!1},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:m};return new kt(A)}static createAccount(e){const r=new qe;return r.add(Rt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:o,newAuthorizedPubkey:s,voteAuthorizationType:c}=e,m=Ir.Authorize,A=rt(m,{newAuthorized:D(s.toBuffer()),voteAuthorizationType:c.index}),P=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}];return new qe().add({keys:P,programId:this.programId,data:A})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:o,lamports:s,toPubkey:c}=e,m=Ir.Withdraw,A=rt(m,{lamports:s}),P=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!0,isWritable:!1}];return new qe().add({keys:P,programId:this.programId,data:A})}}Vn.programId=new xe("Vote111111111111111111111111111111111111111"),Vn.space=3731;function Ka(a,e,r){return ce(this,null,function*(){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},s=yield a.sendRawTransaction(e,o),c=(yield a.confirmTransaction(s,r&&r.commitment)).value;if(c.err)throw new Error(`Raw transaction ${s} failed (${JSON.stringify(c)})`);return s})}const Li={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Va(a,e){const r=e===!1?"http":"https";if(!a)return Li[r].devnet;const o=Li[r][a];if(!o)throw new Error(`Unknown ${r} cluster: ${a}`);return o}const Ha=1e9;var Ar=function(a,e,r,o){function s(c){return c instanceof r?c:new r(function(m){m(c)})}return new(r||(r=Promise))(function(c,m){function A(Y){try{W(o.next(Y))}catch(ne){m(ne)}}function P(Y){try{W(o.throw(Y))}catch(ne){m(ne)}}function W(Y){Y.done?c(Y.value):s(Y.value).then(A,P)}W((o=o.apply(a,e||[])).next())})};class wa extends V(){constructor(e,r){super();if(this._network=r,this._publicKey=null,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._autoApprove=!1,this._responsePromises=new Map,this.handleMessage=o=>{var s;if(this._injectedProvider&&o.source===window||o.origin===((s=this._providerUrl)===null||s===void 0?void 0:s.origin)&&o.source===this._popup){if(o.data.method==="connected"){const c=new xe(o.data.params.publicKey);(!this._publicKey||!this._publicKey.equals(c))&&(this._publicKey&&!this._publicKey.equals(c)&&this.handleDisconnect(),this._publicKey=c,this._autoApprove=!!o.data.params.autoApprove,this.emit("connect",this._publicKey))}else if(o.data.method==="disconnected")this.handleDisconnect();else if(o.data.result||o.data.error){const c=this._responsePromises.get(o.data.id);if(c){const[m,A]=c;o.data.result?m(o.data.result):A(new Error(o.data.error))}}}},this._beforeUnload=()=>{this.disconnect()},Ea(e))this._injectedProvider=e;else if(va(e))this._providerUrl=new URL(e),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:this._network}).toString();else throw new Error("provider parameter must be an injected provider or a URL string.")}handleConnect(){var e;return this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)),this._injectedProvider?new Promise(r=>{this.sendRequest("connect",{}),r()}):(window.name="parent",this._popup=window.open((e=this._providerUrl)===null||e===void 0?void 0:e.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(r=>{this.once("connect",r)}))}handleDisconnect(){this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(([,e],r)=>{this._responsePromises.delete(r),e(new Error("Wallet disconnected"))})}sendRequest(e,r){return Ar(this,void 0,void 0,function*(){if(e!=="connect"&&!this.connected)throw new Error("Wallet not connected");const o=this._nextRequestId;return++this._nextRequestId,new Promise((s,c)=>{var m,A,P,W;this._responsePromises.set(o,[s,c]),this._injectedProvider?this._injectedProvider.postMessage({jsonrpc:"2.0",id:o,method:e,params:Object.assign({network:this._network},r)}):((m=this._popup)===null||m===void 0||m.postMessage({jsonrpc:"2.0",id:o,method:e,params:r},(P=(A=this._providerUrl)===null||A===void 0?void 0:A.origin)!==null&&P!==void 0?P:""),this.autoApprove||(W=this._popup)===null||W===void 0||W.focus())})})}get publicKey(){return this._publicKey}get connected(){return this._publicKey!==null}get autoApprove(){return this._autoApprove}connect(){return Ar(this,void 0,void 0,function*(){this._popup&&this._popup.close(),yield this.handleConnect()})}disconnect(){return Ar(this,void 0,void 0,function*(){this._injectedProvider&&(yield this.sendRequest("disconnect",{})),this._popup&&this._popup.close(),this.handleDisconnect()})}sign(e,r){return Ar(this,void 0,void 0,function*(){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const o=yield this.sendRequest("sign",{data:e,display:r}),s=te().decode(o.signature),c=new xe(o.publicKey);return{signature:s,publicKey:c}})}signTransaction(e){return Ar(this,void 0,void 0,function*(){const r=yield this.sendRequest("signTransaction",{message:te().encode(e.serializeMessage())}),o=te().decode(r.signature),s=new xe(r.publicKey);return e.addSignature(s,o),e})}signAllTransactions(e){return Ar(this,void 0,void 0,function*(){const r=yield this.sendRequest("signAllTransactions",{messages:e.map(c=>te().encode(c.serializeMessage()))}),o=r.signatures.map(c=>te().decode(c)),s=new xe(r.publicKey);return e=e.map((c,m)=>(c.addSignature(s,o[m]),c)),e})}diffieHellman(e){return Ar(this,void 0,void 0,function*(){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return yield this.sendRequest("diffieHellman",{publicKey:e})})}}function va(a){return typeof a=="string"}function Ea(a){return xa(a)&&"postMessage"in a&&typeof a.postMessage=="function"}function xa(a){return typeof a=="object"&&a!==null}},39386:function(Ie,w,_){"use strict";/**
 * Support for translating between Uint8Array instances and JavaScript
 * native types.
 *
 * {@link module:Layout~Layout|Layout} is the basis of a class
 * hierarchy that associates property names with sequences of encoded
 * bytes.
 *
 * Layouts are supported for these scalar (numeric) types:
 * * {@link module:Layout~UInt|Unsigned integers in little-endian
 *   format} with {@link module:Layout.u8|8-bit}, {@link
 *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
 *   {@link module:Layout.u32|32-bit}, {@link
 *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
 *   format} with {@link module:Layout.u16be|16-bit}, {@link
 *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
 *   {@link module:Layout.u40be|40-bit}, and {@link
 *   module:Layout.u48be|48-bit} representation ranges;
 * * {@link module:Layout~Int|Signed integers in little-endian
 *   format} with {@link module:Layout.s8|8-bit}, {@link
 *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
 *   {@link module:Layout.s32|32-bit}, {@link
 *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
 *   representation ranges;
 * * {@link module:Layout~IntBE|Signed integers in big-endian format}
 *   with {@link module:Layout.s16be|16-bit}, {@link
 *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
 *   {@link module:Layout.s40be|40-bit}, and {@link
 *   module:Layout.s48be|48-bit} representation ranges;
 * * 64-bit integral values that decode to an exact (if magnitude is
 *   less than 2^53) or nearby integral Number in {@link
 *   module:Layout.nu64|unsigned little-endian}, {@link
 *   module:Layout.nu64be|unsigned big-endian}, {@link
 *   module:Layout.ns64|signed little-endian}, and {@link
 *   module:Layout.ns64be|unsigned big-endian} encodings;
 * * 32-bit floating point values with {@link
 *   module:Layout.f32|little-endian} and {@link
 *   module:Layout.f32be|big-endian} representations;
 * * 64-bit floating point values with {@link
 *   module:Layout.f64|little-endian} and {@link
 *   module:Layout.f64be|big-endian} representations;
 * * {@link module:Layout.const|Constants} that take no space in the
 *   encoded expression.
 *
 * and for these aggregate types:
 * * {@link module:Layout.seq|Sequence}s of instances of a {@link
 *   module:Layout~Layout|Layout}, with JavaScript representation as
 *   an Array and constant or data-dependent {@link
 *   module:Layout~Sequence#count|length};
 * * {@link module:Layout.struct|Structure}s that aggregate a
 *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
 *   instances, with JavaScript representation as an Object;
 * * {@link module:Layout.union|Union}s that support multiple {@link
 *   module:Layout~VariantLayout|variant layouts} over a fixed
 *   (padded) or variable (not padded) span of bytes, using an
 *   unsigned integer at the start of the data or a separate {@link
 *   module:Layout.unionLayoutDiscriminator|layout element} to
 *   determine which layout to use when interpreting the buffer
 *   contents;
 * * {@link module:Layout.bits|BitStructure}s that contain a sequence
 *   of individual {@link
 *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
 *   16, 24, or 32-bit unsigned integer starting at the least- or
 *   most-significant bit;
 * * {@link module:Layout.cstr|C strings} of varying length;
 * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
 *   module:Layout~Blob#length|length} raw data.
 *
 * All {@link module:Layout~Layout|Layout} instances are immutable
 * after construction, to prevent internal state from becoming
 * inconsistent.
 *
 * @local Layout
 * @local ExternalLayout
 * @local GreedyCount
 * @local OffsetLayout
 * @local UInt
 * @local UIntBE
 * @local Int
 * @local IntBE
 * @local NearUInt64
 * @local NearUInt64BE
 * @local NearInt64
 * @local NearInt64BE
 * @local Float
 * @local FloatBE
 * @local Double
 * @local DoubleBE
 * @local Sequence
 * @local Structure
 * @local UnionDiscriminator
 * @local UnionLayoutDiscriminator
 * @local Union
 * @local VariantLayout
 * @local BitStructure
 * @local BitField
 * @local Boolean
 * @local Blob
 * @local CString
 * @local Constant
 * @local bindConstructorLayout
 * @module Layout
 * @license MIT
 * @author Peter A. Bigot
 * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
 */var $=this&&this.__extends||function(){var I=function(k,p){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,b){y.__proto__=b}||function(y,b){for(var U in b)Object.prototype.hasOwnProperty.call(b,U)&&(y[U]=b[U])},I(k,p)};return function(k,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");I(k,p);function y(){this.constructor=k}k.prototype=p===null?Object.create(p):(y.prototype=p.prototype,new y)}}();w.__esModule=!0,w.s16=w.s8=w.nu64be=w.u48be=w.u40be=w.u32be=w.u24be=w.u16be=w.nu64=w.u48=w.u40=w.u32=w.u24=w.u16=w.u8=w.offset=w.greedy=w.Constant=w.UTF8=w.CString=w.Blob=w.Boolean=w.BitField=w.BitStructure=w.VariantLayout=w.Union=w.UnionLayoutDiscriminator=w.UnionDiscriminator=w.Structure=w.Sequence=w.DoubleBE=w.Double=w.FloatBE=w.Float=w.NearInt64BE=w.NearInt64=w.NearUInt64BE=w.NearUInt64=w.IntBE=w.Int=w.UIntBE=w.UInt=w.OffsetLayout=w.GreedyCount=w.ExternalLayout=w.bindConstructorLayout=w.nameWithProperty=w.Layout=w.uint8ArrayToBuffer=w.checkUint8Array=void 0,w.constant=w.utf8=w.cstr=w.blob=w.unionLayoutDiscriminator=w.union=w.seq=w.bits=w.struct=w.f64be=w.f64=w.f32be=w.f32=w.ns64be=w.s48be=w.s40be=w.s32be=w.s24be=w.s16be=w.ns64=w.s48=w.s40=w.s32=w.s24=void 0;var V=_(28779);function Q(I){if(!(I instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}w.checkUint8Array=Q;function T(I){return Q(I),V.Buffer.from(I.buffer,I.byteOffset,I.length)}w.uint8ArrayToBuffer=T;var R=function(){function I(k,p){if(!Number.isInteger(k))throw new TypeError("span must be an integer");this.span=k,this.property=p}return I.prototype.makeDestinationObject=function(){return{}},I.prototype.decode=function(k,p){throw new Error("Layout is abstract")},I.prototype.encode=function(k,p,y){throw new Error("Layout is abstract")},I.prototype.getSpan=function(k,p){if(0>this.span)throw new RangeError("indeterminate span");return this.span},I.prototype.replicate=function(k){var p=Object.create(this.constructor.prototype);return Object.assign(p,this),p.property=k,p},I.prototype.fromArray=function(k){},I}();w.Layout=R;function z(I,k){return k.property?I+"["+k.property+"]":I}w.nameWithProperty=z;function E(I,k){if(typeof I!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(I,"layout_"))throw new Error("Class is already bound to a layout");if(!(k&&k instanceof R))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(k,"boundConstructor_"))throw new Error("layout is already bound to a constructor");I.layout_=k,k.boundConstructor_=I,k.makeDestinationObject=function(){return new I},Object.defineProperty(I.prototype,"encode",{value:function(p,y){return k.encode(this,p,y)},writable:!0}),Object.defineProperty(I,"decode",{value:function(p,y){return k.decode(p,y)},writable:!0})}w.bindConstructorLayout=E;var v=function(I){$(k,I);function k(){return I!==null&&I.apply(this,arguments)||this}return k.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},k}(R);w.ExternalLayout=v;var te=function(I){$(k,I);function k(p,y){var b=this;if(p===void 0&&(p=1),!Number.isInteger(p)||0>=p)throw new TypeError("elementSpan must be a (positive) integer");return b=I.call(this,-1,y)||this,b.elementSpan=p,b}return k.prototype.isCount=function(){return!0},k.prototype.decode=function(p,y){Q(p),y===void 0&&(y=0);var b=p.length-y;return Math.floor(b/this.elementSpan)},k.prototype.encode=function(p,y,b){return 0},k}(v);w.GreedyCount=te;var Se=function(I){$(k,I);function k(p,y,b){var U=this;if(!(p instanceof R))throw new TypeError("layout must be a Layout");if(y===void 0)y=0;else if(!Number.isInteger(y))throw new TypeError("offset must be integer or undefined");return U=I.call(this,p.span,b||p.property)||this,U.layout=p,U.offset=y,U}return k.prototype.isCount=function(){return this.layout instanceof S||this.layout instanceof Be},k.prototype.decode=function(p,y){return y===void 0&&(y=0),this.layout.decode(p,y+this.offset)},k.prototype.encode=function(p,y,b){return b===void 0&&(b=0),this.layout.encode(p,y,b+this.offset)},k}(v);w.OffsetLayout=Se;var S=function(I){$(k,I);function k(p,y){var b=I.call(this,p,y)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,y){return y===void 0&&(y=0),T(p).readUIntLE(y,this.span)},k.prototype.encode=function(p,y,b){return b===void 0&&(b=0),T(y).writeUIntLE(p,b,this.span),this.span},k}(R);w.UInt=S;var Be=function(I){$(k,I);function k(p,y){var b=I.call(this,p,y)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,y){return y===void 0&&(y=0),T(p).readUIntBE(y,this.span)},k.prototype.encode=function(p,y,b){return b===void 0&&(b=0),T(y).writeUIntBE(p,b,this.span),this.span},k}(R);w.UIntBE=Be;var Ce=function(I){$(k,I);function k(p,y){var b=I.call(this,p,y)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,y){return y===void 0&&(y=0),T(p).readIntLE(y,this.span)},k.prototype.encode=function(p,y,b){return b===void 0&&(b=0),T(y).writeIntLE(p,b,this.span),this.span},k}(R);w.Int=Ce;var fe=function(I){$(k,I);function k(p,y){var b=I.call(this,p,y)||this;if(6<b.span)throw new RangeError("span must not exceed 6 bytes");return b}return k.prototype.decode=function(p,y){return y===void 0&&(y=0),T(p).readIntBE(y,this.span)},k.prototype.encode=function(p,y,b){return b===void 0&&(b=0),T(y).writeIntBE(p,b,this.span),this.span},k}(R);w.IntBE=fe;var q=Math.pow(2,32);function M(I){var k=Math.floor(I/q),p=I-k*q;return{hi32:k,lo32:p}}function O(I,k){return I*q+k}var K=function(I){$(k,I);function k(p){return I.call(this,8,p)||this}return k.prototype.decode=function(p,y){y===void 0&&(y=0);var b=T(p),U=b.readUInt32LE(y),H=b.readUInt32LE(y+4);return O(H,U)},k.prototype.encode=function(p,y,b){b===void 0&&(b=0);var U=M(p),H=T(y);return H.writeUInt32LE(U.lo32,b),H.writeUInt32LE(U.hi32,b+4),8},k}(R);w.NearUInt64=K;var J=function(I){$(k,I);function k(p){return I.call(this,8,p)||this}return k.prototype.decode=function(p,y){y===void 0&&(y=0);var b=T(p),U=b.readUInt32BE(y),H=b.readUInt32BE(y+4);return O(U,H)},k.prototype.encode=function(p,y,b){b===void 0&&(b=0);var U=M(p),H=T(y);return H.writeUInt32BE(U.hi32,b),H.writeUInt32BE(U.lo32,b+4),8},k}(R);w.NearUInt64BE=J;var Z=function(I){$(k,I);function k(p){return I.call(this,8,p)||this}return k.prototype.decode=function(p,y){y===void 0&&(y=0);var b=T(p),U=b.readUInt32LE(y),H=b.readInt32LE(y+4);return O(H,U)},k.prototype.encode=function(p,y,b){b===void 0&&(b=0);var U=M(p),H=T(y);return H.writeUInt32LE(U.lo32,b),H.writeInt32LE(U.hi32,b+4),8},k}(R);w.NearInt64=Z;var N=function(I){$(k,I);function k(p){return I.call(this,8,p)||this}return k.prototype.decode=function(p,y){y===void 0&&(y=0);var b=T(p),U=b.readInt32BE(y),H=b.readUInt32BE(y+4);return O(U,H)},k.prototype.encode=function(p,y,b){b===void 0&&(b=0);var U=M(p),H=T(y);return H.writeInt32BE(U.hi32,b),H.writeUInt32BE(U.lo32,b+4),8},k}(R);w.NearInt64BE=N;var ie=function(I){$(k,I);function k(p){return I.call(this,4,p)||this}return k.prototype.decode=function(p,y){return y===void 0&&(y=0),T(p).readFloatLE(y)},k.prototype.encode=function(p,y,b){return b===void 0&&(b=0),T(y).writeFloatLE(p,b),4},k}(R);w.Float=ie;var X=function(I){$(k,I);function k(p){return I.call(this,4,p)||this}return k.prototype.decode=function(p,y){return y===void 0&&(y=0),T(p).readFloatBE(y)},k.prototype.encode=function(p,y,b){return b===void 0&&(b=0),T(y).writeFloatBE(p,b),4},k}(R);w.FloatBE=X;var ue=function(I){$(k,I);function k(p){return I.call(this,8,p)||this}return k.prototype.decode=function(p,y){return y===void 0&&(y=0),T(p).readDoubleLE(y)},k.prototype.encode=function(p,y,b){return b===void 0&&(b=0),T(y).writeDoubleLE(p,b),8},k}(R);w.Double=ue;var ge=function(I){$(k,I);function k(p){return I.call(this,8,p)||this}return k.prototype.decode=function(p,y){return y===void 0&&(y=0),T(p).readDoubleBE(y)},k.prototype.encode=function(p,y,b){return b===void 0&&(b=0),T(y).writeDoubleBE(p,b),8},k}(R);w.DoubleBE=ge;var Ae=function(I){$(k,I);function k(p,y,b){var U=this;if(!(p instanceof R))throw new TypeError("elementLayout must be a Layout");if(!(y instanceof v&&y.isCount()||Number.isInteger(y)&&0<=y))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var H=-1;return!(y instanceof v)&&0<p.span&&(H=y*p.span),U=I.call(this,H,b)||this,U.elementLayout=p,U.count=y,U}return k.prototype.getSpan=function(p,y){if(0<=this.span)return this.span;y===void 0&&(y=0);var b=0,U=this.count;if(U instanceof v&&(U=U.decode(p,y)),0<this.elementLayout.span)b=U*this.elementLayout.span;else for(var H=0;H<U;)b+=this.elementLayout.getSpan(p,y+b),++H;return b},k.prototype.decode=function(p,y){y===void 0&&(y=0);var b=[],U=0,H=this.count;for(H instanceof v&&(H=H.decode(p,y));U<H;)b.push(this.elementLayout.decode(p,y)),y+=this.elementLayout.getSpan(p,y),U+=1;return b},k.prototype.encode=function(p,y,b){b===void 0&&(b=0);var U=this.elementLayout,H=p.reduce(function(ve,oe){return ve+U.encode(oe,y,b+ve)},0);return this.count instanceof v&&this.count.encode(p.length,y,b),H},k}(R);w.Sequence=Ae;var ee=function(I){$(k,I);function k(p,y,b){var U=this;if(!(Array.isArray(p)&&p.reduce(function(De,Te){return De&&Te instanceof R},!0)))throw new TypeError("fields must be array of Layout instances");typeof y=="boolean"&&b===void 0&&(b=y,y=void 0);for(var H=0,ve=p;H<ve.length;H++){var oe=ve[H];if(0>oe.span&&oe.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout")}var F=-1;try{F=p.reduce(function(De,Te){return De+Te.getSpan()},0)}catch(De){}return U=I.call(this,F,y)||this,U.fields=p,U.decodePrefixes=!!b,U}return k.prototype.getSpan=function(p,y){if(0<=this.span)return this.span;y===void 0&&(y=0);var b=0;try{b=this.fields.reduce(function(U,H){var ve=H.getSpan(p,y);return y+=ve,U+ve},0)}catch(U){throw new RangeError("indeterminate span")}return b},k.prototype.decode=function(p,y){Q(p),y===void 0&&(y=0);for(var b=this.makeDestinationObject(),U=0,H=this.fields;U<H.length;U++){var ve=H[U];if(ve.property!==void 0&&(b[ve.property]=ve.decode(p,y)),y+=ve.getSpan(p,y),this.decodePrefixes&&p.length===y)break}return b},k.prototype.encode=function(p,y,b){b===void 0&&(b=0);for(var U=b,H=0,ve=0,oe=0,F=this.fields;oe<F.length;oe++){var De=F[oe],Te=De.span;if(ve=0<Te?Te:0,De.property!==void 0){var Lt=p[De.property];Lt!==void 0&&(ve=De.encode(Lt,y,b),0>Te&&(Te=De.getSpan(y,b)))}H=b,b+=Te}return H+ve-U},k.prototype.fromArray=function(p){for(var y=this.makeDestinationObject(),b=0,U=this.fields;b<U.length;b++){var H=U[b];H.property!==void 0&&0<p.length&&(y[H.property]=p.shift())}return y},k.prototype.layoutFor=function(p){if(typeof p!="string")throw new TypeError("property must be string");for(var y=0,b=this.fields;y<b.length;y++){var U=b[y];if(U.property===p)return U}},k.prototype.offsetOf=function(p){if(typeof p!="string")throw new TypeError("property must be string");for(var y=0,b=0,U=this.fields;b<U.length;b++){var H=U[b];if(H.property===p)return y;0>H.span?y=-1:0<=y&&(y+=H.span)}},k}(R);w.Structure=ee;var L=function(){function I(k){this.property=k}return I.prototype.decode=function(k,p){throw new Error("UnionDiscriminator is abstract")},I.prototype.encode=function(k,p,y){throw new Error("UnionDiscriminator is abstract")},I}();w.UnionDiscriminator=L;var ae=function(I){$(k,I);function k(p,y){var b=this;if(!(p instanceof v&&p.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return b=I.call(this,y||p.property||"variant")||this,b.layout=p,b}return k.prototype.decode=function(p,y){return this.layout.decode(p,y)},k.prototype.encode=function(p,y,b){return this.layout.encode(p,y,b)},k}(L);w.UnionLayoutDiscriminator=ae;var re=function(I){$(k,I);function k(p,y,b){var U=this,H=p instanceof S||p instanceof Be,ve;if(H)ve=new ae(new Se(p));else if(p instanceof v&&p.isCount())ve=new ae(p);else if(p instanceof L)ve=p;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(y===void 0&&(y=null),!(y===null||y instanceof R))throw new TypeError("defaultLayout must be null or a Layout");if(y!==null){if(0>y.span)throw new Error("defaultLayout must have constant span");y.property===void 0&&(y=y.replicate("content"))}var oe=-1;y&&(oe=y.span,0<=oe&&H&&(oe+=ve.layout.span)),U=I.call(this,oe,b)||this,U.discriminator=ve,U.usesPrefixDiscriminator=H,U.defaultLayout=y,U.registry={};var F=U.defaultGetSourceVariant.bind(U);return U.getSourceVariant=function(De){return F(De)},U.configGetSourceVariant=function(De){F=De.bind(this)},U}return k.prototype.getSpan=function(p,y){if(0<=this.span)return this.span;y===void 0&&(y=0);var b=this.getVariant(p,y);if(!b)throw new Error("unable to determine span for unrecognized variant");return b.getSpan(p,y)},k.prototype.defaultGetSourceVariant=function(p){if(Object.prototype.hasOwnProperty.call(p,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(p,this.defaultLayout.property))return;var y=this.registry[p[this.discriminator.property]];if(y&&(!y.layout||y.property&&Object.prototype.hasOwnProperty.call(p,y.property)))return y}else for(var b in this.registry){var y=this.registry[b];if(y.property&&Object.prototype.hasOwnProperty.call(p,y.property))return y}throw new Error("unable to infer src variant")},k.prototype.decode=function(p,y){y===void 0&&(y=0);var b,U=this.discriminator,H=U.decode(p,y),ve=this.registry[H];if(ve===void 0){var oe=this.defaultLayout,F=0;this.usesPrefixDiscriminator&&(F=U.layout.span),b=this.makeDestinationObject(),b[U.property]=H,b[oe.property]=oe.decode(p,y+F)}else b=ve.decode(p,y);return b},k.prototype.encode=function(p,y,b){b===void 0&&(b=0);var U=this.getSourceVariant(p);if(U===void 0){var H=this.discriminator,ve=this.defaultLayout,oe=0;return this.usesPrefixDiscriminator&&(oe=H.layout.span),H.encode(p[H.property],y,b),oe+ve.encode(p[ve.property],y,b+oe)}return U.encode(p,y,b)},k.prototype.addVariant=function(p,y,b){var U=new we(this,p,y,b);return this.registry[p]=U,U},k.prototype.getVariant=function(p,y){var b;return p instanceof Uint8Array?(y===void 0&&(y=0),b=this.discriminator.decode(p,y)):b=p,this.registry[b]},k}(R);w.Union=re;var we=function(I){$(k,I);function k(p,y,b,U){var H=this;if(!(p instanceof re))throw new TypeError("union must be a Union");if(!Number.isInteger(y)||0>y)throw new TypeError("variant must be a (non-negative) integer");if(typeof b=="string"&&U===void 0&&(U=b,b=null),b){if(!(b instanceof R))throw new TypeError("layout must be a Layout");if(p.defaultLayout!==null&&0<=b.span&&b.span>p.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof U!="string")throw new TypeError("variant must have a String property")}var ve=p.span;return 0>p.span&&(ve=b?b.span:0,0<=ve&&p.usesPrefixDiscriminator&&(ve+=p.discriminator.layout.span)),H=I.call(this,ve,U)||this,H.union=p,H.variant=y,H.layout=b||null,H}return k.prototype.getSpan=function(p,y){if(0<=this.span)return this.span;y===void 0&&(y=0);var b=0;this.union.usesPrefixDiscriminator&&(b=this.union.discriminator.layout.span);var U=0;return this.layout&&(U=this.layout.getSpan(p,y+b)),b+U},k.prototype.decode=function(p,y){var b=this.makeDestinationObject();if(y===void 0&&(y=0),this!==this.union.getVariant(p,y))throw new Error("variant mismatch");var U=0;this.union.usesPrefixDiscriminator&&(U=this.union.discriminator.layout.span);var H=this.property;return this.layout?b[H]=this.layout.decode(p,y+U):H?b[H]=!0:this.union.usesPrefixDiscriminator&&(b[this.union.discriminator.property]=this.variant),b},k.prototype.encode=function(p,y,b){b===void 0&&(b=0);var U=0;this.union.usesPrefixDiscriminator&&(U=this.union.discriminator.layout.span);var H=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(p,H))throw new TypeError("variant lacks property "+H);this.union.discriminator.encode(this.variant,y,b);var ve=U;if(this.layout&&(this.layout.encode(p[H],y,b+U),ve+=this.layout.getSpan(y,b+U),0<=this.union.span&&ve>this.union.span))throw new Error("encoded variant overruns containing union");return ve},k.prototype.fromArray=function(p){if(this.layout)return this.layout.fromArray(p)},k}(R);w.VariantLayout=we;function Ee(I){return 0>I&&(I+=4294967296),I}var Oe=function(I){$(k,I);function k(p,y,b){var U=this;if(!(p instanceof S||p instanceof Be))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof y=="string"&&b===void 0&&(b=y,y=!1),4<p.span)throw new RangeError("word cannot exceed 32 bits");U=I.call(this,p.span,b)||this,U.word=p,U.msb=!!y,U.fields=[];var H=0;return U._packedSetValue=function(ve){return H=Ee(ve),this},U._packedGetValue=function(){return H},U}return k.prototype.decode=function(p,y){var b=this.makeDestinationObject();y===void 0&&(y=0);var U=this.word.decode(p,y);this._packedSetValue(U);for(var H=0,ve=this.fields;H<ve.length;H++){var oe=ve[H];oe.property!==void 0&&(b[oe.property]=oe.decode(U))}return b},k.prototype.encode=function(p,y,b){b===void 0&&(b=0);var U=this.word.decode(y,b);this._packedSetValue(U);for(var H=0,ve=this.fields;H<ve.length;H++){var oe=ve[H];if(oe.property!==void 0){var F=p[oe.property];F!==void 0&&oe.encode(F)}}return this.word.encode(this._packedGetValue(),y,b)},k.prototype.addField=function(p,y){var b=new We(this,p,y);return this.fields.push(b),b},k.prototype.addBoolean=function(p){var y=new yt(this,p);return this.fields.push(y),y},k.prototype.fieldFor=function(p){if(typeof p!="string")throw new TypeError("property must be string");for(var y=0,b=this.fields;y<b.length;y++){var U=b[y];if(U.property===p)return U}},k}(R);w.BitStructure=Oe;var We=function(){function I(k,p,y){if(!(k instanceof Oe))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(p)||0>=p)throw new TypeError("bits must be positive integer");var b=8*k.span,U=k.fields.reduce(function(H,ve){return H+ve.bits},0);if(p+U>b)throw new Error("bits too long for span remainder ("+(b-U)+" of "+b+" remain)");this.container=k,this.bits=p,this.valueMask=(1<<p)-1,p===32&&(this.valueMask=4294967295),this.start=U,this.container.msb&&(this.start=b-U-p),this.wordMask=Ee(this.valueMask<<this.start),this.property=y}return I.prototype.decode=function(k,p){var y=this.container._packedGetValue(),b=Ee(y&this.wordMask),U=b>>>this.start;return U},I.prototype.encode=function(k){if(!Number.isInteger(k)||k!==Ee(k&this.valueMask))throw new TypeError(z("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var p=this.container._packedGetValue(),y=Ee(k<<this.start);this.container._packedSetValue(Ee(p&~this.wordMask)|y)},I}();w.BitField=We;var yt=function(I){$(k,I);function k(p,y){return I.call(this,p,1,y)||this}return k.prototype.decode=function(p,y){return!!We.prototype.decode.call(this,p,y)},k.prototype.encode=function(p){return typeof p=="boolean"&&(p=+p),We.prototype.encode.call(this,p)},k}(We);w.Boolean=yt;var gt=function(I){$(k,I);function k(p,y){var b=this;if(!(p instanceof v&&p.isCount()||Number.isInteger(p)&&0<=p))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var U=-1;return p instanceof v||(U=p),b=I.call(this,U,y)||this,b.length=p,b}return k.prototype.getSpan=function(p,y){var b=this.span;return 0>b&&(b=this.length.decode(p,y)),b},k.prototype.decode=function(p,y){y===void 0&&(y=0);var b=this.span;return 0>b&&(b=this.length.decode(p,y)),T(p).slice(y,y+b)},k.prototype.encode=function(p,y,b){var U=this.length;if(this.length instanceof v&&(U=p.length),!(p instanceof Uint8Array&&U===p.length))throw new TypeError(z("Blob.encode",this)+" requires (length "+U+") Uint8Array as src");if(b+U>y.length)throw new RangeError("encoding overruns Uint8Array");var H=T(p);return T(y).write(H.toString("hex"),b,U,"hex"),this.length instanceof v&&this.length.encode(U,y,b),U},k}(R);w.Blob=gt;var de=function(I){$(k,I);function k(p){return I.call(this,-1,p)||this}return k.prototype.getSpan=function(p,y){Q(p),y===void 0&&(y=0);for(var b=y;b<p.length&&p[b]!==0;)b+=1;return 1+b-y},k.prototype.decode=function(p,y){y===void 0&&(y=0);var b=this.getSpan(p,y);return T(p).slice(y,y+b-1).toString("utf-8")},k.prototype.encode=function(p,y,b){b===void 0&&(b=0),typeof p!="string"&&(p=p.toString());var U=V.Buffer.from(p,"utf8"),H=U.length;if(b+H>y.length)throw new RangeError("encoding overruns Buffer");var ve=T(y);return U.copy(ve,b),ve[b+H]=0,H+1},k}(R);w.CString=de;var Re=function(I){$(k,I);function k(p,y){var b=this;if(typeof p=="string"&&y===void 0&&(y=p,p=void 0),p===void 0)p=-1;else if(!Number.isInteger(p))throw new TypeError("maxSpan must be an integer");return b=I.call(this,-1,y)||this,b.maxSpan=p,b}return k.prototype.getSpan=function(p,y){return Q(p),y===void 0&&(y=0),p.length-y},k.prototype.decode=function(p,y){y===void 0&&(y=0);var b=this.getSpan(p,y);if(0<=this.maxSpan&&this.maxSpan<b)throw new RangeError("text length exceeds maxSpan");return T(p).slice(y,y+b).toString("utf-8")},k.prototype.encode=function(p,y,b){b===void 0&&(b=0),typeof p!="string"&&(p=p.toString());var U=V.Buffer.from(p,"utf8"),H=U.length;if(0<=this.maxSpan&&this.maxSpan<H)throw new RangeError("text length exceeds maxSpan");if(b+H>y.length)throw new RangeError("encoding overruns Buffer");return U.copy(T(y),b),H},k}(R);w.UTF8=Re;var Ke=function(I){$(k,I);function k(p,y){var b=I.call(this,0,y)||this;return b.value=p,b}return k.prototype.decode=function(p,y){return this.value},k.prototype.encode=function(p,y,b){return 0},k}(R);w.Constant=Ke,w.greedy=function(I,k){return new te(I,k)},w.offset=function(I,k,p){return new Se(I,k,p)},w.u8=function(I){return new S(1,I)},w.u16=function(I){return new S(2,I)},w.u24=function(I){return new S(3,I)},w.u32=function(I){return new S(4,I)},w.u40=function(I){return new S(5,I)},w.u48=function(I){return new S(6,I)},w.nu64=function(I){return new K(I)},w.u16be=function(I){return new Be(2,I)},w.u24be=function(I){return new Be(3,I)},w.u32be=function(I){return new Be(4,I)},w.u40be=function(I){return new Be(5,I)},w.u48be=function(I){return new Be(6,I)},w.nu64be=function(I){return new J(I)},w.s8=function(I){return new Ce(1,I)},w.s16=function(I){return new Ce(2,I)},w.s24=function(I){return new Ce(3,I)},w.s32=function(I){return new Ce(4,I)},w.s40=function(I){return new Ce(5,I)},w.s48=function(I){return new Ce(6,I)},w.ns64=function(I){return new Z(I)},w.s16be=function(I){return new fe(2,I)},w.s24be=function(I){return new fe(3,I)},w.s32be=function(I){return new fe(4,I)},w.s40be=function(I){return new fe(5,I)},w.s48be=function(I){return new fe(6,I)},w.ns64be=function(I){return new N(I)},w.f32=function(I){return new ie(I)},w.f32be=function(I){return new X(I)},w.f64=function(I){return new ue(I)},w.f64be=function(I){return new ge(I)},w.struct=function(I,k,p){return new ee(I,k,p)},w.bits=function(I,k,p){return new Oe(I,k,p)},w.seq=function(I,k,p){return new Ae(I,k,p)},w.union=function(I,k,p){return new re(I,k,p)},w.unionLayoutDiscriminator=function(I,k){return new ae(I,k)},w.blob=function(I,k){return new gt(I,k)},w.cstr=function(I){return new de(I)},w.utf8=function(I,k){return new Re(I,k)},w.constant=function(I,k){return new Ke(I,k)}},28779:function(Ie,w,_){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const $=_(79742),V=_(80645),Q=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;w.Buffer=E,w.SlowBuffer=K,w.INSPECT_MAX_BYTES=50;const T=2147483647;w.kMaxLength=T,E.TYPED_ARRAY_SUPPORT=R(),!E.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function R(){try{const d=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(d,n),d.foo()===42}catch(d){return!1}}Object.defineProperty(E.prototype,"parent",{enumerable:!0,get:function(){if(!!E.isBuffer(this))return this.buffer}}),Object.defineProperty(E.prototype,"offset",{enumerable:!0,get:function(){if(!!E.isBuffer(this))return this.byteOffset}});function z(d){if(d>T)throw new RangeError('The value "'+d+'" is invalid for option "size"');const n=new Uint8Array(d);return Object.setPrototypeOf(n,E.prototype),n}function E(d,n,t){if(typeof d=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(d)}return v(d,n,t)}E.poolSize=8192;function v(d,n,t){if(typeof d=="string")return Be(d,n);if(ArrayBuffer.isView(d))return fe(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if($e(d,ArrayBuffer)||d&&$e(d.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&($e(d,SharedArrayBuffer)||d&&$e(d.buffer,SharedArrayBuffer)))return q(d,n,t);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=d.valueOf&&d.valueOf();if(i!=null&&i!==d)return E.from(i,n,t);const u=M(d);if(u)return u;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return E.from(d[Symbol.toPrimitive]("string"),n,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}E.from=function(d,n,t){return v(d,n,t)},Object.setPrototypeOf(E.prototype,Uint8Array.prototype),Object.setPrototypeOf(E,Uint8Array);function te(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function Se(d,n,t){return te(d),d<=0?z(d):n!==void 0?typeof t=="string"?z(d).fill(n,t):z(d).fill(n):z(d)}E.alloc=function(d,n,t){return Se(d,n,t)};function S(d){return te(d),z(d<0?0:O(d)|0)}E.allocUnsafe=function(d){return S(d)},E.allocUnsafeSlow=function(d){return S(d)};function Be(d,n){if((typeof n!="string"||n==="")&&(n="utf8"),!E.isEncoding(n))throw new TypeError("Unknown encoding: "+n);const t=J(d,n)|0;let i=z(t);const u=i.write(d,n);return u!==t&&(i=i.slice(0,u)),i}function Ce(d){const n=d.length<0?0:O(d.length)|0,t=z(n);for(let i=0;i<n;i+=1)t[i]=d[i]&255;return t}function fe(d){if($e(d,Uint8Array)){const n=new Uint8Array(d);return q(n.buffer,n.byteOffset,n.byteLength)}return Ce(d)}function q(d,n,t){if(n<0||d.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<n+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return n===void 0&&t===void 0?i=new Uint8Array(d):t===void 0?i=new Uint8Array(d,n):i=new Uint8Array(d,n,t),Object.setPrototypeOf(i,E.prototype),i}function M(d){if(E.isBuffer(d)){const n=O(d.length)|0,t=z(n);return t.length===0||d.copy(t,0,0,n),t}if(d.length!==void 0)return typeof d.length!="number"||Xe(d.length)?z(0):Ce(d);if(d.type==="Buffer"&&Array.isArray(d.data))return Ce(d.data)}function O(d){if(d>=T)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+T.toString(16)+" bytes");return d|0}function K(d){return+d!=d&&(d=0),E.alloc(+d)}E.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==E.prototype},E.compare=function(n,t){if($e(n,Uint8Array)&&(n=E.from(n,n.offset,n.byteLength)),$e(t,Uint8Array)&&(t=E.from(t,t.offset,t.byteLength)),!E.isBuffer(n)||!E.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===t)return 0;let i=n.length,u=t.length;for(let f=0,l=Math.min(i,u);f<l;++f)if(n[f]!==t[f]){i=n[f],u=t[f];break}return i<u?-1:u<i?1:0},E.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},E.concat=function(n,t){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return E.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<n.length;++i)t+=n[i].length;const u=E.allocUnsafe(t);let f=0;for(i=0;i<n.length;++i){let l=n[i];if($e(l,Uint8Array))f+l.length>u.length?(E.isBuffer(l)||(l=E.from(l)),l.copy(u,f)):Uint8Array.prototype.set.call(u,l,f);else if(E.isBuffer(l))l.copy(u,f);else throw new TypeError('"list" argument must be an Array of Buffers');f+=l.length}return u};function J(d,n){if(E.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||$e(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);const t=d.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let u=!1;for(;;)switch(n){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Gt(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return zt(d).length;default:if(u)return i?-1:Gt(d).length;n=(""+n).toLowerCase(),u=!0}}E.byteLength=J;function Z(d,n,t){let i=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,n>>>=0,t<=n))return"";for(d||(d="utf8");;)switch(d){case"hex":return yt(this,n,t);case"utf8":case"utf-8":return re(this,n,t);case"ascii":return Oe(this,n,t);case"latin1":case"binary":return We(this,n,t);case"base64":return ae(this,n,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return gt(this,n,t);default:if(i)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),i=!0}}E.prototype._isBuffer=!0;function N(d,n,t){const i=d[n];d[n]=d[t],d[t]=i}E.prototype.swap16=function(){const n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<n;t+=2)N(this,t,t+1);return this},E.prototype.swap32=function(){const n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<n;t+=4)N(this,t,t+3),N(this,t+1,t+2);return this},E.prototype.swap64=function(){const n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<n;t+=8)N(this,t,t+7),N(this,t+1,t+6),N(this,t+2,t+5),N(this,t+3,t+4);return this},E.prototype.toString=function(){const n=this.length;return n===0?"":arguments.length===0?re(this,0,n):Z.apply(this,arguments)},E.prototype.toLocaleString=E.prototype.toString,E.prototype.equals=function(n){if(!E.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:E.compare(this,n)===0},E.prototype.inspect=function(){let n="";const t=w.INSPECT_MAX_BYTES;return n=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(n+=" ... "),"<Buffer "+n+">"},Q&&(E.prototype[Q]=E.prototype.inspect),E.prototype.compare=function(n,t,i,u,f){if($e(n,Uint8Array)&&(n=E.from(n,n.offset,n.byteLength)),!E.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(t===void 0&&(t=0),i===void 0&&(i=n?n.length:0),u===void 0&&(u=0),f===void 0&&(f=this.length),t<0||i>n.length||u<0||f>this.length)throw new RangeError("out of range index");if(u>=f&&t>=i)return 0;if(u>=f)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,u>>>=0,f>>>=0,this===n)return 0;let l=f-u,g=i-t;const h=Math.min(l,g),x=this.slice(u,f),C=n.slice(t,i);for(let B=0;B<h;++B)if(x[B]!==C[B]){l=x[B],g=C[B];break}return l<g?-1:g<l?1:0};function ie(d,n,t,i,u){if(d.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,Xe(t)&&(t=u?0:d.length-1),t<0&&(t=d.length+t),t>=d.length){if(u)return-1;t=d.length-1}else if(t<0)if(u)t=0;else return-1;if(typeof n=="string"&&(n=E.from(n,i)),E.isBuffer(n))return n.length===0?-1:X(d,n,t,i,u);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?u?Uint8Array.prototype.indexOf.call(d,n,t):Uint8Array.prototype.lastIndexOf.call(d,n,t):X(d,[n],t,i,u);throw new TypeError("val must be string, number or Buffer")}function X(d,n,t,i,u){let f=1,l=d.length,g=n.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(d.length<2||n.length<2)return-1;f=2,l/=2,g/=2,t/=2}function h(C,B){return f===1?C[B]:C.readUInt16BE(B*f)}let x;if(u){let C=-1;for(x=t;x<l;x++)if(h(d,x)===h(n,C===-1?0:x-C)){if(C===-1&&(C=x),x-C+1===g)return C*f}else C!==-1&&(x-=x-C),C=-1}else for(t+g>l&&(t=l-g),x=t;x>=0;x--){let C=!0;for(let B=0;B<g;B++)if(h(d,x+B)!==h(n,B)){C=!1;break}if(C)return x}return-1}E.prototype.includes=function(n,t,i){return this.indexOf(n,t,i)!==-1},E.prototype.indexOf=function(n,t,i){return ie(this,n,t,i,!0)},E.prototype.lastIndexOf=function(n,t,i){return ie(this,n,t,i,!1)};function ue(d,n,t,i){t=Number(t)||0;const u=d.length-t;i?(i=Number(i),i>u&&(i=u)):i=u;const f=n.length;i>f/2&&(i=f/2);let l;for(l=0;l<i;++l){const g=parseInt(n.substr(l*2,2),16);if(Xe(g))return l;d[t+l]=g}return l}function ge(d,n,t,i){return G(Gt(n,d.length-t),d,t,i)}function Ae(d,n,t,i){return G(Wt(n),d,t,i)}function ee(d,n,t,i){return G(zt(n),d,t,i)}function L(d,n,t,i){return G(me(n,d.length-t),d,t,i)}E.prototype.write=function(n,t,i,u){if(t===void 0)u="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")u=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,u===void 0&&(u="utf8")):(u=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const f=this.length-t;if((i===void 0||i>f)&&(i=f),n.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");let l=!1;for(;;)switch(u){case"hex":return ue(this,n,t,i);case"utf8":case"utf-8":return ge(this,n,t,i);case"ascii":case"latin1":case"binary":return Ae(this,n,t,i);case"base64":return ee(this,n,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,n,t,i);default:if(l)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),l=!0}},E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(d,n,t){return n===0&&t===d.length?$.fromByteArray(d):$.fromByteArray(d.slice(n,t))}function re(d,n,t){t=Math.min(d.length,t);const i=[];let u=n;for(;u<t;){const f=d[u];let l=null,g=f>239?4:f>223?3:f>191?2:1;if(u+g<=t){let h,x,C,B;switch(g){case 1:f<128&&(l=f);break;case 2:h=d[u+1],(h&192)==128&&(B=(f&31)<<6|h&63,B>127&&(l=B));break;case 3:h=d[u+1],x=d[u+2],(h&192)==128&&(x&192)==128&&(B=(f&15)<<12|(h&63)<<6|x&63,B>2047&&(B<55296||B>57343)&&(l=B));break;case 4:h=d[u+1],x=d[u+2],C=d[u+3],(h&192)==128&&(x&192)==128&&(C&192)==128&&(B=(f&15)<<18|(h&63)<<12|(x&63)<<6|C&63,B>65535&&B<1114112&&(l=B))}}l===null?(l=65533,g=1):l>65535&&(l-=65536,i.push(l>>>10&1023|55296),l=56320|l&1023),i.push(l),u+=g}return Ee(i)}const we=4096;function Ee(d){const n=d.length;if(n<=we)return String.fromCharCode.apply(String,d);let t="",i=0;for(;i<n;)t+=String.fromCharCode.apply(String,d.slice(i,i+=we));return t}function Oe(d,n,t){let i="";t=Math.min(d.length,t);for(let u=n;u<t;++u)i+=String.fromCharCode(d[u]&127);return i}function We(d,n,t){let i="";t=Math.min(d.length,t);for(let u=n;u<t;++u)i+=String.fromCharCode(d[u]);return i}function yt(d,n,t){const i=d.length;(!n||n<0)&&(n=0),(!t||t<0||t>i)&&(t=i);let u="";for(let f=n;f<t;++f)u+=ot[d[f]];return u}function gt(d,n,t){const i=d.slice(n,t);let u="";for(let f=0;f<i.length-1;f+=2)u+=String.fromCharCode(i[f]+i[f+1]*256);return u}E.prototype.slice=function(n,t){const i=this.length;n=~~n,t=t===void 0?i:~~t,n<0?(n+=i,n<0&&(n=0)):n>i&&(n=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<n&&(t=n);const u=this.subarray(n,t);return Object.setPrototypeOf(u,E.prototype),u};function de(d,n,t){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+n>t)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUintLE=E.prototype.readUIntLE=function(n,t,i){n=n>>>0,t=t>>>0,i||de(n,t,this.length);let u=this[n],f=1,l=0;for(;++l<t&&(f*=256);)u+=this[n+l]*f;return u},E.prototype.readUintBE=E.prototype.readUIntBE=function(n,t,i){n=n>>>0,t=t>>>0,i||de(n,t,this.length);let u=this[n+--t],f=1;for(;t>0&&(f*=256);)u+=this[n+--t]*f;return u},E.prototype.readUint8=E.prototype.readUInt8=function(n,t){return n=n>>>0,t||de(n,1,this.length),this[n]},E.prototype.readUint16LE=E.prototype.readUInt16LE=function(n,t){return n=n>>>0,t||de(n,2,this.length),this[n]|this[n+1]<<8},E.prototype.readUint16BE=E.prototype.readUInt16BE=function(n,t){return n=n>>>0,t||de(n,2,this.length),this[n]<<8|this[n+1]},E.prototype.readUint32LE=E.prototype.readUInt32LE=function(n,t){return n=n>>>0,t||de(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216},E.prototype.readUint32BE=E.prototype.readUInt32BE=function(n,t){return n=n>>>0,t||de(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])},E.prototype.readBigUInt64LE=mt(function(n){n=n>>>0,F(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&De(n,this.length-8);const u=t+this[++n]*Ue(2,8)+this[++n]*Ue(2,16)+this[++n]*Ue(2,24),f=this[++n]+this[++n]*Ue(2,8)+this[++n]*Ue(2,16)+i*Ue(2,24);return BigInt(u)+(BigInt(f)<<BigInt(32))}),E.prototype.readBigUInt64BE=mt(function(n){n=n>>>0,F(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&De(n,this.length-8);const u=t*Ue(2,24)+this[++n]*Ue(2,16)+this[++n]*Ue(2,8)+this[++n],f=this[++n]*Ue(2,24)+this[++n]*Ue(2,16)+this[++n]*Ue(2,8)+i;return(BigInt(u)<<BigInt(32))+BigInt(f)}),E.prototype.readIntLE=function(n,t,i){n=n>>>0,t=t>>>0,i||de(n,t,this.length);let u=this[n],f=1,l=0;for(;++l<t&&(f*=256);)u+=this[n+l]*f;return f*=128,u>=f&&(u-=Math.pow(2,8*t)),u},E.prototype.readIntBE=function(n,t,i){n=n>>>0,t=t>>>0,i||de(n,t,this.length);let u=t,f=1,l=this[n+--u];for(;u>0&&(f*=256);)l+=this[n+--u]*f;return f*=128,l>=f&&(l-=Math.pow(2,8*t)),l},E.prototype.readInt8=function(n,t){return n=n>>>0,t||de(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]},E.prototype.readInt16LE=function(n,t){n=n>>>0,t||de(n,2,this.length);const i=this[n]|this[n+1]<<8;return i&32768?i|4294901760:i},E.prototype.readInt16BE=function(n,t){n=n>>>0,t||de(n,2,this.length);const i=this[n+1]|this[n]<<8;return i&32768?i|4294901760:i},E.prototype.readInt32LE=function(n,t){return n=n>>>0,t||de(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},E.prototype.readInt32BE=function(n,t){return n=n>>>0,t||de(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},E.prototype.readBigInt64LE=mt(function(n){n=n>>>0,F(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&De(n,this.length-8);const u=this[n+4]+this[n+5]*Ue(2,8)+this[n+6]*Ue(2,16)+(i<<24);return(BigInt(u)<<BigInt(32))+BigInt(t+this[++n]*Ue(2,8)+this[++n]*Ue(2,16)+this[++n]*Ue(2,24))}),E.prototype.readBigInt64BE=mt(function(n){n=n>>>0,F(n,"offset");const t=this[n],i=this[n+7];(t===void 0||i===void 0)&&De(n,this.length-8);const u=(t<<24)+this[++n]*Ue(2,16)+this[++n]*Ue(2,8)+this[++n];return(BigInt(u)<<BigInt(32))+BigInt(this[++n]*Ue(2,24)+this[++n]*Ue(2,16)+this[++n]*Ue(2,8)+i)}),E.prototype.readFloatLE=function(n,t){return n=n>>>0,t||de(n,4,this.length),V.read(this,n,!0,23,4)},E.prototype.readFloatBE=function(n,t){return n=n>>>0,t||de(n,4,this.length),V.read(this,n,!1,23,4)},E.prototype.readDoubleLE=function(n,t){return n=n>>>0,t||de(n,8,this.length),V.read(this,n,!0,52,8)},E.prototype.readDoubleBE=function(n,t){return n=n>>>0,t||de(n,8,this.length),V.read(this,n,!1,52,8)};function Re(d,n,t,i,u,f){if(!E.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>u||n<f)throw new RangeError('"value" argument is out of bounds');if(t+i>d.length)throw new RangeError("Index out of range")}E.prototype.writeUintLE=E.prototype.writeUIntLE=function(n,t,i,u){if(n=+n,t=t>>>0,i=i>>>0,!u){const g=Math.pow(2,8*i)-1;Re(this,n,t,i,g,0)}let f=1,l=0;for(this[t]=n&255;++l<i&&(f*=256);)this[t+l]=n/f&255;return t+i},E.prototype.writeUintBE=E.prototype.writeUIntBE=function(n,t,i,u){if(n=+n,t=t>>>0,i=i>>>0,!u){const g=Math.pow(2,8*i)-1;Re(this,n,t,i,g,0)}let f=i-1,l=1;for(this[t+f]=n&255;--f>=0&&(l*=256);)this[t+f]=n/l&255;return t+i},E.prototype.writeUint8=E.prototype.writeUInt8=function(n,t,i){return n=+n,t=t>>>0,i||Re(this,n,t,1,255,0),this[t]=n&255,t+1},E.prototype.writeUint16LE=E.prototype.writeUInt16LE=function(n,t,i){return n=+n,t=t>>>0,i||Re(this,n,t,2,65535,0),this[t]=n&255,this[t+1]=n>>>8,t+2},E.prototype.writeUint16BE=E.prototype.writeUInt16BE=function(n,t,i){return n=+n,t=t>>>0,i||Re(this,n,t,2,65535,0),this[t]=n>>>8,this[t+1]=n&255,t+2},E.prototype.writeUint32LE=E.prototype.writeUInt32LE=function(n,t,i){return n=+n,t=t>>>0,i||Re(this,n,t,4,4294967295,0),this[t+3]=n>>>24,this[t+2]=n>>>16,this[t+1]=n>>>8,this[t]=n&255,t+4},E.prototype.writeUint32BE=E.prototype.writeUInt32BE=function(n,t,i){return n=+n,t=t>>>0,i||Re(this,n,t,4,4294967295,0),this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255,t+4};function Ke(d,n,t,i,u){oe(n,i,u,d,t,7);let f=Number(n&BigInt(4294967295));d[t++]=f,f=f>>8,d[t++]=f,f=f>>8,d[t++]=f,f=f>>8,d[t++]=f;let l=Number(n>>BigInt(32)&BigInt(4294967295));return d[t++]=l,l=l>>8,d[t++]=l,l=l>>8,d[t++]=l,l=l>>8,d[t++]=l,t}function I(d,n,t,i,u){oe(n,i,u,d,t,7);let f=Number(n&BigInt(4294967295));d[t+7]=f,f=f>>8,d[t+6]=f,f=f>>8,d[t+5]=f,f=f>>8,d[t+4]=f;let l=Number(n>>BigInt(32)&BigInt(4294967295));return d[t+3]=l,l=l>>8,d[t+2]=l,l=l>>8,d[t+1]=l,l=l>>8,d[t]=l,t+8}E.prototype.writeBigUInt64LE=mt(function(n,t=0){return Ke(this,n,t,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeBigUInt64BE=mt(function(n,t=0){return I(this,n,t,BigInt(0),BigInt("0xffffffffffffffff"))}),E.prototype.writeIntLE=function(n,t,i,u){if(n=+n,t=t>>>0,!u){const h=Math.pow(2,8*i-1);Re(this,n,t,i,h-1,-h)}let f=0,l=1,g=0;for(this[t]=n&255;++f<i&&(l*=256);)n<0&&g===0&&this[t+f-1]!==0&&(g=1),this[t+f]=(n/l>>0)-g&255;return t+i},E.prototype.writeIntBE=function(n,t,i,u){if(n=+n,t=t>>>0,!u){const h=Math.pow(2,8*i-1);Re(this,n,t,i,h-1,-h)}let f=i-1,l=1,g=0;for(this[t+f]=n&255;--f>=0&&(l*=256);)n<0&&g===0&&this[t+f+1]!==0&&(g=1),this[t+f]=(n/l>>0)-g&255;return t+i},E.prototype.writeInt8=function(n,t,i){return n=+n,t=t>>>0,i||Re(this,n,t,1,127,-128),n<0&&(n=255+n+1),this[t]=n&255,t+1},E.prototype.writeInt16LE=function(n,t,i){return n=+n,t=t>>>0,i||Re(this,n,t,2,32767,-32768),this[t]=n&255,this[t+1]=n>>>8,t+2},E.prototype.writeInt16BE=function(n,t,i){return n=+n,t=t>>>0,i||Re(this,n,t,2,32767,-32768),this[t]=n>>>8,this[t+1]=n&255,t+2},E.prototype.writeInt32LE=function(n,t,i){return n=+n,t=t>>>0,i||Re(this,n,t,4,2147483647,-2147483648),this[t]=n&255,this[t+1]=n>>>8,this[t+2]=n>>>16,this[t+3]=n>>>24,t+4},E.prototype.writeInt32BE=function(n,t,i){return n=+n,t=t>>>0,i||Re(this,n,t,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255,t+4},E.prototype.writeBigInt64LE=mt(function(n,t=0){return Ke(this,n,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),E.prototype.writeBigInt64BE=mt(function(n,t=0){return I(this,n,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function k(d,n,t,i,u,f){if(t+i>d.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function p(d,n,t,i,u){return n=+n,t=t>>>0,u||k(d,n,t,4,34028234663852886e22,-34028234663852886e22),V.write(d,n,t,i,23,4),t+4}E.prototype.writeFloatLE=function(n,t,i){return p(this,n,t,!0,i)},E.prototype.writeFloatBE=function(n,t,i){return p(this,n,t,!1,i)};function y(d,n,t,i,u){return n=+n,t=t>>>0,u||k(d,n,t,8,17976931348623157e292,-17976931348623157e292),V.write(d,n,t,i,52,8),t+8}E.prototype.writeDoubleLE=function(n,t,i){return y(this,n,t,!0,i)},E.prototype.writeDoubleBE=function(n,t,i){return y(this,n,t,!1,i)},E.prototype.copy=function(n,t,i,u){if(!E.isBuffer(n))throw new TypeError("argument should be a Buffer");if(i||(i=0),!u&&u!==0&&(u=this.length),t>=n.length&&(t=n.length),t||(t=0),u>0&&u<i&&(u=i),u===i||n.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),n.length-t<u-i&&(u=n.length-t+i);const f=u-i;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,u):Uint8Array.prototype.set.call(n,this.subarray(i,u),t),f},E.prototype.fill=function(n,t,i,u){if(typeof n=="string"){if(typeof t=="string"?(u=t,t=0,i=this.length):typeof i=="string"&&(u=i,i=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!E.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(n.length===1){const l=n.charCodeAt(0);(u==="utf8"&&l<128||u==="latin1")&&(n=l)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,n||(n=0);let f;if(typeof n=="number")for(f=t;f<i;++f)this[f]=n;else{const l=E.isBuffer(n)?n:E.from(n,u),g=l.length;if(g===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(f=0;f<i-t;++f)this[f+t]=l[f%g]}return this};const b={};function U(d,n,t){b[d]=class extends t{constructor(){super();Object.defineProperty(this,"message",{value:n.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(u){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:u,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}U("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(d,n){return`The "${d}" argument must be of type number. Received type ${typeof n}`},TypeError),U("ERR_OUT_OF_RANGE",function(d,n,t){let i=`The value of "${d}" is out of range.`,u=t;return Number.isInteger(t)&&Math.abs(t)>Ue(2,32)?u=H(String(t)):typeof t=="bigint"&&(u=String(t),(t>Ue(BigInt(2),BigInt(32))||t<-Ue(BigInt(2),BigInt(32)))&&(u=H(u)),u+="n"),i+=` It must be ${n}. Received ${u}`,i},RangeError);function H(d){let n="",t=d.length;const i=d[0]==="-"?1:0;for(;t>=i+4;t-=3)n=`_${d.slice(t-3,t)}${n}`;return`${d.slice(0,t)}${n}`}function ve(d,n,t){F(n,"offset"),(d[n]===void 0||d[n+t]===void 0)&&De(n,d.length-(t+1))}function oe(d,n,t,i,u,f){if(d>t||d<n){const l=typeof n=="bigint"?"n":"";let g;throw f>3?n===0||n===BigInt(0)?g=`>= 0${l} and < 2${l} ** ${(f+1)*8}${l}`:g=`>= -(2${l} ** ${(f+1)*8-1}${l}) and < 2 ** ${(f+1)*8-1}${l}`:g=`>= ${n}${l} and <= ${t}${l}`,new b.ERR_OUT_OF_RANGE("value",g,d)}ve(i,u,f)}function F(d,n){if(typeof d!="number")throw new b.ERR_INVALID_ARG_TYPE(n,"number",d)}function De(d,n,t){throw Math.floor(d)!==d?(F(d,t),new b.ERR_OUT_OF_RANGE(t||"offset","an integer",d)):n<0?new b.ERR_BUFFER_OUT_OF_BOUNDS:new b.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${n}`,d)}const Te=/[^+/0-9A-Za-z-_]/g;function Lt(d){if(d=d.split("=")[0],d=d.trim().replace(Te,""),d.length<2)return"";for(;d.length%4!=0;)d=d+"=";return d}function Gt(d,n){n=n||Infinity;let t;const i=d.length;let u=null;const f=[];for(let l=0;l<i;++l){if(t=d.charCodeAt(l),t>55295&&t<57344){if(!u){if(t>56319){(n-=3)>-1&&f.push(239,191,189);continue}else if(l+1===i){(n-=3)>-1&&f.push(239,191,189);continue}u=t;continue}if(t<56320){(n-=3)>-1&&f.push(239,191,189),u=t;continue}t=(u-55296<<10|t-56320)+65536}else u&&(n-=3)>-1&&f.push(239,191,189);if(u=null,t<128){if((n-=1)<0)break;f.push(t)}else if(t<2048){if((n-=2)<0)break;f.push(t>>6|192,t&63|128)}else if(t<65536){if((n-=3)<0)break;f.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((n-=4)<0)break;f.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return f}function Wt(d){const n=[];for(let t=0;t<d.length;++t)n.push(d.charCodeAt(t)&255);return n}function me(d,n){let t,i,u;const f=[];for(let l=0;l<d.length&&!((n-=2)<0);++l)t=d.charCodeAt(l),i=t>>8,u=t%256,f.push(u),f.push(i);return f}function zt(d){return $.toByteArray(Lt(d))}function G(d,n,t,i){let u;for(u=0;u<i&&!(u+t>=n.length||u>=d.length);++u)n[u+t]=d[u];return u}function $e(d,n){return d instanceof n||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===n.name}function Xe(d){return d!==d}const ot=function(){const d="0123456789abcdef",n=new Array(256);for(let t=0;t<16;++t){const i=t*16;for(let u=0;u<16;++u)n[i+u]=d[t]+d[u]}return n}();function mt(d){return typeof BigInt=="undefined"?ct:d}function ct(){throw new Error("BigInt not supported")}},64285:function(Ie,w,_){"use strict";var $;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const V=_(79742),Q=_(80645),T=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;w.lW=v,$=J,w.h2=50;const R=2147483647;$=R,v.TYPED_ARRAY_SUPPORT=z(),!v.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function z(){try{const n=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(n,t),n.foo()===42}catch(n){return!1}}Object.defineProperty(v.prototype,"parent",{enumerable:!0,get:function(){if(!!v.isBuffer(this))return this.buffer}}),Object.defineProperty(v.prototype,"offset",{enumerable:!0,get:function(){if(!!v.isBuffer(this))return this.byteOffset}});function E(n){if(n>R)throw new RangeError('The value "'+n+'" is invalid for option "size"');const t=new Uint8Array(n);return Object.setPrototypeOf(t,v.prototype),t}function v(n,t,i){if(typeof n=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Be(n)}return te(n,t,i)}v.poolSize=8192;function te(n,t,i){if(typeof n=="string")return Ce(n,t);if(ArrayBuffer.isView(n))return q(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Xe(n,ArrayBuffer)||n&&Xe(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Xe(n,SharedArrayBuffer)||n&&Xe(n.buffer,SharedArrayBuffer)))return M(n,t,i);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const u=n.valueOf&&n.valueOf();if(u!=null&&u!==n)return v.from(u,t,i);const f=O(n);if(f)return f;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return v.from(n[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}v.from=function(n,t,i){return te(n,t,i)},Object.setPrototypeOf(v.prototype,Uint8Array.prototype),Object.setPrototypeOf(v,Uint8Array);function Se(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function S(n,t,i){return Se(n),n<=0?E(n):t!==void 0?typeof i=="string"?E(n).fill(t,i):E(n).fill(t):E(n)}v.alloc=function(n,t,i){return S(n,t,i)};function Be(n){return Se(n),E(n<0?0:K(n)|0)}v.allocUnsafe=function(n){return Be(n)},v.allocUnsafeSlow=function(n){return Be(n)};function Ce(n,t){if((typeof t!="string"||t==="")&&(t="utf8"),!v.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const i=Z(n,t)|0;let u=E(i);const f=u.write(n,t);return f!==i&&(u=u.slice(0,f)),u}function fe(n){const t=n.length<0?0:K(n.length)|0,i=E(t);for(let u=0;u<t;u+=1)i[u]=n[u]&255;return i}function q(n){if(Xe(n,Uint8Array)){const t=new Uint8Array(n);return M(t.buffer,t.byteOffset,t.byteLength)}return fe(n)}function M(n,t,i){if(t<0||n.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');let u;return t===void 0&&i===void 0?u=new Uint8Array(n):i===void 0?u=new Uint8Array(n,t):u=new Uint8Array(n,t,i),Object.setPrototypeOf(u,v.prototype),u}function O(n){if(v.isBuffer(n)){const t=K(n.length)|0,i=E(t);return i.length===0||n.copy(i,0,0,t),i}if(n.length!==void 0)return typeof n.length!="number"||ot(n.length)?E(0):fe(n);if(n.type==="Buffer"&&Array.isArray(n.data))return fe(n.data)}function K(n){if(n>=R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R.toString(16)+" bytes");return n|0}function J(n){return+n!=n&&(n=0),v.alloc(+n)}v.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==v.prototype},v.compare=function(t,i){if(Xe(t,Uint8Array)&&(t=v.from(t,t.offset,t.byteLength)),Xe(i,Uint8Array)&&(i=v.from(i,i.offset,i.byteLength)),!v.isBuffer(t)||!v.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===i)return 0;let u=t.length,f=i.length;for(let l=0,g=Math.min(u,f);l<g;++l)if(t[l]!==i[l]){u=t[l],f=i[l];break}return u<f?-1:f<u?1:0},v.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},v.concat=function(t,i){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return v.alloc(0);let u;if(i===void 0)for(i=0,u=0;u<t.length;++u)i+=t[u].length;const f=v.allocUnsafe(i);let l=0;for(u=0;u<t.length;++u){let g=t[u];if(Xe(g,Uint8Array))l+g.length>f.length?(v.isBuffer(g)||(g=v.from(g)),g.copy(f,l)):Uint8Array.prototype.set.call(f,g,l);else if(v.isBuffer(g))g.copy(f,l);else throw new TypeError('"list" argument must be an Array of Buffers');l+=g.length}return f};function Z(n,t){if(v.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Xe(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const i=n.length,u=arguments.length>2&&arguments[2]===!0;if(!u&&i===0)return 0;let f=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return Wt(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return G(n).length;default:if(f)return u?-1:Wt(n).length;t=(""+t).toLowerCase(),f=!0}}v.byteLength=Z;function N(n,t,i){let u=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,t>>>=0,i<=t))return"";for(n||(n="utf8");;)switch(n){case"hex":return gt(this,t,i);case"utf8":case"utf-8":return we(this,t,i);case"ascii":return We(this,t,i);case"latin1":case"binary":return yt(this,t,i);case"base64":return re(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,t,i);default:if(u)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),u=!0}}v.prototype._isBuffer=!0;function ie(n,t,i){const u=n[t];n[t]=n[i],n[i]=u}v.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let i=0;i<t;i+=2)ie(this,i,i+1);return this},v.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let i=0;i<t;i+=4)ie(this,i,i+3),ie(this,i+1,i+2);return this},v.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let i=0;i<t;i+=8)ie(this,i,i+7),ie(this,i+1,i+6),ie(this,i+2,i+5),ie(this,i+3,i+4);return this},v.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?we(this,0,t):N.apply(this,arguments)},v.prototype.toLocaleString=v.prototype.toString,v.prototype.equals=function(t){if(!v.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:v.compare(this,t)===0},v.prototype.inspect=function(){let t="";const i=w.h2;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},T&&(v.prototype[T]=v.prototype.inspect),v.prototype.compare=function(t,i,u,f,l){if(Xe(t,Uint8Array)&&(t=v.from(t,t.offset,t.byteLength)),!v.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(i===void 0&&(i=0),u===void 0&&(u=t?t.length:0),f===void 0&&(f=0),l===void 0&&(l=this.length),i<0||u>t.length||f<0||l>this.length)throw new RangeError("out of range index");if(f>=l&&i>=u)return 0;if(f>=l)return-1;if(i>=u)return 1;if(i>>>=0,u>>>=0,f>>>=0,l>>>=0,this===t)return 0;let g=l-f,h=u-i;const x=Math.min(g,h),C=this.slice(f,l),B=t.slice(i,u);for(let D=0;D<x;++D)if(C[D]!==B[D]){g=C[D],h=B[D];break}return g<h?-1:h<g?1:0};function X(n,t,i,u,f){if(n.length===0)return-1;if(typeof i=="string"?(u=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,ot(i)&&(i=f?0:n.length-1),i<0&&(i=n.length+i),i>=n.length){if(f)return-1;i=n.length-1}else if(i<0)if(f)i=0;else return-1;if(typeof t=="string"&&(t=v.from(t,u)),v.isBuffer(t))return t.length===0?-1:ue(n,t,i,u,f);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?f?Uint8Array.prototype.indexOf.call(n,t,i):Uint8Array.prototype.lastIndexOf.call(n,t,i):ue(n,[t],i,u,f);throw new TypeError("val must be string, number or Buffer")}function ue(n,t,i,u,f){let l=1,g=n.length,h=t.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(n.length<2||t.length<2)return-1;l=2,g/=2,h/=2,i/=2}function x(B,D){return l===1?B[D]:B.readUInt16BE(D*l)}let C;if(f){let B=-1;for(C=i;C<g;C++)if(x(n,C)===x(t,B===-1?0:C-B)){if(B===-1&&(B=C),C-B+1===h)return B*l}else B!==-1&&(C-=C-B),B=-1}else for(i+h>g&&(i=g-h),C=i;C>=0;C--){let B=!0;for(let D=0;D<h;D++)if(x(n,C+D)!==x(t,D)){B=!1;break}if(B)return C}return-1}v.prototype.includes=function(t,i,u){return this.indexOf(t,i,u)!==-1},v.prototype.indexOf=function(t,i,u){return X(this,t,i,u,!0)},v.prototype.lastIndexOf=function(t,i,u){return X(this,t,i,u,!1)};function ge(n,t,i,u){i=Number(i)||0;const f=n.length-i;u?(u=Number(u),u>f&&(u=f)):u=f;const l=t.length;u>l/2&&(u=l/2);let g;for(g=0;g<u;++g){const h=parseInt(t.substr(g*2,2),16);if(ot(h))return g;n[i+g]=h}return g}function Ae(n,t,i,u){return $e(Wt(t,n.length-i),n,i,u)}function ee(n,t,i,u){return $e(me(t),n,i,u)}function L(n,t,i,u){return $e(G(t),n,i,u)}function ae(n,t,i,u){return $e(zt(t,n.length-i),n,i,u)}v.prototype.write=function(t,i,u,f){if(i===void 0)f="utf8",u=this.length,i=0;else if(u===void 0&&typeof i=="string")f=i,u=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(u)?(u=u>>>0,f===void 0&&(f="utf8")):(f=u,u=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const l=this.length-i;if((u===void 0||u>l)&&(u=l),t.length>0&&(u<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");let g=!1;for(;;)switch(f){case"hex":return ge(this,t,i,u);case"utf8":case"utf-8":return Ae(this,t,i,u);case"ascii":case"latin1":case"binary":return ee(this,t,i,u);case"base64":return L(this,t,i,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae(this,t,i,u);default:if(g)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),g=!0}},v.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function re(n,t,i){return t===0&&i===n.length?V.fromByteArray(n):V.fromByteArray(n.slice(t,i))}function we(n,t,i){i=Math.min(n.length,i);const u=[];let f=t;for(;f<i;){const l=n[f];let g=null,h=l>239?4:l>223?3:l>191?2:1;if(f+h<=i){let x,C,B,D;switch(h){case 1:l<128&&(g=l);break;case 2:x=n[f+1],(x&192)==128&&(D=(l&31)<<6|x&63,D>127&&(g=D));break;case 3:x=n[f+1],C=n[f+2],(x&192)==128&&(C&192)==128&&(D=(l&15)<<12|(x&63)<<6|C&63,D>2047&&(D<55296||D>57343)&&(g=D));break;case 4:x=n[f+1],C=n[f+2],B=n[f+3],(x&192)==128&&(C&192)==128&&(B&192)==128&&(D=(l&15)<<18|(x&63)<<12|(C&63)<<6|B&63,D>65535&&D<1114112&&(g=D))}}g===null?(g=65533,h=1):g>65535&&(g-=65536,u.push(g>>>10&1023|55296),g=56320|g&1023),u.push(g),f+=h}return Oe(u)}const Ee=4096;function Oe(n){const t=n.length;if(t<=Ee)return String.fromCharCode.apply(String,n);let i="",u=0;for(;u<t;)i+=String.fromCharCode.apply(String,n.slice(u,u+=Ee));return i}function We(n,t,i){let u="";i=Math.min(n.length,i);for(let f=t;f<i;++f)u+=String.fromCharCode(n[f]&127);return u}function yt(n,t,i){let u="";i=Math.min(n.length,i);for(let f=t;f<i;++f)u+=String.fromCharCode(n[f]);return u}function gt(n,t,i){const u=n.length;(!t||t<0)&&(t=0),(!i||i<0||i>u)&&(i=u);let f="";for(let l=t;l<i;++l)f+=mt[n[l]];return f}function de(n,t,i){const u=n.slice(t,i);let f="";for(let l=0;l<u.length-1;l+=2)f+=String.fromCharCode(u[l]+u[l+1]*256);return f}v.prototype.slice=function(t,i){const u=this.length;t=~~t,i=i===void 0?u:~~i,t<0?(t+=u,t<0&&(t=0)):t>u&&(t=u),i<0?(i+=u,i<0&&(i=0)):i>u&&(i=u),i<t&&(i=t);const f=this.subarray(t,i);return Object.setPrototypeOf(f,v.prototype),f};function Re(n,t,i){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+t>i)throw new RangeError("Trying to access beyond buffer length")}v.prototype.readUintLE=v.prototype.readUIntLE=function(t,i,u){t=t>>>0,i=i>>>0,u||Re(t,i,this.length);let f=this[t],l=1,g=0;for(;++g<i&&(l*=256);)f+=this[t+g]*l;return f},v.prototype.readUintBE=v.prototype.readUIntBE=function(t,i,u){t=t>>>0,i=i>>>0,u||Re(t,i,this.length);let f=this[t+--i],l=1;for(;i>0&&(l*=256);)f+=this[t+--i]*l;return f},v.prototype.readUint8=v.prototype.readUInt8=function(t,i){return t=t>>>0,i||Re(t,1,this.length),this[t]},v.prototype.readUint16LE=v.prototype.readUInt16LE=function(t,i){return t=t>>>0,i||Re(t,2,this.length),this[t]|this[t+1]<<8},v.prototype.readUint16BE=v.prototype.readUInt16BE=function(t,i){return t=t>>>0,i||Re(t,2,this.length),this[t]<<8|this[t+1]},v.prototype.readUint32LE=v.prototype.readUInt32LE=function(t,i){return t=t>>>0,i||Re(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},v.prototype.readUint32BE=v.prototype.readUInt32BE=function(t,i){return t=t>>>0,i||Re(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},v.prototype.readBigUInt64LE=ct(function(t){t=t>>>0,De(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const f=i+this[++t]*Ue(2,8)+this[++t]*Ue(2,16)+this[++t]*Ue(2,24),l=this[++t]+this[++t]*Ue(2,8)+this[++t]*Ue(2,16)+u*Ue(2,24);return BigInt(f)+(BigInt(l)<<BigInt(32))}),v.prototype.readBigUInt64BE=ct(function(t){t=t>>>0,De(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const f=i*Ue(2,24)+this[++t]*Ue(2,16)+this[++t]*Ue(2,8)+this[++t],l=this[++t]*Ue(2,24)+this[++t]*Ue(2,16)+this[++t]*Ue(2,8)+u;return(BigInt(f)<<BigInt(32))+BigInt(l)}),v.prototype.readIntLE=function(t,i,u){t=t>>>0,i=i>>>0,u||Re(t,i,this.length);let f=this[t],l=1,g=0;for(;++g<i&&(l*=256);)f+=this[t+g]*l;return l*=128,f>=l&&(f-=Math.pow(2,8*i)),f},v.prototype.readIntBE=function(t,i,u){t=t>>>0,i=i>>>0,u||Re(t,i,this.length);let f=i,l=1,g=this[t+--f];for(;f>0&&(l*=256);)g+=this[t+--f]*l;return l*=128,g>=l&&(g-=Math.pow(2,8*i)),g},v.prototype.readInt8=function(t,i){return t=t>>>0,i||Re(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},v.prototype.readInt16LE=function(t,i){t=t>>>0,i||Re(t,2,this.length);const u=this[t]|this[t+1]<<8;return u&32768?u|4294901760:u},v.prototype.readInt16BE=function(t,i){t=t>>>0,i||Re(t,2,this.length);const u=this[t+1]|this[t]<<8;return u&32768?u|4294901760:u},v.prototype.readInt32LE=function(t,i){return t=t>>>0,i||Re(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},v.prototype.readInt32BE=function(t,i){return t=t>>>0,i||Re(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},v.prototype.readBigInt64LE=ct(function(t){t=t>>>0,De(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const f=this[t+4]+this[t+5]*Ue(2,8)+this[t+6]*Ue(2,16)+(u<<24);return(BigInt(f)<<BigInt(32))+BigInt(i+this[++t]*Ue(2,8)+this[++t]*Ue(2,16)+this[++t]*Ue(2,24))}),v.prototype.readBigInt64BE=ct(function(t){t=t>>>0,De(t,"offset");const i=this[t],u=this[t+7];(i===void 0||u===void 0)&&Te(t,this.length-8);const f=(i<<24)+this[++t]*Ue(2,16)+this[++t]*Ue(2,8)+this[++t];return(BigInt(f)<<BigInt(32))+BigInt(this[++t]*Ue(2,24)+this[++t]*Ue(2,16)+this[++t]*Ue(2,8)+u)}),v.prototype.readFloatLE=function(t,i){return t=t>>>0,i||Re(t,4,this.length),Q.read(this,t,!0,23,4)},v.prototype.readFloatBE=function(t,i){return t=t>>>0,i||Re(t,4,this.length),Q.read(this,t,!1,23,4)},v.prototype.readDoubleLE=function(t,i){return t=t>>>0,i||Re(t,8,this.length),Q.read(this,t,!0,52,8)},v.prototype.readDoubleBE=function(t,i){return t=t>>>0,i||Re(t,8,this.length),Q.read(this,t,!1,52,8)};function Ke(n,t,i,u,f,l){if(!v.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<l)throw new RangeError('"value" argument is out of bounds');if(i+u>n.length)throw new RangeError("Index out of range")}v.prototype.writeUintLE=v.prototype.writeUIntLE=function(t,i,u,f){if(t=+t,i=i>>>0,u=u>>>0,!f){const h=Math.pow(2,8*u)-1;Ke(this,t,i,u,h,0)}let l=1,g=0;for(this[i]=t&255;++g<u&&(l*=256);)this[i+g]=t/l&255;return i+u},v.prototype.writeUintBE=v.prototype.writeUIntBE=function(t,i,u,f){if(t=+t,i=i>>>0,u=u>>>0,!f){const h=Math.pow(2,8*u)-1;Ke(this,t,i,u,h,0)}let l=u-1,g=1;for(this[i+l]=t&255;--l>=0&&(g*=256);)this[i+l]=t/g&255;return i+u},v.prototype.writeUint8=v.prototype.writeUInt8=function(t,i,u){return t=+t,i=i>>>0,u||Ke(this,t,i,1,255,0),this[i]=t&255,i+1},v.prototype.writeUint16LE=v.prototype.writeUInt16LE=function(t,i,u){return t=+t,i=i>>>0,u||Ke(this,t,i,2,65535,0),this[i]=t&255,this[i+1]=t>>>8,i+2},v.prototype.writeUint16BE=v.prototype.writeUInt16BE=function(t,i,u){return t=+t,i=i>>>0,u||Ke(this,t,i,2,65535,0),this[i]=t>>>8,this[i+1]=t&255,i+2},v.prototype.writeUint32LE=v.prototype.writeUInt32LE=function(t,i,u){return t=+t,i=i>>>0,u||Ke(this,t,i,4,4294967295,0),this[i+3]=t>>>24,this[i+2]=t>>>16,this[i+1]=t>>>8,this[i]=t&255,i+4},v.prototype.writeUint32BE=v.prototype.writeUInt32BE=function(t,i,u){return t=+t,i=i>>>0,u||Ke(this,t,i,4,4294967295,0),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255,i+4};function I(n,t,i,u,f){F(t,u,f,n,i,7);let l=Number(t&BigInt(4294967295));n[i++]=l,l=l>>8,n[i++]=l,l=l>>8,n[i++]=l,l=l>>8,n[i++]=l;let g=Number(t>>BigInt(32)&BigInt(4294967295));return n[i++]=g,g=g>>8,n[i++]=g,g=g>>8,n[i++]=g,g=g>>8,n[i++]=g,i}function k(n,t,i,u,f){F(t,u,f,n,i,7);let l=Number(t&BigInt(4294967295));n[i+7]=l,l=l>>8,n[i+6]=l,l=l>>8,n[i+5]=l,l=l>>8,n[i+4]=l;let g=Number(t>>BigInt(32)&BigInt(4294967295));return n[i+3]=g,g=g>>8,n[i+2]=g,g=g>>8,n[i+1]=g,g=g>>8,n[i]=g,i+8}v.prototype.writeBigUInt64LE=ct(function(t,i=0){return I(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeBigUInt64BE=ct(function(t,i=0){return k(this,t,i,BigInt(0),BigInt("0xffffffffffffffff"))}),v.prototype.writeIntLE=function(t,i,u,f){if(t=+t,i=i>>>0,!f){const x=Math.pow(2,8*u-1);Ke(this,t,i,u,x-1,-x)}let l=0,g=1,h=0;for(this[i]=t&255;++l<u&&(g*=256);)t<0&&h===0&&this[i+l-1]!==0&&(h=1),this[i+l]=(t/g>>0)-h&255;return i+u},v.prototype.writeIntBE=function(t,i,u,f){if(t=+t,i=i>>>0,!f){const x=Math.pow(2,8*u-1);Ke(this,t,i,u,x-1,-x)}let l=u-1,g=1,h=0;for(this[i+l]=t&255;--l>=0&&(g*=256);)t<0&&h===0&&this[i+l+1]!==0&&(h=1),this[i+l]=(t/g>>0)-h&255;return i+u},v.prototype.writeInt8=function(t,i,u){return t=+t,i=i>>>0,u||Ke(this,t,i,1,127,-128),t<0&&(t=255+t+1),this[i]=t&255,i+1},v.prototype.writeInt16LE=function(t,i,u){return t=+t,i=i>>>0,u||Ke(this,t,i,2,32767,-32768),this[i]=t&255,this[i+1]=t>>>8,i+2},v.prototype.writeInt16BE=function(t,i,u){return t=+t,i=i>>>0,u||Ke(this,t,i,2,32767,-32768),this[i]=t>>>8,this[i+1]=t&255,i+2},v.prototype.writeInt32LE=function(t,i,u){return t=+t,i=i>>>0,u||Ke(this,t,i,4,2147483647,-2147483648),this[i]=t&255,this[i+1]=t>>>8,this[i+2]=t>>>16,this[i+3]=t>>>24,i+4},v.prototype.writeInt32BE=function(t,i,u){return t=+t,i=i>>>0,u||Ke(this,t,i,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[i]=t>>>24,this[i+1]=t>>>16,this[i+2]=t>>>8,this[i+3]=t&255,i+4},v.prototype.writeBigInt64LE=ct(function(t,i=0){return I(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),v.prototype.writeBigInt64BE=ct(function(t,i=0){return k(this,t,i,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function p(n,t,i,u,f,l){if(i+u>n.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function y(n,t,i,u,f){return t=+t,i=i>>>0,f||p(n,t,i,4,34028234663852886e22,-34028234663852886e22),Q.write(n,t,i,u,23,4),i+4}v.prototype.writeFloatLE=function(t,i,u){return y(this,t,i,!0,u)},v.prototype.writeFloatBE=function(t,i,u){return y(this,t,i,!1,u)};function b(n,t,i,u,f){return t=+t,i=i>>>0,f||p(n,t,i,8,17976931348623157e292,-17976931348623157e292),Q.write(n,t,i,u,52,8),i+8}v.prototype.writeDoubleLE=function(t,i,u){return b(this,t,i,!0,u)},v.prototype.writeDoubleBE=function(t,i,u){return b(this,t,i,!1,u)},v.prototype.copy=function(t,i,u,f){if(!v.isBuffer(t))throw new TypeError("argument should be a Buffer");if(u||(u=0),!f&&f!==0&&(f=this.length),i>=t.length&&(i=t.length),i||(i=0),f>0&&f<u&&(f=u),f===u||t.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(u<0||u>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),t.length-i<f-u&&(f=t.length-i+u);const l=f-u;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,u,f):Uint8Array.prototype.set.call(t,this.subarray(u,f),i),l},v.prototype.fill=function(t,i,u,f){if(typeof t=="string"){if(typeof i=="string"?(f=i,i=0,u=this.length):typeof u=="string"&&(f=u,u=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!v.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(t.length===1){const g=t.charCodeAt(0);(f==="utf8"&&g<128||f==="latin1")&&(t=g)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(i<0||this.length<i||this.length<u)throw new RangeError("Out of range index");if(u<=i)return this;i=i>>>0,u=u===void 0?this.length:u>>>0,t||(t=0);let l;if(typeof t=="number")for(l=i;l<u;++l)this[l]=t;else{const g=v.isBuffer(t)?t:v.from(t,f),h=g.length;if(h===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(l=0;l<u-i;++l)this[l+i]=g[l%h]}return this};const U={};function H(n,t,i){U[n]=class extends i{constructor(){super();Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(f){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:f,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}H("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),H("ERR_INVALID_ARG_TYPE",function(n,t){return`The "${n}" argument must be of type number. Received type ${typeof t}`},TypeError),H("ERR_OUT_OF_RANGE",function(n,t,i){let u=`The value of "${n}" is out of range.`,f=i;return Number.isInteger(i)&&Math.abs(i)>Ue(2,32)?f=ve(String(i)):typeof i=="bigint"&&(f=String(i),(i>Ue(BigInt(2),BigInt(32))||i<-Ue(BigInt(2),BigInt(32)))&&(f=ve(f)),f+="n"),u+=` It must be ${t}. Received ${f}`,u},RangeError);function ve(n){let t="",i=n.length;const u=n[0]==="-"?1:0;for(;i>=u+4;i-=3)t=`_${n.slice(i-3,i)}${t}`;return`${n.slice(0,i)}${t}`}function oe(n,t,i){De(t,"offset"),(n[t]===void 0||n[t+i]===void 0)&&Te(t,n.length-(i+1))}function F(n,t,i,u,f,l){if(n>i||n<t){const g=typeof t=="bigint"?"n":"";let h;throw l>3?t===0||t===BigInt(0)?h=`>= 0${g} and < 2${g} ** ${(l+1)*8}${g}`:h=`>= -(2${g} ** ${(l+1)*8-1}${g}) and < 2 ** ${(l+1)*8-1}${g}`:h=`>= ${t}${g} and <= ${i}${g}`,new U.ERR_OUT_OF_RANGE("value",h,n)}oe(u,f,l)}function De(n,t){if(typeof n!="number")throw new U.ERR_INVALID_ARG_TYPE(t,"number",n)}function Te(n,t,i){throw Math.floor(n)!==n?(De(n,i),new U.ERR_OUT_OF_RANGE(i||"offset","an integer",n)):t<0?new U.ERR_BUFFER_OUT_OF_BOUNDS:new U.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,n)}const Lt=/[^+/0-9A-Za-z-_]/g;function Gt(n){if(n=n.split("=")[0],n=n.trim().replace(Lt,""),n.length<2)return"";for(;n.length%4!=0;)n=n+"=";return n}function Wt(n,t){t=t||Infinity;let i;const u=n.length;let f=null;const l=[];for(let g=0;g<u;++g){if(i=n.charCodeAt(g),i>55295&&i<57344){if(!f){if(i>56319){(t-=3)>-1&&l.push(239,191,189);continue}else if(g+1===u){(t-=3)>-1&&l.push(239,191,189);continue}f=i;continue}if(i<56320){(t-=3)>-1&&l.push(239,191,189),f=i;continue}i=(f-55296<<10|i-56320)+65536}else f&&(t-=3)>-1&&l.push(239,191,189);if(f=null,i<128){if((t-=1)<0)break;l.push(i)}else if(i<2048){if((t-=2)<0)break;l.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;l.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;l.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return l}function me(n){const t=[];for(let i=0;i<n.length;++i)t.push(n.charCodeAt(i)&255);return t}function zt(n,t){let i,u,f;const l=[];for(let g=0;g<n.length&&!((t-=2)<0);++g)i=n.charCodeAt(g),u=i>>8,f=i%256,l.push(f),l.push(u);return l}function G(n){return V.toByteArray(Gt(n))}function $e(n,t,i,u){let f;for(f=0;f<u&&!(f+i>=t.length||f>=n.length);++f)t[f+i]=n[f];return f}function Xe(n,t){return n instanceof t||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===t.name}function ot(n){return n!==n}const mt=function(){const n="0123456789abcdef",t=new Array(256);for(let i=0;i<16;++i){const u=i*16;for(let f=0;f<16;++f)t[u+f]=n[i]+n[f]}return t}();function ct(n){return typeof BigInt=="undefined"?d:n}function d(){throw new Error("BigInt not supported")}},3178:function(){},7789:function(Ie,w,_){"use strict";_.d(w,{Z:function(){return f}});var $=_(92137),V=_(22122),Q=_(19756),T=_(87757),R=_.n(T),z=_(67294),E=_(45697),v=_.n(E);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var te=function(l,g){return te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,x){h.__proto__=x}||function(h,x){for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&(h[C]=x[C])},te(l,g)};function Se(l,g){te(l,g);function h(){this.constructor=l}l.prototype=g===null?Object.create(g):(h.prototype=g.prototype,new h)}var S=function(){return S=Object.assign||function(g){for(var h,x=1,C=arguments.length;x<C;x++){h=arguments[x];for(var B in h)Object.prototype.hasOwnProperty.call(h,B)&&(g[B]=h[B])}return g},S.apply(this,arguments)};function Be(l,g){var h={};for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&g.indexOf(x)<0&&(h[x]=l[x]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,x=Object.getOwnPropertySymbols(l);C<x.length;C++)g.indexOf(x[C])<0&&Object.prototype.propertyIsEnumerable.call(l,x[C])&&(h[x[C]]=l[x[C]]);return h}function Ce(l,g,h,x){var C=arguments.length,B=C<3?g:x===null?x=Object.getOwnPropertyDescriptor(g,h):x,D;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")B=Reflect.decorate(l,g,h,x);else for(var le=l.length-1;le>=0;le--)(D=l[le])&&(B=(C<3?D(B):C>3?D(g,h,B):D(g,h))||B);return C>3&&B&&Object.defineProperty(g,h,B),B}function fe(l,g){return function(h,x){g(h,x,l)}}function q(l,g){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(l,g)}function M(l,g,h,x){function C(B){return B instanceof h?B:new h(function(D){D(B)})}return new(h||(h=Promise))(function(B,D){function le(se){try{be(x.next(se))}catch(He){D(He)}}function ke(se){try{be(x.throw(se))}catch(He){D(He)}}function be(se){se.done?B(se.value):C(se.value).then(le,ke)}be((x=x.apply(l,g||[])).next())})}function O(l,g){var h={label:0,sent:function(){if(B[0]&1)throw B[1];return B[1]},trys:[],ops:[]},x,C,B,D;return D={next:le(0),throw:le(1),return:le(2)},typeof Symbol=="function"&&(D[Symbol.iterator]=function(){return this}),D;function le(be){return function(se){return ke([be,se])}}function ke(be){if(x)throw new TypeError("Generator is already executing.");for(;h;)try{if(x=1,C&&(B=be[0]&2?C.return:be[0]?C.throw||((B=C.return)&&B.call(C),0):C.next)&&!(B=B.call(C,be[1])).done)return B;switch(C=0,B&&(be=[be[0]&2,B.value]),be[0]){case 0:case 1:B=be;break;case 4:return h.label++,{value:be[1],done:!1};case 5:h.label++,C=be[1],be=[0];continue;case 7:be=h.ops.pop(),h.trys.pop();continue;default:if(B=h.trys,!(B=B.length>0&&B[B.length-1])&&(be[0]===6||be[0]===2)){h=0;continue}if(be[0]===3&&(!B||be[1]>B[0]&&be[1]<B[3])){h.label=be[1];break}if(be[0]===6&&h.label<B[1]){h.label=B[1],B=be;break}if(B&&h.label<B[2]){h.label=B[2],h.ops.push(be);break}B[2]&&h.ops.pop(),h.trys.pop();continue}be=g.call(l,h)}catch(se){be=[6,se],C=0}finally{x=B=0}if(be[0]&5)throw be[1];return{value:be[0]?be[1]:void 0,done:!0}}}var K=Object.create?function(l,g,h,x){x===void 0&&(x=h),Object.defineProperty(l,x,{enumerable:!0,get:function(){return g[h]}})}:function(l,g,h,x){x===void 0&&(x=h),l[x]=g[h]};function J(l,g){for(var h in l)h!=="default"&&!Object.prototype.hasOwnProperty.call(g,h)&&K(g,l,h)}function Z(l){var g=typeof Symbol=="function"&&Symbol.iterator,h=g&&l[g],x=0;if(h)return h.call(l);if(l&&typeof l.length=="number")return{next:function(){return l&&x>=l.length&&(l=void 0),{value:l&&l[x++],done:!l}}};throw new TypeError(g?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(l,g){var h=typeof Symbol=="function"&&l[Symbol.iterator];if(!h)return l;var x=h.call(l),C,B=[],D;try{for(;(g===void 0||g-- >0)&&!(C=x.next()).done;)B.push(C.value)}catch(le){D={error:le}}finally{try{C&&!C.done&&(h=x.return)&&h.call(x)}finally{if(D)throw D.error}}return B}function ie(){for(var l=[],g=0;g<arguments.length;g++)l=l.concat(N(arguments[g]));return l}function X(){for(var l=0,g=0,h=arguments.length;g<h;g++)l+=arguments[g].length;for(var x=Array(l),C=0,g=0;g<h;g++)for(var B=arguments[g],D=0,le=B.length;D<le;D++,C++)x[C]=B[D];return x}function ue(l){return this instanceof ue?(this.v=l,this):new ue(l)}function ge(l,g,h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var x=h.apply(l,g||[]),C,B=[];return C={},D("next"),D("throw"),D("return"),C[Symbol.asyncIterator]=function(){return this},C;function D(ze){x[ze]&&(C[ze]=function(st){return new Promise(function(Dt,It){B.push([ze,st,Dt,It])>1||le(ze,st)})})}function le(ze,st){try{ke(x[ze](st))}catch(Dt){He(B[0][3],Dt)}}function ke(ze){ze.value instanceof ue?Promise.resolve(ze.value.v).then(be,se):He(B[0][2],ze)}function be(ze){le("next",ze)}function se(ze){le("throw",ze)}function He(ze,st){ze(st),B.shift(),B.length&&le(B[0][0],B[0][1])}}function Ae(l){var g,h;return g={},x("next"),x("throw",function(C){throw C}),x("return"),g[Symbol.iterator]=function(){return this},g;function x(C,B){g[C]=l[C]?function(D){return(h=!h)?{value:ue(l[C](D)),done:C==="return"}:B?B(D):D}:B}}function ee(l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=l[Symbol.asyncIterator],h;return g?g.call(l):(l=typeof Z=="function"?Z(l):l[Symbol.iterator](),h={},x("next"),x("throw"),x("return"),h[Symbol.asyncIterator]=function(){return this},h);function x(B){h[B]=l[B]&&function(D){return new Promise(function(le,ke){D=l[B](D),C(le,ke,D.done,D.value)})}}function C(B,D,le,ke){Promise.resolve(ke).then(function(be){B({value:be,done:le})},D)}}function L(l,g){return Object.defineProperty?Object.defineProperty(l,"raw",{value:g}):l.raw=g,l}var ae=Object.create?function(l,g){Object.defineProperty(l,"default",{enumerable:!0,value:g})}:function(l,g){l.default=g};function re(l){if(l&&l.__esModule)return l;var g={};if(l!=null)for(var h in l)h!=="default"&&Object.prototype.hasOwnProperty.call(l,h)&&K(g,l,h);return ae(g,l),g}function we(l){return l&&l.__esModule?l:{default:l}}function Ee(l,g){if(!g.has(l))throw new TypeError("attempted to get private field on non-instance");return g.get(l)}function Oe(l,g,h){if(!g.has(l))throw new TypeError("attempted to set private field on non-instance");return g.set(l,h),h}var We=_(52796),yt=_.n(We);function gt(l,g,h,x,C,B){B===void 0&&(B=0);var D=oe(l,g,B),le=D.width,ke=D.height,be=Math.min(le,h),se=Math.min(ke,x);return be>se*C?{width:se*C,height:se}:{width:be,height:be/C}}function de(l,g,h,x,C){C===void 0&&(C=0);var B=oe(g.width,g.height,C),D=B.width,le=B.height;return{x:Re(l.x,D,h.width,x),y:Re(l.y,le,h.height,x)}}function Re(l,g,h,x){var C=g*x/2-h/2;return Math.min(C,Math.max(l,-C))}function Ke(l,g){return Math.sqrt(Math.pow(l.y-g.y,2)+Math.pow(l.x-g.x,2))}function I(l,g){return Math.atan2(g.y-l.y,g.x-l.x)*180/Math.PI}function k(l,g,h,x,C,B,D){B===void 0&&(B=0),D===void 0&&(D=!0);var le=D&&B===0?p:y,ke={x:le(100,((g.width-h.width/C)/2-l.x/C)/g.width*100),y:le(100,((g.height-h.height/C)/2-l.y/C)/g.height*100),width:le(100,h.width/g.width*100/C),height:le(100,h.height/g.height*100/C)},be=Math.round(le(g.naturalWidth,ke.width*g.naturalWidth/100)),se=Math.round(le(g.naturalHeight,ke.height*g.naturalHeight/100)),He=g.naturalWidth>=g.naturalHeight*x,ze=He?{width:Math.round(se*x),height:se}:{width:be,height:Math.round(be/x)},st=S(S({},ze),{x:Math.round(le(g.naturalWidth-ze.width,ke.x*g.naturalWidth/100)),y:Math.round(le(g.naturalHeight-ze.height,ke.y*g.naturalHeight/100))});return{croppedAreaPercentages:ke,croppedAreaPixels:st}}function p(l,g){return Math.min(l,Math.max(0,g))}function y(l,g){return g}function b(l,g,h){var x=g.width/g.naturalWidth;if(h){var C=h.height>h.width;return C?h.height/x/l.height:h.width/x/l.width}var B=l.width/l.height,D=g.naturalWidth>=g.naturalHeight*B;return D?g.naturalHeight/l.height:g.naturalWidth/l.width}function U(l,g,h){var x=g.width/g.naturalWidth,C=b(l,g,h),B=x*C,D={x:((g.naturalWidth-l.width)/2-l.x)*B,y:((g.naturalHeight-l.height)/2-l.y)*B};return{crop:D,zoom:C}}function H(l,g){return{x:(g.x+l.x)/2,y:(g.y+l.y)/2}}function ve(l,g,h,x,C){var B=Math.cos,D=Math.sin,le=C*Math.PI/180,ke=(l-h)*B(le)-(g-x)*D(le)+h,be=(l-h)*D(le)+(g-x)*B(le)+x;return[ke,be]}function oe(l,g,h){var x=l/2,C=g/2,B=[ve(0,0,x,C,h),ve(l,0,x,C,h),ve(l,g,x,C,h),ve(0,g,x,C,h)],D=Math.min.apply(Math,B.map(function(se){return se[0]})),le=Math.max.apply(Math,B.map(function(se){return se[0]})),ke=Math.min.apply(Math,B.map(function(se){return se[1]})),be=Math.max.apply(Math,B.map(function(se){return se[1]}));return{width:le-D,height:be-ke}}function F(){for(var l=[],g=0;g<arguments.length;g++)l[g]=arguments[g];return l.filter(function(h){return typeof h=="string"&&h.length>0}).join(" ").trim()}var De=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Te=1,Lt=3,Gt=function(l){Se(g,l);function g(){var h=l!==null&&l.apply(this,arguments)||this;return h.imageRef=null,h.videoRef=null,h.containerRef=null,h.styleRef=null,h.containerRect=null,h.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},h.dragStartPosition={x:0,y:0},h.dragStartCrop={x:0,y:0},h.lastPinchDistance=0,h.lastPinchRotation=0,h.rafDragTimeout=null,h.rafPinchTimeout=null,h.wheelTimer=null,h.state={cropSize:null,hasWheelJustStarted:!1},h.preventZoomSafari=function(x){return x.preventDefault()},h.cleanEvents=function(){document.removeEventListener("mousemove",h.onMouseMove),document.removeEventListener("mouseup",h.onDragStopped),document.removeEventListener("touchmove",h.onTouchMove),document.removeEventListener("touchend",h.onDragStopped)},h.clearScrollEvent=function(){h.containerRef&&h.containerRef.removeEventListener("wheel",h.onWheel),h.wheelTimer&&clearTimeout(h.wheelTimer)},h.onMediaLoad=function(){h.computeSizes(),h.emitCropData(),h.setInitialCrop(),h.props.onMediaLoaded&&h.props.onMediaLoaded(h.mediaSize)},h.setInitialCrop=function(){var x=h.props,C=x.initialCroppedAreaPixels,B=x.cropSize;if(!!C){var D=U(C,h.mediaSize,B),le=D.crop,ke=D.zoom;h.props.onCropChange(le),h.props.onZoomChange&&h.props.onZoomChange(ke)}},h.computeSizes=function(){var x,C,B,D,le,ke,be=h.imageRef||h.videoRef;if(be&&h.containerRef){h.containerRect=h.containerRef.getBoundingClientRect(),h.mediaSize={width:be.offsetWidth,height:be.offsetHeight,naturalWidth:((x=h.imageRef)===null||x===void 0?void 0:x.naturalWidth)||((C=h.videoRef)===null||C===void 0?void 0:C.videoWidth)||0,naturalHeight:((B=h.imageRef)===null||B===void 0?void 0:B.naturalHeight)||((D=h.videoRef)===null||D===void 0?void 0:D.videoHeight)||0};var se=h.props.cropSize?h.props.cropSize:gt(be.offsetWidth,be.offsetHeight,h.containerRect.width,h.containerRect.height,h.props.aspect,h.props.rotation);(((le=h.state.cropSize)===null||le===void 0?void 0:le.height)!==se.height||((ke=h.state.cropSize)===null||ke===void 0?void 0:ke.width)!==se.width)&&h.props.onCropSizeChange&&h.props.onCropSizeChange(se),h.setState({cropSize:se},h.recomputeCropPosition)}},h.onMouseDown=function(x){x.preventDefault(),document.addEventListener("mousemove",h.onMouseMove),document.addEventListener("mouseup",h.onDragStopped),h.onDragStart(g.getMousePoint(x))},h.onMouseMove=function(x){return h.onDrag(g.getMousePoint(x))},h.onTouchStart=function(x){document.addEventListener("touchmove",h.onTouchMove,{passive:!1}),document.addEventListener("touchend",h.onDragStopped),x.touches.length===2?h.onPinchStart(x):x.touches.length===1&&h.onDragStart(g.getTouchPoint(x.touches[0]))},h.onTouchMove=function(x){x.preventDefault(),x.touches.length===2?h.onPinchMove(x):x.touches.length===1&&h.onDrag(g.getTouchPoint(x.touches[0]))},h.onDragStart=function(x){var C,B,D=x.x,le=x.y;h.dragStartPosition={x:D,y:le},h.dragStartCrop=S({},h.props.crop),(B=(C=h.props).onInteractionStart)===null||B===void 0||B.call(C)},h.onDrag=function(x){var C=x.x,B=x.y;h.rafDragTimeout&&window.cancelAnimationFrame(h.rafDragTimeout),h.rafDragTimeout=window.requestAnimationFrame(function(){if(!!h.state.cropSize&&!(C===void 0||B===void 0)){var D=C-h.dragStartPosition.x,le=B-h.dragStartPosition.y,ke={x:h.dragStartCrop.x+D,y:h.dragStartCrop.y+le},be=h.props.restrictPosition?de(ke,h.mediaSize,h.state.cropSize,h.props.zoom,h.props.rotation):ke;h.props.onCropChange(be)}})},h.onDragStopped=function(){var x,C;h.cleanEvents(),h.emitCropData(),(C=(x=h.props).onInteractionEnd)===null||C===void 0||C.call(x)},h.onWheel=function(x){x.preventDefault();var C=g.getMousePoint(x),B=yt()(x).pixelY,D=h.props.zoom-B*h.props.zoomSpeed/200;h.setNewZoom(D,C),h.state.hasWheelJustStarted||h.setState({hasWheelJustStarted:!0},function(){var le,ke;return(ke=(le=h.props).onInteractionStart)===null||ke===void 0?void 0:ke.call(le)}),h.wheelTimer&&clearTimeout(h.wheelTimer),h.wheelTimer=window.setTimeout(function(){return h.setState({hasWheelJustStarted:!1},function(){var le,ke;return(ke=(le=h.props).onInteractionEnd)===null||ke===void 0?void 0:ke.call(le)})},250)},h.getPointOnContainer=function(x){var C=x.x,B=x.y;if(!h.containerRect)throw new Error("The Cropper is not mounted");return{x:h.containerRect.width/2-(C-h.containerRect.left),y:h.containerRect.height/2-(B-h.containerRect.top)}},h.getPointOnMedia=function(x){var C=x.x,B=x.y,D=h.props,le=D.crop,ke=D.zoom;return{x:(C+le.x)/ke,y:(B+le.y)/ke}},h.setNewZoom=function(x,C){if(!(!h.state.cropSize||!h.props.onZoomChange)){var B=h.getPointOnContainer(C),D=h.getPointOnMedia(B),le=Math.min(h.props.maxZoom,Math.max(x,h.props.minZoom)),ke={x:D.x*le-B.x,y:D.y*le-B.y},be=h.props.restrictPosition?de(ke,h.mediaSize,h.state.cropSize,le,h.props.rotation):ke;h.props.onCropChange(be),h.props.onZoomChange(le)}},h.getCropData=function(){if(!h.state.cropSize)return null;var x=h.props.restrictPosition?de(h.props.crop,h.mediaSize,h.state.cropSize,h.props.zoom,h.props.rotation):h.props.crop;return k(x,h.mediaSize,h.state.cropSize,h.getAspect(),h.props.zoom,h.props.rotation,h.props.restrictPosition)},h.emitCropData=function(){var x=h.getCropData();if(!!x){var C=x.croppedAreaPercentages,B=x.croppedAreaPixels;h.props.onCropComplete&&h.props.onCropComplete(C,B),h.props.onCropAreaChange&&h.props.onCropAreaChange(C,B)}},h.emitCropAreaChange=function(){var x=h.getCropData();if(!!x){var C=x.croppedAreaPercentages,B=x.croppedAreaPixels;h.props.onCropAreaChange&&h.props.onCropAreaChange(C,B)}},h.recomputeCropPosition=function(){if(!!h.state.cropSize){var x=h.props.restrictPosition?de(h.props.crop,h.mediaSize,h.state.cropSize,h.props.zoom,h.props.rotation):h.props.crop;h.props.onCropChange(x),h.emitCropData()}},h}return g.prototype.componentDidMount=function(){window.addEventListener("resize",this.computeSizes),this.containerRef&&(this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.preventZoomSafari),this.containerRef.addEventListener("gesturechange",this.preventZoomSafari)),this.props.disableAutomaticStylesInjection||(this.styleRef=document.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.styleRef.innerHTML=De,document.head.appendChild(this.styleRef)),this.imageRef&&this.imageRef.complete&&this.onMediaLoad()},g.prototype.componentWillUnmount=function(){var h;window.removeEventListener("resize",this.computeSizes),this.containerRef&&(this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.containerRef.removeEventListener("gesturechange",this.preventZoomSafari)),this.styleRef&&((h=this.styleRef.parentNode)===null||h===void 0||h.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},g.prototype.componentDidUpdate=function(h){var x,C,B,D,le,ke,be,se,He;h.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):h.aspect!==this.props.aspect?this.computeSizes():h.zoom!==this.props.zoom?this.recomputeCropPosition():((x=h.cropSize)===null||x===void 0?void 0:x.height)!==((C=this.props.cropSize)===null||C===void 0?void 0:C.height)||((B=h.cropSize)===null||B===void 0?void 0:B.width)!==((D=this.props.cropSize)===null||D===void 0?void 0:D.width)?this.computeSizes():(((le=h.crop)===null||le===void 0?void 0:le.x)!==((ke=this.props.crop)===null||ke===void 0?void 0:ke.x)||((be=h.crop)===null||be===void 0?void 0:be.y)!==((se=this.props.crop)===null||se===void 0?void 0:se.y))&&this.emitCropAreaChange(),h.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),h.video!==this.props.video&&((He=this.videoRef)===null||He===void 0||He.load())},g.prototype.getAspect=function(){var h=this.props,x=h.cropSize,C=h.aspect;return x?x.width/x.height:C},g.prototype.onPinchStart=function(h){var x=g.getTouchPoint(h.touches[0]),C=g.getTouchPoint(h.touches[1]);this.lastPinchDistance=Ke(x,C),this.lastPinchRotation=I(x,C),this.onDragStart(H(x,C))},g.prototype.onPinchMove=function(h){var x=this,C=g.getTouchPoint(h.touches[0]),B=g.getTouchPoint(h.touches[1]),D=H(C,B);this.onDrag(D),this.rafPinchTimeout&&window.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=window.requestAnimationFrame(function(){var le=Ke(C,B),ke=x.props.zoom*(le/x.lastPinchDistance);x.setNewZoom(ke,D),x.lastPinchDistance=le;var be=I(C,B),se=x.props.rotation+(be-x.lastPinchRotation);x.props.onRotationChange&&x.props.onRotationChange(se),x.lastPinchRotation=be})},g.prototype.render=function(){var h=this,x=this.props,C=x.image,B=x.video,D=x.mediaProps,le=x.transform,ke=x.crop,be=ke.x,se=ke.y,He=x.rotation,ze=x.zoom,st=x.cropShape,Dt=x.showGrid,It=x.style,or=It.containerStyle,sr=It.cropAreaStyle,Mt=It.mediaStyle,Zt=x.classes,$t=Zt.containerClassName,ar=Zt.cropAreaClassName,qt=Zt.mediaClassName,At=x.objectFit;return z.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(ft){return h.containerRef=ft},"data-testid":"container",style:or,className:F("reactEasyCrop_Container",$t)},C?z.createElement("img",S({alt:"",className:F("reactEasyCrop_Image",At==="contain"&&"reactEasyCrop_Contain",At==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",At==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",qt)},D,{src:C,ref:function(ft){return h.imageRef=ft},style:S(S({},Mt),{transform:le||"translate("+be+"px, "+se+"px) rotate("+He+"deg) scale("+ze+")"}),onLoad:this.onMediaLoad})):B&&z.createElement("video",S({autoPlay:!0,loop:!0,muted:!0,className:F("reactEasyCrop_Video",At==="contain"&&"reactEasyCrop_Contain",At==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",At==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",qt)},D,{ref:function(ft){return h.videoRef=ft},onLoadedMetadata:this.onMediaLoad,style:S(S({},Mt),{transform:le||"translate("+be+"px, "+se+"px) rotate("+He+"deg) scale("+ze+")"}),controls:!1}),(Array.isArray(B)?B:[{src:B}]).map(function(bt){return z.createElement("source",S({key:bt.src},bt))})),this.state.cropSize&&z.createElement("div",{style:S(S({},sr),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:F("reactEasyCrop_CropArea",st==="round"&&"reactEasyCrop_CropAreaRound",Dt&&"reactEasyCrop_CropAreaGrid",ar)}))},g.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Lt,minZoom:Te,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},g.getMousePoint=function(h){return{x:Number(h.clientX),y:Number(h.clientY)}},g.getTouchPoint=function(h){return{x:Number(h.clientX),y:Number(h.clientY)}},g}(z.Component),Wt=Gt,me=_(42051),zt=_(50146),G=_(75454);function $e(l){if(!!l&&typeof window!="undefined"){var g=document.createElement("style");return g.setAttribute("media","screen"),g.innerHTML=l,document.head.appendChild(g),l}}$e(`.antd-img-crop-modal .ant-modal-body {
  padding-bottom: 16px;
}
.antd-img-crop-modal .antd-img-crop-container {
  position: relative;
  width: 100%;
  height: 40vh;
  margin-bottom: 16px;
}
.antd-img-crop-modal .antd-img-crop-control {
  display: flex;
  align-items: center;
  width: 60%;
  margin-left: auto;
  margin-right: auto;
}
.antd-img-crop-modal .antd-img-crop-control button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  padding: 0;
  font-style: normal;
  background: transparent;
  border: 0;
  outline: 0;
  cursor: pointer;
}
.antd-img-crop-modal .antd-img-crop-control button[disabled] {
  cursor: default;
}
.antd-img-crop-modal .antd-img-crop-control.zoom button {
  font-size: 18px;
}
.antd-img-crop-modal .antd-img-crop-control.rotate button {
  font-size: 16px;
}
.antd-img-crop-modal .antd-img-crop-control.rotate button:first-of-type {
  transform: rotate(-20deg);
}
.antd-img-crop-modal .antd-img-crop-control.rotate button:last-of-type {
  transform: rotate(20deg);
}
.antd-img-crop-modal .antd-img-crop-control .ant-slider {
  flex: 1;
  margin: 0 8px;
}
`);var Xe=["beforeUpload","accept"],ot="antd-img-crop",mt=1,ct=.1,d=0,n=1,t=-180,i=180,u=(0,z.memo)((0,z.forwardRef)(function(l,g){var h=l.src,x=l.aspect,C=l.shape,B=l.grid,D=l.zoom,le=l.rotate,ke=l.rotateValRef,be=l.setZoomValRef,se=l.setRotateValRef,He=l.minZoom,ze=l.maxZoom,st=l.cropPixelsRef,Dt=l.cropperProps,It=(0,z.useState)({x:0,y:0}),or=It[0],sr=It[1],Mt=(0,z.useState)({width:0,height:0}),Zt=Mt[0],$t=Mt[1],ar=(0,z.useCallback)(function(Ct,Yt){st.current=Yt},[st]),qt=(0,z.useCallback)(function(Ct){var Yt=Ct.width,Er=Ct.height,xr=Er*x;Yt>xr?$t({width:xr,height:Er}):$t({width:Yt,height:Yt/x})},[x]),At=(0,z.useState)(mt),bt=At[0],ft=At[1],yr=(0,z.useState)(d),Pt=yr[0],cr=yr[1];return ke.current=Pt,(0,z.useEffect)(function(){be.current=ft,se.current=cr},[se,be]),z.createElement(z.Fragment,null,z.createElement(Wt,Object.assign({},Dt,{ref:g,image:h,crop:or,cropSize:Zt,onCropChange:sr,aspect:x,cropShape:C,showGrid:B,zoomWithScroll:D,zoom:bt,rotation:Pt,onZoomChange:ft,onRotationChange:cr,minZoom:He,maxZoom:ze,onCropComplete:ar,onMediaLoaded:qt,classes:{containerClassName:ot+"-container",mediaClassName:ot+"-media"}})),D&&z.createElement("div",{className:ot+"-control zoom"},z.createElement("button",{onClick:function(){return ft(bt-ct)},disabled:bt-ct<He},"\uFF0D"),z.createElement(G.Z,{min:He,max:ze,step:ct,value:bt,onChange:ft}),z.createElement("button",{onClick:function(){return ft(bt+ct)},disabled:bt+ct>ze},"\uFF0B")),le&&z.createElement("div",{className:ot+"-control rotate"},z.createElement("button",{onClick:function(){return cr(Pt-n)},disabled:Pt===t},"\u21BA"),z.createElement(G.Z,{min:t,max:i,step:n,value:Pt,onChange:cr}),z.createElement("button",{onClick:function(){return cr(Pt+n)},disabled:Pt===i},"\u21BB")))}));u.propTypes={src:v().string,aspect:v().number,shape:v().string,grid:v().bool,zoom:v().bool,rotate:v().bool,rotateValRef:v().object,setZoomValRef:v().object,setRotateValRef:v().object,minZoom:v().number,maxZoom:v().number,cropPixelsRef:v().object,cropperProps:v().object};var f=(0,z.forwardRef)(function(l,g){var h=l.aspect,x=l.shape,C=l.grid,B=l.quality,D=l.zoom,le=l.rotate,ke=l.minZoom,be=l.maxZoom,se=l.fillColor,He=l.modalTitle,ze=l.modalWidth,st=l.modalOk,Dt=l.modalCancel,It=l.onModalOk,or=l.onModalCancel,sr=l.beforeCrop,Mt=l.onUploadFail,Zt=l.cropperProps,$t=l.children,ar=(0,z.useState)(""),qt=ar[0],At=ar[1],bt=(0,z.useRef)(),ft=(0,z.useRef)(),yr=(0,z.useRef)(),Pt=(0,z.useRef)(),cr=(0,z.useCallback)(function(){var Tt=Array.isArray($t)?$t[0]:$t,dt=Tt.props,ur=dt.beforeUpload,Ut=dt.accept,pt=(0,Q.Z)(dt,Xe);return Pt.current=ur,(0,V.Z)({},Tt,{props:(0,V.Z)({},pt,{accept:Ut||"image/*",beforeUpload:function(jt,St){return new Promise(function(){var Qe=(0,$.Z)(R().mark(function ut(Xt,Ge){var Kt;return R().wrap(function(et){for(;;)switch(et.prev=et.next){case 0:if(et.t0=sr,!et.t0){et.next=5;break}return et.next=4,sr(jt,St);case 4:et.t0=!et.sent;case 5:if(!et.t0){et.next=8;break}return Ge(),et.abrupt("return");case 8:bt.current=jt,ft.current=function(_t){It==null||It(_t),Xt(_t)},yr.current=function(_t){Mt==null||Mt(_t),Ge(_t)},Kt=new FileReader,Kt.addEventListener("load",function(){At(Kt.result)}),Kt.readAsDataURL(jt);case 14:case"end":return et.stop()}},ut)}));return function(ut,Xt){return Qe.apply(this,arguments)}}())}})})},[sr,$t,It,Mt]),Ct=(0,z.useRef)(),Yt=(0,z.useRef)(),Er=(0,z.useRef)(),xr=(0,z.useRef)(),mn=(0,z.useMemo)(function(){var Tt={width:ze,okText:st,cancelText:Dt};return Object.keys(Tt).forEach(function(dt){Tt[dt]||delete Tt[dt]}),Tt},[Dt,st,ze]),Pr=(0,z.useCallback)(function(){At(""),Yt.current(mt),Er.current(d)},[]),bn=(0,z.useCallback)(function(){or==null||or(),Pr()},[Pr,or]),wn=(0,z.useCallback)((0,$.Z)(R().mark(function Tt(){var dt,ur,Ut,pt,lr,jt,St,Qe,ut,Xt,Ge,Kt,gr,et,_t,Lr,Dr,Zr,Cr,Jt,qr,Yr;return R().wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:Pr(),dt=document.querySelector("."+ot+"-media"),ur=xr.current,Ut=ur.width,pt=ur.height,lr=ur.x,jt=ur.y,St=document.createElement("canvas"),Qe=St.getContext("2d"),le&&Ct.current!==0?(ut=dt.naturalWidth,Xt=dt.naturalHeight,Ge=Math.sqrt(Math.pow(ut,2)+Math.pow(Xt,2)),Kt=ut,gr=Xt,Ge>4096&&(et=4096/Ge,Ge=4096,Kt=ut*et,gr=Xt*et,Ut=Ut*et,pt=pt*et,lr=lr*et,jt=jt*et),St.width=Ge,St.height=Ge,_t=Ge/2,Qe.translate(_t,_t),Qe.rotate(Ct.current*Math.PI/180),Qe.translate(-_t,-_t),Qe.fillStyle=se,Qe.fillRect(0,0,Ge,Ge),Lr=(Ge-Kt)/2,Dr=(Ge-gr)/2,Qe.drawImage(dt,0,0,ut,Xt,Lr,Dr,Kt,gr),Zr=Qe.getImageData(0,0,Ge,Ge),St.width=Ut,St.height=pt,Qe.fillStyle=se,Qe.fillRect(0,0,Ut,pt),Qe.putImageData(Zr,-(Lr+lr),-(Dr+jt))):(St.width=Ut,St.height=pt,Qe.fillStyle=se,Qe.fillRect(0,0,Ut,pt),Qe.drawImage(dt,lr,jt,Ut,pt,0,0,Ut,pt)),Cr=bt.current,Jt=Cr.type,qr=Cr.name,Yr=Cr.uid,St.toBlob(function(){var vn=(0,$.Z)(R().mark(function Jr(Qr){var Qt,lt,Wr,er;return R().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:if(Qt=new File([Qr],qr,{type:Jt}),Qt.uid=Yr,typeof Pt.current=="function"){Ze.next=4;break}return Ze.abrupt("return",ft.current(Qt));case 4:if(lt=Pt.current(Qt,[Qt]),!(typeof lt!="boolean"&&!lt)){Ze.next=8;break}return console.error("beforeUpload must return a boolean or Promise"),Ze.abrupt("return");case 8:if(lt!==!0){Ze.next=10;break}return Ze.abrupt("return",ft.current(Qt));case 10:if(lt!==!1){Ze.next=12;break}return Ze.abrupt("return",yr.current("not upload"));case 12:if(!(lt&&typeof lt.then=="function")){Ze.next=25;break}return Ze.prev=13,Ze.next=16,lt;case 16:Wr=Ze.sent,er=Object.prototype.toString.call(Wr),(er==="[object File]"||er==="[object Blob]")&&(Qt=Wr),ft.current(Qt),Ze.next=25;break;case 22:Ze.prev=22,Ze.t0=Ze.catch(13),yr.current(Ze.t0);case 25:case"end":return Ze.stop()}},Jr,null,[[13,22]])}));return function(Jr){return vn.apply(this,arguments)}}(),Jt,B);case 8:case"end":return hr.stop()}},Tt)})),[se,Pr,B,le]),Gr=function(dt){return z.createElement(z.Fragment,null,cr(),qt&&z.createElement(zt.Z,Object.assign({visible:!0,wrapClassName:ot+"-modal",title:dt,onOk:wn,onCancel:bn,maskClosable:!1,destroyOnClose:!0},mn),z.createElement(u,{ref:g,src:qt,aspect:h,shape:x,grid:C,zoom:D,rotate:le,rotateValRef:Ct,setZoomValRef:Yt,setRotateValRef:Er,minZoom:ke,maxZoom:be,cropPixelsRef:xr,cropperProps:Zt})))};return He?Gr(He):z.createElement(me.Z,null,function(Tt,dt){return Gr(dt==="zh-cn"?"\u7F16\u8F91\u56FE\u7247":"Edit image")})});f.propTypes={aspect:v().number,shape:v().oneOf(["rect","round"]),grid:v().bool,quality:v().number,fillColor:v().string,zoom:v().bool,rotate:v().bool,minZoom:v().number,maxZoom:v().number,modalTitle:v().string,modalWidth:v().oneOfType([v().number,v().string]),modalOk:v().string,modalCancel:v().string,onModalOk:v().func,onModalCancel:v().func,beforeCrop:v().func,onUploadFail:v().func,cropperProps:v().object,children:v().node},f.defaultProps={aspect:1,shape:"rect",grid:!1,quality:.4,fillColor:"white",zoom:!0,rotate:!1,minZoom:1,maxZoom:3}},5467:function(Ie,w,_){"use strict";_.d(w,{Z:function(){return $}});function $(V){return Object.keys(V).reduce(function(Q,T){return(T.substr(0,5)==="data-"||T.substr(0,5)==="aria-"||T==="role")&&T.substr(0,7)!=="data-__"&&(Q[T]=V[T]),Q},{})}},76772:function(Ie,w,_){"use strict";_.d(w,{Z:function(){return ae}});var $=_(22122),V=_(96156),Q=_(28481),T=_(67294),R=_(54549),z=_(15873),E=_(57119),v=_(68628),te=_(73218),Se=_(38819),S=_(68855),Be=_(40847),Ce=_(43061),fe=_(60444),q=_(94184),M=_.n(q),O=_(65632),K=_(5467),J=_(6610),Z=_(5991),N=_(10379),ie=_(81907),X=function(re){(0,N.Z)(Ee,re);var we=(0,ie.Z)(Ee);function Ee(){var Oe;return(0,J.Z)(this,Ee),Oe=we.apply(this,arguments),Oe.state={error:void 0,info:{componentStack:""}},Oe}return(0,Z.Z)(Ee,[{key:"componentDidCatch",value:function(We,yt){this.setState({error:We,info:yt})}},{key:"render",value:function(){var We=this.props,yt=We.message,gt=We.description,de=We.children,Re=this.state,Ke=Re.error,I=Re.info,k=I&&I.componentStack?I.componentStack:null,p=typeof yt=="undefined"?(Ke||"").toString():yt,y=typeof gt=="undefined"?k:gt;return Ke?T.createElement(ae,{type:"error",message:p,description:T.createElement("pre",null,y)}):de}}]),Ee}(T.Component),ue=_(96159),ge=function(re,we){var Ee={};for(var Oe in re)Object.prototype.hasOwnProperty.call(re,Oe)&&we.indexOf(Oe)<0&&(Ee[Oe]=re[Oe]);if(re!=null&&typeof Object.getOwnPropertySymbols=="function")for(var We=0,Oe=Object.getOwnPropertySymbols(re);We<Oe.length;We++)we.indexOf(Oe[We])<0&&Object.prototype.propertyIsEnumerable.call(re,Oe[We])&&(Ee[Oe[We]]=re[Oe[We]]);return Ee},Ae={success:Se.Z,info:Be.Z,error:Ce.Z,warning:S.Z},ee={success:z.Z,info:v.Z,error:te.Z,warning:E.Z},L=function(we){var Ee,Oe=we.description,We=we.prefixCls,yt=we.message,gt=we.banner,de=we.className,Re=de===void 0?"":de,Ke=we.style,I=we.onMouseEnter,k=we.onMouseLeave,p=we.onClick,y=we.afterClose,b=we.showIcon,U=we.closable,H=we.closeText,ve=we.action,oe=ge(we,["description","prefixCls","message","banner","className","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","action"]),F=T.useState(!1),De=(0,Q.Z)(F,2),Te=De[0],Lt=De[1],Gt=T.useRef(),Wt=T.useContext(O.E_),me=Wt.getPrefixCls,zt=Wt.direction,G=me("alert",We),$e=function(f){var l;Lt(!0),(l=oe.onClose)===null||l===void 0||l.call(oe,f)},Xe=function(){var f=oe.type;return f!==void 0?f:gt?"warning":"info"},ot=H?!0:U,mt=Xe(),ct=function(){var f=oe.icon,l=(Oe?ee:Ae)[mt]||null;return f?(0,ue.wm)(f,T.createElement("span",{className:"".concat(G,"-icon")},f),function(){return{className:M()("".concat(G,"-icon"),(0,V.Z)({},f.props.className,f.props.className))}}):T.createElement(l,{className:"".concat(G,"-icon")})},d=function(){return ot?T.createElement("button",{type:"button",onClick:$e,className:"".concat(G,"-close-icon"),tabIndex:0},H?T.createElement("span",{className:"".concat(G,"-close-text")},H):T.createElement(R.Z,null)):null},n=gt&&b===void 0?!0:b,t=M()(G,"".concat(G,"-").concat(mt),(Ee={},(0,V.Z)(Ee,"".concat(G,"-with-description"),!!Oe),(0,V.Z)(Ee,"".concat(G,"-no-icon"),!n),(0,V.Z)(Ee,"".concat(G,"-banner"),!!gt),(0,V.Z)(Ee,"".concat(G,"-rtl"),zt==="rtl"),Ee),Re),i=(0,K.Z)(oe);return T.createElement(fe.Z,{visible:!Te,motionName:"".concat(G,"-motion"),motionAppear:!1,motionEnter:!1,onLeaveStart:function(f){return{maxHeight:f.offsetHeight}},onLeaveEnd:y},function(u){var f=u.className,l=u.style;return T.createElement("div",(0,$.Z)({ref:Gt,"data-show":!Te,className:M()(t,f),style:(0,$.Z)((0,$.Z)({},Ke),l),onMouseEnter:I,onMouseLeave:k,onClick:p,role:"alert"},i),n?ct():null,T.createElement("div",{className:"".concat(G,"-content")},yt?T.createElement("div",{className:"".concat(G,"-message")},yt):null,Oe?T.createElement("div",{className:"".concat(G,"-description")},Oe):null),ve?T.createElement("div",{className:"".concat(G,"-action")},ve):null,d())})};L.ErrorBoundary=X;var ae=L},17462:function(Ie,w,_){"use strict";var $=_(38663),V=_.n($),Q=_(3178),T=_.n(Q)},25532:function(Ie,w,_){"use strict";var $=_(48764).Buffer,V=this&&this.__createBinding||(Object.create?function(ee,L,ae,re){re===void 0&&(re=ae),Object.defineProperty(ee,re,{enumerable:!0,get:function(){return L[ae]}})}:function(ee,L,ae,re){re===void 0&&(re=ae),ee[re]=L[ae]}),Q=this&&this.__setModuleDefault||(Object.create?function(ee,L){Object.defineProperty(ee,"default",{enumerable:!0,value:L})}:function(ee,L){ee.default=L}),T=this&&this.__decorate||function(ee,L,ae,re){var we=arguments.length,Ee=we<3?L:re===null?re=Object.getOwnPropertyDescriptor(L,ae):re,Oe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(ee,L,ae,re);else for(var We=ee.length-1;We>=0;We--)(Oe=ee[We])&&(Ee=(we<3?Oe(Ee):we>3?Oe(L,ae,Ee):Oe(L,ae))||Ee);return we>3&&Ee&&Object.defineProperty(L,ae,Ee),Ee},R=this&&this.__importStar||function(ee){if(ee&&ee.__esModule)return ee;var L={};if(ee!=null)for(var ae in ee)ae!=="default"&&Object.hasOwnProperty.call(ee,ae)&&V(L,ee,ae);return Q(L,ee),L},z=this&&this.__importDefault||function(ee){return ee&&ee.__esModule?ee:{default:ee}};Object.defineProperty(w,"__esModule",{value:!0}),w.deserializeUnchecked=w.deserialize=w.serialize=w.BinaryReader=w.BinaryWriter=w.BorshError=w.baseDecode=w.baseEncode=void 0;const E=z(_(13550)),v=z(_(77191)),te=R(_(8467)),Se=typeof _.g.TextDecoder!="function"?te.TextDecoder:_.g.TextDecoder,S=new Se("utf-8",{fatal:!0});function Be(ee){return typeof ee=="string"&&(ee=$.from(ee,"utf8")),v.default.encode($.from(ee))}w.baseEncode=Be;function Ce(ee){return $.from(v.default.decode(ee))}w.baseDecode=Ce;const fe=1024;class q extends Error{constructor(L){super(L);this.fieldPath=[],this.originalMessage=L}addToFieldPath(L){this.fieldPath.splice(0,0,L),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}w.BorshError=q;class M{constructor(){this.buf=$.alloc(fe),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=$.concat([this.buf,$.alloc(fe)]))}writeU8(L){this.maybeResize(),this.buf.writeUInt8(L,this.length),this.length+=1}writeU16(L){this.maybeResize(),this.buf.writeUInt16LE(L,this.length),this.length+=2}writeU32(L){this.maybeResize(),this.buf.writeUInt32LE(L,this.length),this.length+=4}writeU64(L){this.maybeResize(),this.writeBuffer($.from(new E.default(L).toArray("le",8)))}writeU128(L){this.maybeResize(),this.writeBuffer($.from(new E.default(L).toArray("le",16)))}writeU256(L){this.maybeResize(),this.writeBuffer($.from(new E.default(L).toArray("le",32)))}writeU512(L){this.maybeResize(),this.writeBuffer($.from(new E.default(L).toArray("le",64)))}writeBuffer(L){this.buf=$.concat([$.from(this.buf.subarray(0,this.length)),L,$.alloc(fe)]),this.length+=L.length}writeString(L){this.maybeResize();const ae=$.from(L,"utf8");this.writeU32(ae.length),this.writeBuffer(ae)}writeFixedArray(L){this.writeBuffer($.from(L))}writeArray(L,ae){this.maybeResize(),this.writeU32(L.length);for(const re of L)this.maybeResize(),ae(re)}toArray(){return this.buf.subarray(0,this.length)}}w.BinaryWriter=M;function O(ee,L,ae){const re=ae.value;ae.value=function(...we){try{return re.apply(this,we)}catch(Ee){if(Ee instanceof RangeError){const Oe=Ee.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(Oe)>=0)throw new q("Reached the end of buffer when deserializing")}throw Ee}}}class K{constructor(L){this.buf=L,this.offset=0}readU8(){const L=this.buf.readUInt8(this.offset);return this.offset+=1,L}readU16(){const L=this.buf.readUInt16LE(this.offset);return this.offset+=2,L}readU32(){const L=this.buf.readUInt32LE(this.offset);return this.offset+=4,L}readU64(){const L=this.readBuffer(8);return new E.default(L,"le")}readU128(){const L=this.readBuffer(16);return new E.default(L,"le")}readU256(){const L=this.readBuffer(32);return new E.default(L,"le")}readU512(){const L=this.readBuffer(64);return new E.default(L,"le")}readBuffer(L){if(this.offset+L>this.buf.length)throw new q(`Expected buffer length ${L} isn't within bounds`);const ae=this.buf.slice(this.offset,this.offset+L);return this.offset+=L,ae}readString(){const L=this.readU32(),ae=this.readBuffer(L);try{return S.decode(ae)}catch(re){throw new q(`Error decoding UTF-8 string: ${re}`)}}readFixedArray(L){return new Uint8Array(this.readBuffer(L))}readArray(L){const ae=this.readU32(),re=Array();for(let we=0;we<ae;++we)re.push(L());return re}}T([O],K.prototype,"readU8",null),T([O],K.prototype,"readU16",null),T([O],K.prototype,"readU32",null),T([O],K.prototype,"readU64",null),T([O],K.prototype,"readU128",null),T([O],K.prototype,"readU256",null),T([O],K.prototype,"readU512",null),T([O],K.prototype,"readString",null),T([O],K.prototype,"readFixedArray",null),T([O],K.prototype,"readArray",null),w.BinaryReader=K;function J(ee){return ee.charAt(0).toUpperCase()+ee.slice(1)}function Z(ee,L,ae,re,we){try{if(typeof re=="string")we[`write${J(re)}`](ae);else if(re instanceof Array)if(typeof re[0]=="number"){if(ae.length!==re[0])throw new q(`Expecting byte array of length ${re[0]}, but got ${ae.length} bytes`);we.writeFixedArray(ae)}else we.writeArray(ae,Ee=>{Z(ee,L,Ee,re[0],we)});else if(re.kind!==void 0)switch(re.kind){case"option":{ae==null?we.writeU8(0):(we.writeU8(1),Z(ee,L,ae,re.type,we));break}default:throw new q(`FieldType ${re} unrecognized`)}else N(ee,ae,we)}catch(Ee){throw Ee instanceof q&&Ee.addToFieldPath(L),Ee}}function N(ee,L,ae){const re=ee.get(L.constructor);if(!re)throw new q(`Class ${L.constructor.name} is missing in schema`);if(re.kind==="struct")re.fields.map(([we,Ee])=>{Z(ee,we,L[we],Ee,ae)});else if(re.kind==="enum"){const we=L[re.field];for(let Ee=0;Ee<re.values.length;++Ee){const[Oe,We]=re.values[Ee];if(Oe===we){ae.writeU8(Ee),Z(ee,Oe,L[Oe],We,ae);break}}}else throw new q(`Unexpected schema kind: ${re.kind} for ${L.constructor.name}`)}function ie(ee,L){const ae=new M;return N(ee,L,ae),ae.toArray()}w.serialize=ie;function X(ee,L,ae,re){try{return typeof ae=="string"?re[`read${J(ae)}`]():ae instanceof Array?typeof ae[0]=="number"?re.readFixedArray(ae[0]):re.readArray(()=>X(ee,L,ae[0],re)):ae.kind==="option"?re.readU8()?X(ee,L,ae.type,re):void 0:ue(ee,ae,re)}catch(we){throw we instanceof q&&we.addToFieldPath(L),we}}function ue(ee,L,ae){const re=ee.get(L);if(!re)throw new q(`Class ${L.name} is missing in schema`);if(re.kind==="struct"){const we={};for(const[Ee,Oe]of ee.get(L).fields)we[Ee]=X(ee,Ee,Oe,ae);return new L(we)}if(re.kind==="enum"){const we=ae.readU8();if(we>=re.values.length)throw new q(`Enum index: ${we} is out of range`);const[Ee,Oe]=re.values[we],We=X(ee,Ee,Oe,ae);return new L({[Ee]:We})}throw new q(`Unexpected schema kind: ${re.kind} for ${L.constructor.name}`)}function ge(ee,L,ae){const re=new K(ae),we=ue(ee,L,re);if(re.offset<ae.length)throw new q(`Unexpected ${ae.length-re.offset} bytes after deserialized data`);return we}w.deserialize=ge;function Ae(ee,L,ae){const re=new K(ae);return ue(ee,L,re)}w.deserializeUnchecked=Ae},37953:function(Ie){/*!
Copyright (C) 2013-2017 by Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/var w="~",_="\\x"+("0"+w.charCodeAt(0).toString(16)).slice(-2),$="\\"+_,V=new RegExp(_,"g"),Q=new RegExp($,"g"),T=new RegExp("(?:^|([^\\\\]))"+$),R=[].indexOf||function(fe){for(var q=this.length;q--&&this[q]!==fe;);return q},z=String;function E(fe,q,M){var O=!1,K=!!q,J=[],Z=[fe],N=[fe],ie=[M?w:"[Circular]"],X=fe,ue=1,ge,Ae;return K&&(Ae=typeof q=="object"?function(ee,L){return ee!==""&&q.indexOf(ee)<0?void 0:L}:q),function(ee,L){return K&&(L=Ae.call(this,ee,L)),O?(X!==this&&(ge=ue-R.call(Z,this)-1,ue-=ge,Z.splice(ue,Z.length),J.splice(ue-1,J.length),X=this),typeof L=="object"&&L?(R.call(Z,L)<0&&Z.push(X=L),ue=Z.length,ge=R.call(N,L),ge<0?(ge=N.push(L)-1,M?(J.push((""+ee).replace(V,_)),ie[ge]=w+J.join(w)):ie[ge]=ie[0]):L=ie[ge]):typeof L=="string"&&M&&(L=L.replace(_,$).replace(w,_))):O=!0,L}}function v(fe,q){for(var M=0,O=q.length;M<O;fe=fe[q[M++].replace(Q,w)]);return fe}function te(fe){return function(q,M){var O=typeof M=="string";return O&&M.charAt(0)===w?new z(M.slice(1)):(q===""&&(M=Be(M,M,{})),O&&(M=M.replace(T,"$1"+w).replace($,_)),fe?fe.call(this,q,M):M)}}function Se(fe,q,M){for(var O=0,K=q.length;O<K;O++)q[O]=Be(fe,q[O],M);return q}function S(fe,q,M){for(var O in q)q.hasOwnProperty(O)&&(q[O]=Be(fe,q[O],M));return q}function Be(fe,q,M){return q instanceof Array?Se(fe,q,M):q instanceof z?q.length?M.hasOwnProperty(q)?M[q]:M[q]=v(fe,q.split(w)):fe:q instanceof Object?S(fe,q,M):q}var Ce={stringify:function(q,M,O,K){return Ce.parser.stringify(q,E(q,M,!K),O)},parse:function(q,M){return Ce.parser.parse(q,te(M))},parser:JSON};Ie.exports=Ce},31198:function(Ie,w,_){"use strict";const $=_(79589),V=_(17741),Q=function(T,R){if(!(this instanceof Q))return new Q(T,R);R||(R={}),this.options={reviver:typeof R.reviver!="undefined"?R.reviver:null,replacer:typeof R.replacer!="undefined"?R.replacer:null,generator:typeof R.generator!="undefined"?R.generator:function(){return $()},version:typeof R.version!="undefined"?R.version:2,notificationIdNull:typeof R.notificationIdNull=="boolean"?R.notificationIdNull:!1},this.callServer=T};Ie.exports=Q,Q.prototype.request=function(T,R,z,E){const v=this;let te=null;const Se=Array.isArray(T)&&typeof R=="function";if(this.options.version===1&&Se)throw new TypeError("JSON-RPC 1.0 does not support batching");const S=!Se&&T&&typeof T=="object"&&typeof R=="function";if(Se||S)E=R,te=T;else{typeof z=="function"&&(E=z,z=void 0);const Ce=typeof E=="function";try{te=V(T,R,z,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(fe){if(Ce)return E(fe);throw fe}if(!Ce)return te}let Be;try{Be=JSON.stringify(te,this.options.replacer)}catch(Ce){return E(Ce)}return this.callServer(Be,function(Ce,fe){v._parseResponse(Ce,fe,E)}),te},Q.prototype._parseResponse=function(T,R,z){if(T){z(T);return}if(!R)return z();let E;try{E=JSON.parse(R,this.options.reviver)}catch(v){return z(v)}if(z.length===3)if(Array.isArray(E)){const v=function(Se){return typeof Se.error!="undefined"},te=function(Se){return!v(Se)};return z(null,E.filter(v),E.filter(te))}else return z(null,E.error,E.result);z(null,E)}},17741:function(Ie,w,_){"use strict";const $=_(79589),V=function(Q,T,R,z){if(typeof Q!="string")throw new TypeError(Q+" must be a string");z=z||{};const E=typeof z.version=="number"?z.version:2;if(E!==1&&E!==2)throw new TypeError(E+" must be 1 or 2");const v={method:Q};if(E===2&&(v.jsonrpc="2.0"),T){if(typeof T!="object"&&!Array.isArray(T))throw new TypeError(T+" must be an object, array or omitted");v.params=T}if(typeof R=="undefined"){const te=typeof z.generator=="function"?z.generator:function(){return $()};v.id=te(v,z)}else E===2&&R===null?z.notificationIdNull&&(v.id=null):v.id=R;return v};Ie.exports=V},47559:function(Ie){for(var w=[],_=0;_<256;++_)w[_]=(_+256).toString(16).substr(1);function $(V,Q){var T=Q||0,R=w;return[R[V[T++]],R[V[T++]],R[V[T++]],R[V[T++]],"-",R[V[T++]],R[V[T++]],"-",R[V[T++]],R[V[T++]],"-",R[V[T++]],R[V[T++]],"-",R[V[T++]],R[V[T++]],R[V[T++]],R[V[T++]],R[V[T++]],R[V[T++]]].join("")}Ie.exports=$},40503:function(Ie){var w=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(w){var _=new Uint8Array(16);Ie.exports=function(){return w(_),_}}else{var $=new Array(16);Ie.exports=function(){for(var Q=0,T;Q<16;Q++)(Q&3)==0&&(T=Math.random()*4294967296),$[Q]=T>>>((Q&3)<<3)&255;return $}}},79589:function(Ie,w,_){var $=_(40503),V=_(47559);function Q(T,R,z){var E=R&&z||0;typeof T=="string"&&(R=T==="binary"?new Array(16):null,T=null),T=T||{};var v=T.random||(T.rng||$)();if(v[6]=v[6]&15|64,v[8]=v[8]&63|128,R)for(var te=0;te<16;++te)R[E+te]=v[te];return R||V(v)}Ie.exports=Q},52796:function(Ie,w,_){Ie.exports=_(10643)},13264:function(Ie){"use strict";var w=!!(typeof window!="undefined"&&window.document&&window.document.createElement),_={canUseDOM:w,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:w&&!!(window.addEventListener||window.attachEvent),canUseViewport:w&&!!window.screen,isInWorker:!w};Ie.exports=_},84518:function(Ie){var w=!1,_,$,V,Q,T,R,z,E,v,te,Se,S,Be,Ce,fe;function q(){if(!w){w=!0;var O=navigator.userAgent,K=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(O),J=/(Mac OS X)|(Windows)|(Linux)/.exec(O);if(S=/\b(iPhone|iP[ao]d)/.exec(O),Be=/\b(iP[ao]d)/.exec(O),te=/Android/i.exec(O),Ce=/FBAN\/\w+;/i.exec(O),fe=/Mobile/i.exec(O),Se=!!/Win64/.exec(O),K){_=K[1]?parseFloat(K[1]):K[5]?parseFloat(K[5]):NaN,_&&document&&document.documentMode&&(_=document.documentMode);var Z=/(?:Trident\/(\d+.\d+))/.exec(O);R=Z?parseFloat(Z[1])+4:_,$=K[2]?parseFloat(K[2]):NaN,V=K[3]?parseFloat(K[3]):NaN,Q=K[4]?parseFloat(K[4]):NaN,Q?(K=/(?:Chrome\/(\d+\.\d+))/.exec(O),T=K&&K[1]?parseFloat(K[1]):NaN):T=NaN}else _=$=V=T=Q=NaN;if(J){if(J[1]){var N=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(O);z=N?parseFloat(N[1].replace("_",".")):!0}else z=!1;E=!!J[2],v=!!J[3]}else z=E=v=!1}}var M={ie:function(){return q()||_},ieCompatibilityMode:function(){return q()||R>_},ie64:function(){return M.ie()&&Se},firefox:function(){return q()||$},opera:function(){return q()||V},webkit:function(){return q()||Q},safari:function(){return M.webkit()},chrome:function(){return q()||T},windows:function(){return q()||E},osx:function(){return q()||z},linux:function(){return q()||v},iphone:function(){return q()||S},mobile:function(){return q()||S||Be||te||fe},nativeApp:function(){return q()||Ce},android:function(){return q()||te},ipad:function(){return q()||Be}};Ie.exports=M},88950:function(Ie,w,_){"use strict";var $=_(13264),V;$.canUseDOM&&(V=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Q(T,R){if(!$.canUseDOM||R&&!("addEventListener"in document))return!1;var z="on"+T,E=z in document;if(!E){var v=document.createElement("div");v.setAttribute(z,"return;"),E=typeof v[z]=="function"}return!E&&V&&T==="wheel"&&(E=document.implementation.hasFeature("Events.wheel","3.0")),E}Ie.exports=Q},10643:function(Ie,w,_){"use strict";var $=_(84518),V=_(88950),Q=10,T=40,R=800;function z(E){var v=0,te=0,Se=0,S=0;return"detail"in E&&(te=E.detail),"wheelDelta"in E&&(te=-E.wheelDelta/120),"wheelDeltaY"in E&&(te=-E.wheelDeltaY/120),"wheelDeltaX"in E&&(v=-E.wheelDeltaX/120),"axis"in E&&E.axis===E.HORIZONTAL_AXIS&&(v=te,te=0),Se=v*Q,S=te*Q,"deltaY"in E&&(S=E.deltaY),"deltaX"in E&&(Se=E.deltaX),(Se||S)&&E.deltaMode&&(E.deltaMode==1?(Se*=T,S*=T):(Se*=R,S*=R)),Se&&!v&&(v=Se<1?-1:1),S&&!te&&(te=S<1?-1:1),{spinX:v,spinY:te,pixelX:Se,pixelY:S}}z.getEventType=function(){return $.firefox()?"DOMMouseScroll":V("wheel")?"wheel":"mousewheel"},Ie.exports=z},83937:function(Ie,w,_){"use strict";var $,V=_(95318);$={value:!0},$=void 0;var Q=V(_(34575)),T=V(_(2205)),R=V(_(78585)),z=V(_(29754)),E=V(_(89062)),v=V(_(66855));function te(Be){var Ce=Se();return function(){var q=(0,z.default)(Be),M;if(Ce){var O=(0,z.default)(this).constructor;M=Reflect.construct(q,arguments,O)}else M=q.apply(this,arguments);return(0,R.default)(this,M)}}function Se(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Be){return!1}}var S=function(Be){(0,T.default)(fe,Be);var Ce=te(fe);function fe(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=M.autoconnect,K=O===void 0?!0:O,J=M.reconnect,Z=J===void 0?!0:J,N=M.reconnect_interval,ie=N===void 0?1e3:N,X=M.max_reconnects,ue=X===void 0?5:X,ge=arguments.length>2?arguments[2]:void 0;return(0,Q.default)(this,fe),Ce.call(this,E.default,q,{autoconnect:K,reconnect:Z,reconnect_interval:ie,max_reconnects:ue},ge)}return fe}(v.default);$=S},66855:function(Ie,w,_){"use strict";var $=_(48764).Buffer,V=_(95318);Object.defineProperty(w,"__esModule",{value:!0}),w.default=void 0;var Q=V(_(87757)),T=V(_(48926)),R=V(_(50008)),z=V(_(34575)),E=V(_(93913)),v=V(_(2205)),te=V(_(78585)),Se=V(_(29754)),S=_(26729),Be=V(_(37953));function Ce(O){var K=fe();return function(){var Z=(0,Se.default)(O),N;if(K){var ie=(0,Se.default)(this).constructor;N=Reflect.construct(Z,arguments,ie)}else N=Z.apply(this,arguments);return(0,te.default)(this,N)}}function fe(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(O){return!1}}var q=function(O,K){var J={};for(var Z in O)Object.prototype.hasOwnProperty.call(O,Z)&&K.indexOf(Z)<0&&(J[Z]=O[Z]);if(O!=null&&typeof Object.getOwnPropertySymbols=="function")for(var N=0,Z=Object.getOwnPropertySymbols(O);N<Z.length;N++)K.indexOf(Z[N])<0&&Object.prototype.propertyIsEnumerable.call(O,Z[N])&&(J[Z[N]]=O[Z[N]]);return J},M=function(O){(0,v.default)(J,O);var K=Ce(J);function J(Z){var N,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ue=arguments.length>3?arguments[3]:void 0;(0,z.default)(this,J);var ge=X.autoconnect,Ae=ge===void 0?!0:ge,ee=X.reconnect,L=ee===void 0?!0:ee,ae=X.reconnect_interval,re=ae===void 0?1e3:ae,we=X.max_reconnects,Ee=we===void 0?5:we,Oe=q(X,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return N=K.call(this),N.webSocketFactory=Z,N.queue={},N.rpc_id=0,N.address=ie,N.autoconnect=Ae,N.ready=!1,N.reconnect=L,N.reconnect_interval=re,N.max_reconnects=Ee,N.rest_options=Oe,N.current_reconnects=0,N.generate_request_id=ue||function(){return++N.rpc_id},N.autoconnect&&N._connect(N.address,Object.assign({autoconnect:N.autoconnect,reconnect:N.reconnect,reconnect_interval:N.reconnect_interval,max_reconnects:N.max_reconnects},N.rest_options)),N}return(0,E.default)(J,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(N,ie,X,ue){var ge=this;return!ue&&(0,R.default)(X)==="object"&&(ue=X,X=null),new Promise(function(Ae,ee){if(!ge.ready)return ee(new Error("socket not ready"));var L=ge.generate_request_id(N,ie),ae={jsonrpc:"2.0",method:N,params:ie||null,id:L};ge.socket.send(JSON.stringify(ae),ue,function(re){if(re)return ee(re);ge.queue[L]={promise:[Ae,ee]},X&&(ge.queue[L].timeout=setTimeout(function(){delete ge.queue[L],ee(new Error("reply timeout"))},X))})})}},{key:"login",value:function(){var Z=(0,T.default)(Q.default.mark(function ie(X){var ue;return Q.default.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,this.call("rpc.login",X);case 2:if(ue=Ae.sent,ue){Ae.next=5;break}throw new Error("authentication failed");case 5:return Ae.abrupt("return",ue);case 6:case"end":return Ae.stop()}},ie,this)}));function N(ie){return Z.apply(this,arguments)}return N}()},{key:"listMethods",value:function(){var Z=(0,T.default)(Q.default.mark(function ie(){return Q.default.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,this.call("__listMethods");case 2:return ue.abrupt("return",ue.sent);case 3:case"end":return ue.stop()}},ie,this)}));function N(){return Z.apply(this,arguments)}return N}()},{key:"notify",value:function(N,ie){var X=this;return new Promise(function(ue,ge){if(!X.ready)return ge(new Error("socket not ready"));var Ae={jsonrpc:"2.0",method:N,params:ie||null};X.socket.send(JSON.stringify(Ae),function(ee){if(ee)return ge(ee);ue()})})}},{key:"subscribe",value:function(){var Z=(0,T.default)(Q.default.mark(function ie(X){var ue;return Q.default.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return typeof X=="string"&&(X=[X]),Ae.next=3,this.call("rpc.on",X);case 3:if(ue=Ae.sent,!(typeof X=="string"&&ue[X]!=="ok")){Ae.next=6;break}throw new Error("Failed subscribing to an event '"+X+"' with: "+ue[X]);case 6:return Ae.abrupt("return",ue);case 7:case"end":return Ae.stop()}},ie,this)}));function N(ie){return Z.apply(this,arguments)}return N}()},{key:"unsubscribe",value:function(){var Z=(0,T.default)(Q.default.mark(function ie(X){var ue;return Q.default.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return typeof X=="string"&&(X=[X]),Ae.next=3,this.call("rpc.off",X);case 3:if(ue=Ae.sent,!(typeof X=="string"&&ue[X]!=="ok")){Ae.next=6;break}throw new Error("Failed unsubscribing from an event with: "+ue);case 6:return Ae.abrupt("return",ue);case 7:case"end":return Ae.stop()}},ie,this)}));function N(ie){return Z.apply(this,arguments)}return N}()},{key:"close",value:function(N,ie){this.socket.close(N||1e3,ie)}},{key:"_connect",value:function(N,ie){var X=this;this.socket=this.webSocketFactory(N,ie),this.socket.addEventListener("open",function(){X.ready=!0,X.emit("open"),X.current_reconnects=0}),this.socket.addEventListener("message",function(ue){var ge=ue.data;ge instanceof ArrayBuffer&&(ge=$.from(ge).toString());try{ge=Be.default.parse(ge)}catch(L){return}if(ge.notification&&X.listeners(ge.notification).length){if(!Object.keys(ge.params).length)return X.emit(ge.notification);var Ae=[ge.notification];if(ge.params.constructor===Object)Ae.push(ge.params);else for(var ee=0;ee<ge.params.length;ee++)Ae.push(ge.params[ee]);return Promise.resolve().then(function(){X.emit.apply(X,Ae)})}if(!X.queue[ge.id])return ge.method&&ge.params?Promise.resolve().then(function(){X.emit(ge.method,ge.params)}):void 0;"error"in ge=="result"in ge&&X.queue[ge.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),X.queue[ge.id].timeout&&clearTimeout(X.queue[ge.id].timeout),ge.error?X.queue[ge.id].promise[1](ge.error):X.queue[ge.id].promise[0](ge.result),delete X.queue[ge.id]}),this.socket.addEventListener("error",function(ue){return X.emit("error",ue)}),this.socket.addEventListener("close",function(ue){var ge=ue.code,Ae=ue.reason;X.ready&&setTimeout(function(){return X.emit("close",ge,Ae)},0),X.ready=!1,X.socket=void 0,ge!==1e3&&(X.current_reconnects++,X.reconnect&&(X.max_reconnects>X.current_reconnects||X.max_reconnects===0)&&setTimeout(function(){return X._connect(N,ie)},X.reconnect_interval))})}}]),J}(S.EventEmitter);w.default=M},89062:function(Ie,w,_){"use strict";var $=_(95318);Object.defineProperty(w,"__esModule",{value:!0}),w.default=S;var V=$(_(34575)),Q=$(_(93913)),T=$(_(2205)),R=$(_(78585)),z=$(_(29754)),E=_(26729);function v(Be){var Ce=te();return function(){var q=(0,z.default)(Be),M;if(Ce){var O=(0,z.default)(this).constructor;M=Reflect.construct(q,arguments,O)}else M=q.apply(this,arguments);return(0,R.default)(this,M)}}function te(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(Be){return!1}}var Se=function(Be){(0,T.default)(fe,Be);var Ce=v(fe);function fe(q,M,O){var K;return(0,V.default)(this,fe),K=Ce.call(this),K.socket=new window.WebSocket(q,O),K.socket.onopen=function(){return K.emit("open")},K.socket.onmessage=function(J){return K.emit("message",J.data)},K.socket.onerror=function(J){return K.emit("error",J)},K.socket.onclose=function(J){K.emit("close",J.code,J.reason)},K}return(0,Q.default)(fe,[{key:"send",value:function(M,O,K){var J=K||O;try{this.socket.send(M),J()}catch(Z){J(Z)}}},{key:"close",value:function(M,O){this.socket.close(M,O)}},{key:"addEventListener",value:function(M,O,K){this.socket.addEventListener(M,O,K)}}]),fe}(E.EventEmitter);function S(Be,Ce){return new Se(Be,Ce)}},8467:function(Ie,w,_){"use strict";_.r(w),_.d(w,{TextEncoder:function(){return Ce},TextDecoder:function(){return Be}});function $(M,O,K){return O<=M&&M<=K}function V(M){if(M===void 0)return{};if(M===Object(M))return M;throw TypeError("Could not convert argument to dictionary")}function Q(M){for(var O=String(M),K=O.length,J=0,Z=[];J<K;){var N=O.charCodeAt(J);if(N<55296||N>57343)Z.push(N);else if(56320<=N&&N<=57343)Z.push(65533);else if(55296<=N&&N<=56319)if(J===K-1)Z.push(65533);else{var ie=M.charCodeAt(J+1);if(56320<=ie&&ie<=57343){var X=N&1023,ue=ie&1023;Z.push(65536+(X<<10)+ue),J+=1}else Z.push(65533)}J+=1}return Z}function T(M){for(var O="",K=0;K<M.length;++K){var J=M[K];J<=65535?O+=String.fromCharCode(J):(J-=65536,O+=String.fromCharCode((J>>10)+55296,(J&1023)+56320))}return O}var R=-1;function z(M){this.tokens=[].slice.call(M)}z.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():R},prepend:function(M){if(Array.isArray(M))for(var O=M;O.length;)this.tokens.unshift(O.pop());else this.tokens.unshift(M)},push:function(M){if(Array.isArray(M))for(var O=M;O.length;)this.tokens.push(O.shift());else this.tokens.push(M)}};var E=-1;function v(M,O){if(M)throw TypeError("Decoder error");return O||65533}function te(){}te.prototype={handler:function(M,O){}};function Se(){}Se.prototype={handler:function(M,O){}};var S="utf-8";function Be(M,O){if(!(this instanceof Be))return new Be(M,O);if(M=M!==void 0?String(M).toLowerCase():S,M!==S)throw new Error("Encoding not supported. Only utf-8 is supported");O=V(O),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(O.fatal),this._ignoreBOM=Boolean(O.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Be.prototype={decode:function(O,K){var J;typeof O=="object"&&O instanceof ArrayBuffer?J=new Uint8Array(O):typeof O=="object"&&"buffer"in O&&O.buffer instanceof ArrayBuffer?J=new Uint8Array(O.buffer,O.byteOffset,O.byteLength):J=new Uint8Array(0),K=V(K),this._streaming||(this._decoder=new fe({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(K.stream);for(var Z=new z(J),N=[],ie;!Z.endOfStream()&&(ie=this._decoder.handler(Z,Z.read()),ie!==E);)ie!==null&&(Array.isArray(ie)?N.push.apply(N,ie):N.push(ie));if(!this._streaming){do{if(ie=this._decoder.handler(Z,Z.read()),ie===E)break;ie!==null&&(Array.isArray(ie)?N.push.apply(N,ie):N.push(ie))}while(!Z.endOfStream());this._decoder=null}return N.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(N[0]===65279?(this._BOMseen=!0,N.shift()):this._BOMseen=!0),T(N)}};function Ce(M,O){if(!(this instanceof Ce))return new Ce(M,O);if(M=M!==void 0?String(M).toLowerCase():S,M!==S)throw new Error("Encoding not supported. Only utf-8 is supported");O=V(O),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(O.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ce.prototype={encode:function(O,K){O=O?String(O):"",K=V(K),this._streaming||(this._encoder=new q(this._options)),this._streaming=Boolean(K.stream);for(var J=[],Z=new z(Q(O)),N;!Z.endOfStream()&&(N=this._encoder.handler(Z,Z.read()),N!==E);)Array.isArray(N)?J.push.apply(J,N):J.push(N);if(!this._streaming){for(;N=this._encoder.handler(Z,Z.read()),N!==E;)Array.isArray(N)?J.push.apply(J,N):J.push(N);this._encoder=null}return new Uint8Array(J)}};function fe(M){var O=M.fatal,K=0,J=0,Z=0,N=128,ie=191;this.handler=function(X,ue){if(ue===R&&Z!==0)return Z=0,v(O);if(ue===R)return E;if(Z===0){if($(ue,0,127))return ue;if($(ue,194,223))Z=1,K=ue-192;else if($(ue,224,239))ue===224&&(N=160),ue===237&&(ie=159),Z=2,K=ue-224;else if($(ue,240,244))ue===240&&(N=144),ue===244&&(ie=143),Z=3,K=ue-240;else return v(O);return K=K<<6*Z,null}if(!$(ue,N,ie))return K=Z=J=0,N=128,ie=191,X.prepend(ue),v(O);if(N=128,ie=191,J+=1,K+=ue-128<<6*(Z-J),J!==Z)return null;var ge=K;return K=Z=J=0,ge}}function q(M){var O=M.fatal;this.handler=function(K,J){if(J===R)return E;if($(J,0,127))return J;var Z,N;$(J,128,2047)?(Z=1,N=192):$(J,2048,65535)?(Z=2,N=224):$(J,65536,1114111)&&(Z=3,N=240);for(var ie=[(J>>6*Z)+N];Z>0;){var X=J>>6*(Z-1);ie.push(128|X&63),Z-=1}return ie}}}}]);
